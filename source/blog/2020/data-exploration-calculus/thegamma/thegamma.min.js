!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("monaco")):"function"==typeof define&&define.amd?define(["exports","monaco"],t):t(e.thegamma=e.thegamma||{},e.na)}(this,function(exports,monaco$1){"use strict";function unwrapExports(e){return e&&e.__esModule?e.default:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function setType(e,t){fableGlobal.types.set(e,t)}function Option(e){return new NonDeclaredType("Option",null,e)}function FableArray(e,t){void 0===t&&(t=!1);var n=null,i=null;return t?n=e:i=e,new NonDeclaredType("Array",n,i)}function Tuple(e){return new NonDeclaredType("Tuple",null,e)}function GenericParam(e){return new NonDeclaredType("GenericParam",e)}function Interface(e){return new NonDeclaredType("Interface",e)}function makeGeneric(e,t){return new NonDeclaredType("GenericType",e,t)}function hasInterface(e,t){if("System.Collections.Generic.IEnumerable"===t)return"function"==typeof e[Symbol.iterator];if("function"==typeof e[_Symbol.reflection]){var n=e[_Symbol.reflection]().interfaces;return Array.isArray(n)&&n.indexOf(t)>-1}return!1}function getPropertyNames(e){if(null==e)return[];var t="function"==typeof e[_Symbol.reflection]?e[_Symbol.reflection]().properties||[]:e;return Object.getOwnPropertyNames(t)}function getRestParams(e,t){for(var n=e.length,i=Array(n>t?n-t:0),r=t;r<n;r++)i[r-t]=e[r];return i}function toString$2(e){return null!=e&&"function"==typeof e.ToString?e.ToString():String(e)}function equals(e,t){if(e===t)return!0;if(null==e)return null==t;if(null==t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if("function"==typeof e.Equals)return e.Equals(t);if(Array.isArray(e)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!equals(e[n],t[n]))return!1;return!0}if(ArrayBuffer.isView(e)){if(e.byteLength!==t.byteLength)return!1;for(var i=new DataView(e.buffer),r=new DataView(t.buffer),n=0;n<e.byteLength;n++)if(i.getUint8(n)!==r.getUint8(n))return!1;return!0}return e instanceof Date&&e.getTime()==t.getTime()}function compare(e,t){if(e===t)return 0;if(null==e)return null==t?0:-1;if(null==t)return 1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return-1;if("function"==typeof e.CompareTo)return e.CompareTo(t);if(Array.isArray(e)){if(e.length!=t.length)return e.length<t.length?-1:1;for(var n=0,i=0;n<e.length;n++)if(0!==(i=compare(e[n],t[n])))return i;return 0}if(ArrayBuffer.isView(e)){if(e.byteLength!=t.byteLength)return e.byteLength<t.byteLength?-1:1;for(var r=new DataView(e.buffer),o=new DataView(t.buffer),n=0,s=0,a=0;n<e.byteLength;n++){if(s=r.getUint8(n),a=o.getUint8(n),s<a)return-1;if(s>a)return 1}return 0}return e instanceof Date?compare(e.getTime(),t.getTime()):e<t?-1:1}function equalsRecords(e,t){if(e===t)return!0;for(var n=getPropertyNames(e),i=0;i<n.length;i++)if(!equals(e[n[i]],t[n[i]]))return!1;return!0}function compareRecords(e,t){if(e===t)return 0;for(var n=getPropertyNames(e),i=0;i<n.length;i++){var r=compare(e[n[i]],t[n[i]]);if(0!==r)return r}return 0}function equalsUnions(e,t){if(e===t)return!0;if(e.Case!==t.Case)return!1;for(var n=0;n<e.Fields.length;n++)if(!equals(e.Fields[n],t.Fields[n]))return!1;return!0}function compareUnions(e,t){if(e===t)return 0;var n=compare(e.Case,t.Case);if(0!==n)return n;for(var i=0;i<e.Fields.length;i++)if(0!==(n=compare(e.Fields[i],t.Fields[i])))return n;return 0}function createDisposable(e){return t={Dispose:e},t[_Symbol.reflection]=function(){return{interfaces:["System.IDisposable"]}},t;var t}function createObj(e){for(var t=e[Symbol.iterator](),n=t.next(),i={};!n.done;)i[n.value[0]]=n.value[1],n=t.next();return i}function round(e,t){void 0===t&&(t=0);var n=Math.pow(10,t),i=+(t?e*n:e).toFixed(8),r=Math.floor(i),o=i-r,s=o>.5-1e-8&&o<.5+1e-8?r%2==0?r:r+1:Math.round(i);return t?s/n:s}function randomNext(e,t){return Math.floor(Math.random()*(t-e))+e}function defaultArg(e,t,n){return null==e?t:null!=n?n(e):e}function addRangeInPlace(e,t){for(var n=e[Symbol.iterator](),i=n.next();!i.done;)t.push(i.value),i=n.next()}function unzip(e){for(var t=new Array(e.length),n=new Array(e.length),i=0;i<e.length;i++)t[i]=e[i][0],n[i]=e[i][1];return[t,n]}function ofArray$1(e,t){for(var n=t||new List$1,i=e.length-1;i>=0;i--)n=new List$1(e[i],n);return n}function __failIfNone(e){if(null==e)throw new Error("Seq did not contain any matching element");return e}function toList(e){return foldBack(function(e,t){return new List$1(e,t)},e,new List$1)}function ofArray$$1(e){return delay(function(){return unfold(function(t){return t<e.length?[e[t],t+1]:null},0)})}function append(e,t){return delay(function(){var n=!1,i=e[Symbol.iterator](),r=[i,null];return unfold(function(){var e;if(!n){if(e=r[0].next(),!e.done)return[e.value,r];n=!0,r=[null,t[Symbol.iterator]()]}return e=r[1].next(),e.done?null:[e.value,r]},r)})}function averageBy(e,t){var n=1;return reduce(function(t,i){return n++,(2===n?e(t):t)+e(i)},t)/n}function concat(e){return delay(function(){var t=e[Symbol.iterator](),n={value:null};return unfold(function(e){for(var i=!1;!i;)if(null==e){var r=t.next();r.done?i=!0:e=r.value[Symbol.iterator]()}else{var r=e.next();r.done?e=null:(n={value:r.value},i=!0)}return null!=e&&null!=n?[n.value,e]:null},null)})}function collect(e,t){return concat(map$3(e,t))}function choose(e,t){var n=function(t){var i=t.next();if(!i.done){var r=e(i.value);return null!=r?[r,t]:n(t)}};return delay(function(){return unfold(function(e){return n(e)},t[Symbol.iterator]())})}function compareWith(e,t,n){var i=tryFind(function(e){return 0!=e},map2(function(t,n){return e(t,n)},t,n));return null!=i?i:count(t)-count(n)}function delay(e){return t={},t[Symbol.iterator]=function(){return e()[Symbol.iterator]()},t;var t}function empty(){return unfold(function(){})}function enumerateWhile(e,t){return concat(unfold(function(){return e()?[t,!0]:null}))}function exists(e,t){function n(t){var i=t.next();return!i.done&&(e(i.value)||n(t))}return n(t[Symbol.iterator]())}function filter(e,t){function n(t){for(var n=t.next();!n.done;){if(e(n.value))return[n.value,t];n=t.next()}}return delay(function(){return unfold(n,t[Symbol.iterator]())})}function fold(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);for(var i=void 0,r=0,o=n[Symbol.iterator]();i=o.next(),!i.done;r++)t=e(t,i.value,r);return t}function foldBack(e,t,n){for(var i=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),r=i.length-1;r>=0;r--)n=e(i[r],n,r);return n}function forAll(e,t){return fold(function(t,n){return t&&e(n)},!0,t)}function tryHead(e){var t=e[Symbol.iterator](),n=t.next();return n.done?null:n.value}function head(e){return __failIfNone(tryHead(e))}function initialize(e,t){return delay(function(){return unfold(function(n){return n<e?[t(n),n+1]:null},0)})}function tryItem(e,t){if(e<0)return null;if(Array.isArray(t)||ArrayBuffer.isView(t))return e<t.length?t[e]:null;for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)return null;if(n===e)return r.value}}function iterate(e,t){fold(function(t,n){return e(n)},null,t)}function iterateIndexed(e,t){fold(function(t,n,i){return e(i,n)},null,t)}function isEmpty(e){return e[Symbol.iterator]().next().done}function tryLast(e){try{return reduce(function(e,t){return t},e)}catch(e){return null}}function last(e){return __failIfNone(tryLast(e))}function count(e){return Array.isArray(e)||ArrayBuffer.isView(e)?e.length:fold(function(e,t){return e+1},0,e)}function map$3(e,t){return delay(function(){return unfold(function(t){var n=t.next();return n.done?null:[e(n.value),t]},t[Symbol.iterator]())})}function mapIndexed(e,t){return delay(function(){var n=0;return unfold(function(t){var i=t.next();return i.done?null:[e(n++,i.value),t]},t[Symbol.iterator]())})}function map2(e,t,n){return delay(function(){var i=t[Symbol.iterator](),r=n[Symbol.iterator]();return unfold(function(){var t=i.next(),n=r.next();return t.done||n.done?null:[e(t.value,n.value),null]})})}function max$1(e){return reduce(function(e,t){return 1===compare(e,t)?e:t},e)}function maxBy(e,t){return reduce(function(t,n){return 1===compare(e(t),e(n))?t:n},t)}function min$2(e){return reduce(function(e,t){return-1===compare(e,t)?e:t},e)}function minBy(e,t){return reduce(function(t,n){return-1===compare(e(t),e(n))?t:n},t)}function pairwise(e){return skip(2,scan(function(e,t){return[e[1],t]},[0,0],e))}function rangeStep(e,t,n){if(0===t)throw new Error("Step cannot be 0");return delay(function(){return unfold(function(e){return t>0&&e<=n||t<0&&e>=n?[e,e+t]:null},e)})}function rangeChar(e,t){return delay(function(){return unfold(function(e){return e<=t?[e,String.fromCharCode(e.charCodeAt(0)+1)]:null},e)})}function range(e,t){return rangeStep(e,1,t)}function reduce(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);var n=t[Symbol.iterator](),i=n.next();if(i.done)throw new Error("Seq was empty");for(var r=i.value;i=n.next(),!i.done;)r=e(r,i.value);return r}function reverse(e){return ofArray$$1((Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):Array.from(e)).reverse())}function scan(e,t,n){return delay(function(){var i=n[Symbol.iterator]();return unfold(function(n){if(null==n)return[t,t];var r=i.next();return r.done?void 0:(n=e(n,r.value),[n,n])},null)})}function singleton(e){return unfold(function(e){return null!=e?[e,null]:null},e)}function skip(e,t){return n={},n[Symbol.iterator]=function(){for(var n=t[Symbol.iterator](),i=1;i<=e;i++)if(n.next().done)throw new Error("Seq has not enough elements");return n},n;var n}function skipWhile(e,t){return delay(function(){var n=!1;return filter(function(t){return n||(n=!e(t))},t)})}function sortWith(e,t){return ofArray$$1(Array.from(t).sort(e))}function sumBy(e,t){return fold(function(t,n){return t+e(n)},0,t)}function take(e,t,n){return void 0===n&&(n=!1),delay(function(){var i=t[Symbol.iterator]();return unfold(function(t){if(t<e){var r=i.next();if(!r.done)return[r.value,t+1];if(!n)throw new Error("Seq has not enough elements")}},0)})}function truncate(e,t){return take(e,t,!0)}function takeWhile(e,t){return delay(function(){var n=t[Symbol.iterator]();return unfold(function(t){var i=n.next();if(!i.done&&e(i.value))return[i.value,null]},0)})}function tryFind(e,t,n){for(var i=0,r=t[Symbol.iterator]();;i++){var o=r.next();if(o.done)return void 0===n?null:n;if(e(o.value,i))return o.value}}function find(e,t){return __failIfNone(tryFind(e,t))}function tryFindIndex(e,t){for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)return null;if(e(r.value,n))return n}}function tryPick(e,t){for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)break;var o=e(r.value,n);if(null!=o)return o}}function pick(e,t){return __failIfNone(tryPick(e,t))}function unfold(e,t){return n={},n[Symbol.iterator]=function(){return{next:function(){var n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}},n;var n}function zip(e,t){return map2(function(e,t){return[e,t]},e,t)}function escape(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function isLong(e){return e&&e instanceof Long}function fromInt(e,t){void 0===t&&(t=!1);var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=UINT_CACHE[e])?i:(n=fromBits(e,(0|e)<0?-1:0,!0),r&&(UINT_CACHE[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=INT_CACHE[e])?i:(n=fromBits(e,e<0?-1:0,!1),r&&(INT_CACHE[e]=n),n))}function fromNumber(e,t){if(void 0===t&&(t=!1),isNaN(e)||!isFinite(e))return t?UZERO:ZERO;if(t){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-TWO_PWR_63_DBL)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE}return e<0?fromNumber(-e,t).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,t)}function fromBits(e,t,n){return new Long(e,t,n)}function fromString(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=10),0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return ZERO;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var i=e.indexOf("-");if(i>0)throw Error("interior hyphen");if(0===i)return fromString(e.substring(1),t,n).neg();for(var r=fromNumber(pow_dbl(n,8)),o=ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+a),n);if(a<8){var u=fromNumber(pow_dbl(n,a));o=o.mul(u).add(fromNumber(l))}else o=o.mul(r),o=o.add(fromNumber(l))}return o.unsigned=t,o}function fromValue(e){return e instanceof Long?e:"number"==typeof e?fromNumber(e):"string"==typeof e?fromString(e):fromBits(e.low,e.high,e.unsigned)}function totalDays(e){return e/864e5}function parse(e,t){null==t&&(t="string"==typeof e&&"Z"==e.slice(-1)?1:2);var n=null==e?new Date:new Date(e);if(2===t&&(n.kind=t),isNaN(n.getTime()))throw new Error("The string is not a valid Date.");return n}function create$3(e,t,n,i,r,o,s,a){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=2);var l;if(2===a?(l=new Date(e,t-1,n,i,r,o,s),l.kind=a):l=new Date(Date.UTC(e,t-1,n,i,r,o,s)),isNaN(l.getTime()))throw new Error("The parameters describe an unrepresentable Date.");return l}function now(){return parse()}function hour(e){return 2===e.kind?e.getHours():e.getUTCHours()}function millisecond(e){return 2===e.kind?e.getMilliseconds():e.getUTCMilliseconds()}function minute(e){return 2===e.kind?e.getMinutes():e.getUTCMinutes()}function second(e){return 2===e.kind?e.getSeconds():e.getUTCSeconds()}function subtract$$1(e,t){return"number"==typeof t?parse(e.getTime()-t,e.kind||1):e.getTime()-t.getTime()}function op_Subtraction(e,t){return subtract$$1(e,t)}function toHex(e){return e<0?"ff"+(16777215-(Math.abs(e)-1)).toString(16):e.toString(16)}function fsFormat(e){function t(e){return!(null===e||"object"!=typeof e||e instanceof Number||e instanceof String||e instanceof Boolean)}function n(e,n){return e.replace(fsFormatRegExp,function(e,i,r,o,s,a){switch(a){case"f":case"F":n=n.toFixed(s||6);break;case"g":case"G":n=n.toPrecision(s);break;case"e":case"E":n=n.toExponential(s);break;case"O":n=toString$2(n);break;case"A":try{n=JSON.stringify(n,function(e,n){return n&&n[Symbol.iterator]&&!Array.isArray(n)&&t(n)?Array.from(n):n&&"function"==typeof n.ToString?toString$2(n):n})}catch(e){n="{"+Object.getOwnPropertyNames(n).map(function(e){return e+": "+String(n[e])}).join(", ")+"}"}break;case"x":n=toHex(Number(n));break;case"X":n=toHex(Number(n)).toUpperCase()}var l=r.indexOf("+")>=0&&parseInt(n)>=0;if(!isNaN(o=parseInt(o))){var u=o>=0&&r.indexOf("0")>=0?"0":" ";n=padLeft(n,Math.abs(o)-(l?1:0),u,o<0)}return(i+(l?"+"+n:n)).replace(/%/g,"%%")})}function i(e){return function(t){var r=n(e,t);return fsFormatRegExp.test(r)?i(r):s(r.replace(/%%/g,"%"))}}for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s;if(0===r.length)return function(t){return s=t,fsFormatRegExp.test(e)?i(e):s(e)};for(var a=0;a<r.length;a++)e=n(e,r[a]);return e.replace(/%%/g,"%")}function endsWith(e,t){var n=e.lastIndexOf(t);return n>=0&&n==e.length-t.length}function insert(e,t,n){if(t<0||t>e.length)throw new Error("startIndex is negative or greater than the length of this instance.");return e.substring(0,t)+n+e.substring(t)}function isNullOrEmpty(e){return"string"!=typeof e||0==e.length}function isNullOrWhiteSpace(e){return"string"!=typeof e||/^\s*$/.test(e)}function join(e,t){return t="string"==typeof t?getRestParams(arguments,1):t,(Array.isArray(t)?t:Array.from(t)).join(e)}function newGuid(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e}function padLeft(e,t,n,i){n=n||" ",e=String(e),t-=e.length;for(var r=-1;++r<t;)e=i?e+n:n+e;return e}function replace$$1(e,t,n){return e.replace(new RegExp(escape(t),"g"),n)}function split$$1(e,t,n,i){if(n="number"==typeof n?n:null,i="number"==typeof i?i:null,n<0)throw new Error("Count cannot be less than zero");if(0===n)return[];t=Array.isArray(t)?t:getRestParams(arguments,1),t=t.map(function(e){return escape(e)}),t=t.length>0?t:[" "];for(var r,o=0,s=[],a=new RegExp(t.join("|"),"g");(null==n||n>1)&&null!==(r=a.exec(e));)(!i||r.index-o>0)&&(n=null!=n?n-1:n,s.push(e.substring(o,r.index))),o=a.lastIndex;return(!i||e.length-o>0)&&s.push(e.substring(o)),s}function trim(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if("both"==t&&0==n.length)return e.trim();if("start"==t||"both"==t){var r=0==n.length?/^\s+/:new RegExp("^["+escape(n.join(""))+"]+");e=e.replace(r,"")}if("end"==t||"both"==t){var r=0==n.length?/\s+$/:new RegExp("["+escape(n.join(""))+"]+$");e=e.replace(r,"")}return e}function groupBy$1(e,t){for(var n=[],i=t[Symbol.iterator](),r=create$6(),o=i.next();!o.done;){var s=e(o.value),a=tryFind$1(s,r);null==a?(n.push(s),r=add$3(s,[o.value],r)):a.push(o.value),o=i.next()}return n.map(function(e){return[e,r.get(e)]})}function countBy(e,t){return groupBy$1(e,t).map(function(e){return[e[0],e[1].length]})}function tree_sizeAux(e,t){return"MapOne"===t.Case?e+1:"MapNode"===t.Case?tree_sizeAux(tree_sizeAux(e+1,t.Fields[2]),t.Fields[3]):e}function tree_size(e){return tree_sizeAux(0,e)}function tree_empty(){return new MapTree("MapEmpty",[])}function tree_height$1(e){return"MapOne"===e.Case?1:"MapNode"===e.Case?e.Fields[4]:0}function tree_mk$1(e,t,n,i){var r=[e,i],o=function(){var r=tree_height$1(e),o=tree_height$1(i);return new MapTree("MapNode",[t,n,e,i,(r<o?o:r)+1])};return"MapEmpty"===r[0].Case&&"MapEmpty"===r[1].Case?new MapTree("MapOne",[t,n]):o()}function tree_rebalance$1(e,t,n,i){var r=tree_height$1(e),o=tree_height$1(i);if(o>r+2){if("MapNode"===i.Case){if(tree_height$1(i.Fields[2])>r+1){if("MapNode"===i.Fields[2].Case)return tree_mk$1(tree_mk$1(e,t,n,i.Fields[2].Fields[2]),i.Fields[2].Fields[0],i.Fields[2].Fields[1],tree_mk$1(i.Fields[2].Fields[3],i.Fields[0],i.Fields[1],i.Fields[3]));throw new Error("rebalance")}return tree_mk$1(tree_mk$1(e,t,n,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3])}throw new Error("rebalance")}if(r>o+2){if("MapNode"===e.Case){if(tree_height$1(e.Fields[3])>o+1){if("MapNode"===e.Fields[3].Case)return tree_mk$1(tree_mk$1(e.Fields[2],e.Fields[0],e.Fields[1],e.Fields[3].Fields[2]),e.Fields[3].Fields[0],e.Fields[3].Fields[1],tree_mk$1(e.Fields[3].Fields[3],t,n,i));throw new Error("rebalance")}return tree_mk$1(e.Fields[2],e.Fields[0],e.Fields[1],tree_mk$1(e.Fields[3],t,n,i))}throw new Error("rebalance")}return tree_mk$1(e,t,n,i)}function tree_add$1(e,t,n,i){if("MapOne"===i.Case){var r=e.Compare(t,i.Fields[0]);return r<0?new MapTree("MapNode",[t,n,new MapTree("MapEmpty",[]),i,2]):0===r?new MapTree("MapOne",[t,n]):new MapTree("MapNode",[t,n,i,new MapTree("MapEmpty",[]),2])}if("MapNode"===i.Case){var r=e.Compare(t,i.Fields[0]);return r<0?tree_rebalance$1(tree_add$1(e,t,n,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3]):0===r?new MapTree("MapNode",[t,n,i.Fields[2],i.Fields[3],i.Fields[4]]):tree_rebalance$1(i.Fields[2],i.Fields[0],i.Fields[1],tree_add$1(e,t,n,i.Fields[3]))}return new MapTree("MapOne",[t,n])}function tree_find(e,t,n){var i=tree_tryFind(e,t,n);if(null!=i)return i;throw new Error("key not found")}function tree_tryFind(e,t,n){if("MapOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return 0===i?n.Fields[1]:null}if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_tryFind(e,t,n.Fields[2]):0===i?n.Fields[1]:tree_tryFind(e,t,n.Fields[3])}return null}function tree_filter1(e,t,n,i,r){return t(n,i)?tree_add$1(e,n,i,r):r}function tree_filterAux$1(e,t,n,i){return"MapOne"===n.Case?tree_filter1(e,t,n.Fields[0],n.Fields[1],i):"MapNode"===n.Case?tree_filterAux$1(e,t,n.Fields[3],tree_filter1(e,t,n.Fields[0],n.Fields[1],tree_filterAux$1(e,t,n.Fields[2],i))):i}function tree_filter$1(e,t,n){return tree_filterAux$1(e,t,n,tree_empty())}function tree_mem$1(e,t,n){if("MapOne"===n.Case)return 0===e.Compare(t,n.Fields[0]);if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_mem$1(e,t,n.Fields[2]):0===i||tree_mem$1(e,t,n.Fields[3])}return!1}function tree_mkFromEnumerator$1(e,t,n){for(var i=n.next();!i.done;)t=tree_add$1(e,i.value[0],i.value[1],t),i=n.next();return t}function tree_ofSeq$1(e,t){var n=t[Symbol.iterator]();return tree_mkFromEnumerator$1(e,tree_empty(),n)}function tree_collapseLHS$1(e){return null!=e.tail?"MapOne"===e.head.Case?e:tree_collapseLHS$1("MapNode"===e.head.Case?ofArray$1([e.head.Fields[2],new MapTree("MapOne",[e.head.Fields[0],e.head.Fields[1]]),e.head.Fields[3]],e.tail):e.tail):new List$1}function tree_mkIterator$1(e){return{stack:tree_collapseLHS$1(new List$1(e,new List$1)),started:!1}}function tree_moveNext$1(e){function t(e){if(null==e.stack.tail)return null;if("MapOne"===e.stack.head.Case)return[e.stack.head.Fields[0],e.stack.head.Fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}if(e.started){if(null==e.stack.tail)return{done:!0,value:null};if("MapOne"===e.stack.head.Case)return e.stack=tree_collapseLHS$1(e.stack.tail),{done:null==e.stack.tail,value:t(e)};throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,{done:null==e.stack.tail,value:t(e)}}function from$5(e,t){var n=new FableMap;return n.tree=t,n.comparer=e||new GenericComparer,n}function create$6(e,t){return t=t||new GenericComparer,from$5(t,e?tree_ofSeq$1(t,e):tree_empty())}function add$3(e,t,n){return from$5(n.comparer,tree_add$1(n.comparer,e,t,n.tree))}function tryGetValue(e,t,n){return e.has(t)?[!0,e.get(t)]:[!1,n]}function tryFind$1(e,t){return tree_tryFind(t.comparer,e,t.tree)}function filter$3(e,t){return from$5(t.comparer,tree_filter$1(t.comparer,e,t.tree))}function append$1(e,t){return fold(function(e,t){return new List$1(t,e)},t,reverse$1(e))}function choose$1(e,t){return reverse$1(fold(function(t,n){var i=e(n);return null!=i?new List$1(i,t):t},new List$1,t))}function collect$1(e,t){return fold(function(t,n){return append$1(t,e(n))},new List$1,t)}function concat$1(e){return collect$1(function(e){return e},e)}function filter$2(e,t){return reverse$1(fold(function(t,n){return e(n)?new List$1(n,t):t},new List$1,t))}function initialize$2(e,t){if(e<0)throw new Error("List length must be non-negative");for(var n=new List$1,i=1;i<=e;i++)n=new List$1(t(e-i),n);return n}function map$5(e,t){return reverse$1(fold(function(t,n){return new List$1(e(n),t)},new List$1,t))}function mapIndexed$1(e,t){return reverse$1(fold(function(t,n,i){return new List$1(e(i,n),t)},new List$1,t))}function reverse$1(e){return fold(function(e,t){return new List$1(t,e)},new List$1,e)}function distinctBy(e,t){return choose(function(e){return e[0]},scan(function(t,n){var i=t[1],r=e(n);return i.has(r)?[null,i]:[n,add$2(r,i)]},[null,create$5()],t))}function distinct(e){return distinctBy(function(e){return e},e)}function tree_countAux(e,t){return"SetOne"===e.Case?t+1:"SetEmpty"===e.Case?t:tree_countAux(e.Fields[1],tree_countAux(e.Fields[2],t+1))}function tree_count(e){return tree_countAux(e,0)}function tree_SetOne(e){return new SetTree("SetOne",[e])}function tree_SetNode(e,t,n,i){return new SetTree("SetNode",[e,t,n,i])}function tree_height(e){return"SetOne"===e.Case?1:"SetNode"===e.Case?e.Fields[3]:0}function tree_mk(e,t,n){var i=[e,n],r=function(){var i=tree_height(e),r=tree_height(n);return tree_SetNode(t,e,n,(i<r?r:i)+1)};return"SetEmpty"===i[0].Case&&"SetEmpty"===i[1].Case?tree_SetOne(t):r()}function tree_rebalance(e,t,n){var i=tree_height(e),r=tree_height(n);if(r>i+tree_tolerance){if("SetNode"===n.Case){if(tree_height(n.Fields[1])>i+1){if("SetNode"===n.Fields[1].Case)return tree_mk(tree_mk(e,t,n.Fields[1].Fields[1]),n.Fields[1].Fields[0],tree_mk(n.Fields[1].Fields[2],n.Fields[0],n.Fields[2]));throw new Error("rebalance")}return tree_mk(tree_mk(e,t,n.Fields[1]),n.Fields[0],n.Fields[2])}throw new Error("rebalance")}if(i>r+tree_tolerance){if("SetNode"===e.Case){if(tree_height(e.Fields[2])>r+1){if("SetNode"===e.Fields[2].Case)return tree_mk(tree_mk(e.Fields[1],e.Fields[0],e.Fields[2].Fields[1]),e.Fields[2].Fields[0],tree_mk(e.Fields[2].Fields[2],t,n));throw new Error("rebalance")}return tree_mk(e.Fields[1],e.Fields[0],tree_mk(e.Fields[2],t,n))}throw new Error("rebalance")}return tree_mk(e,t,n)}function tree_add(e,t,n){if("SetOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_SetNode(t,new SetTree("SetEmpty",[]),n,2):0===i?n:tree_SetNode(t,n,new SetTree("SetEmpty",[]),2)}if("SetEmpty"===n.Case)return tree_SetOne(t);var i=e.Compare(t,n.Fields[0]);return i<0?tree_rebalance(tree_add(e,t,n.Fields[1]),n.Fields[0],n.Fields[2]):0===i?n:tree_rebalance(n.Fields[1],n.Fields[0],tree_add(e,t,n.Fields[2]))}function tree_mem(e,t,n){if("SetOne"===n.Case)return 0===e.Compare(t,n.Fields[0]);if("SetEmpty"===n.Case)return!1;var i=e.Compare(t,n.Fields[0]);return i<0?tree_mem(e,t,n.Fields[1]):0===i||tree_mem(e,t,n.Fields[2])}function tree_collapseLHS(e){return null!=e.tail?"SetOne"===e.head.Case?e:tree_collapseLHS("SetNode"===e.head.Case?ofArray$1([e.head.Fields[1],tree_SetOne(e.head.Fields[0]),e.head.Fields[2]],e.tail):e.tail):new List$1}function tree_mkIterator(e){return{stack:tree_collapseLHS(new List$1(e,new List$1)),started:!1}}function tree_moveNext(e){function t(e){if(null==e.stack.tail)return null;if("SetOne"===e.stack.head.Case)return e.stack.head.Fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}if(e.started){if(null==e.stack.tail)return{done:!0,value:null};if("SetOne"===e.stack.head.Case)return e.stack=tree_collapseLHS(e.stack.tail),{done:null==e.stack.tail,value:t(e)};throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,{done:null==e.stack.tail,value:t(e)}}function tree_compareStacks(e,t,n){var i=function(t,i){return tree_compareStacks(e,ofArray$1([new SetTree("SetEmpty",[]),tree_SetOne(t)],i),n)},r=function(t,i,r,o){return tree_compareStacks(e,ofArray$1([i,tree_SetNode(t,new SetTree("SetEmpty",[]),r,0)],o),n)},o=function(n,i,r,o){return tree_compareStacks(e,t,ofArray$1([i,tree_SetNode(n,new SetTree("SetEmpty",[]),r,0)],o))};if(null!=t.tail){if(null!=n.tail){if("SetOne"===n.head.Case){if("SetOne"===t.head.Case){var s=t.head.Fields[0],a=n.head.Fields[0],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,l,u)}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var p=t.head.Fields[1],s=t.head.Fields[0],h=t.head.Fields[2],a=n.head.Fields[0],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,ofArray$1([h],l),ofArray$1([p],u))}return r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}var a=n.head.Fields[0],u=n.tail;return tree_compareStacks(e,t,ofArray$1([new SetTree("SetEmpty",[]),tree_SetOne(a)],u))}if("SetNode"===n.head.Case){if("SetEmpty"===n.head.Fields[1].Case){if("SetOne"===t.head.Case){var s=t.head.Fields[0],a=n.head.Fields[0],d=n.head.Fields[2],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,ofArray$1([new SetTree("SetEmpty",[])],l),ofArray$1([d],u))}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var s=t.head.Fields[0],h=t.head.Fields[2],a=n.head.Fields[0],d=n.head.Fields[2],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,ofArray$1([h],l),ofArray$1([d],u))}return r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}return o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):tree_compareStacks(e,t.tail,n.tail)}return 1}return null!=n.tail?-1:0}function tree_compare(e,t,n){return"SetEmpty"===t.Case?"SetEmpty"===n.Case?0:-1:"SetEmpty"===n.Case?1:tree_compareStacks(e,ofArray$1([t]),ofArray$1([n]))}function tree_mkFromEnumerator(e,t,n){for(var i=n.next();!i.done;)t=tree_add(e,i.value,t),i=n.next();return t}function tree_ofSeq(e,t){var n=t[Symbol.iterator]();return tree_mkFromEnumerator(e,new SetTree("SetEmpty",[]),n)}function from$4(e,t){var n=new FableSet;return n.tree=t,n.comparer=e||new GenericComparer,n}function create$5(e,t){return t=t||new GenericComparer,from$4(t,e?tree_ofSeq(t,e):new SetTree("SetEmpty",[]))}function add$2(e,t){return from$4(t.comparer,tree_add(t.comparer,e,t.tree))}function protectedCont(e){return function(t){if(t.cancelToken.isCancelled)t.onCancel("cancelled");else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(function(){try{e(t)}catch(e){t.onError(e)}});else try{e(t)}catch(e){t.onError(e)}}}function protectedBind(e,t){return protectedCont(function(n){e({onSuccess:function(e){try{t(e)(n)}catch(e){n.onError(e)}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function protectedReturn(e){return protectedCont(function(t){return t.onSuccess(e)})}function emptyContinuation(e){}function awaitPromise(e){return fromContinuations(function(t){return e.then(t[0]).catch(function(e){return("cancelled"==e?t[2]:t[1])(e)})})}function fromContinuations(e){return protectedCont(function(t){return e([t.onSuccess,t.onError,t.onCancel])})}function parallel(e){return awaitPromise(Promise.all(map$3(function(e){return startAsPromise(e)},e)))}function sleep(e){return protectedCont(function(t){setTimeout(function(){return t.cancelToken.isCancelled?t.onCancel("cancelled"):t.onSuccess(void 0)},e)})}function start(e,t){return startWithContinuations(e,t)}function startImmediate(e,t){return start(e,t)}function startWithContinuations(e,t,n,i,r){"function"!=typeof t&&(r=t,t=null);var o=new Trampoline;e({onSuccess:t||emptyContinuation,onError:n||emptyContinuation,onCancel:i||emptyContinuation,cancelToken:r||defaultCancellationToken,trampoline:o})}function startAsPromise(e,t){return new Promise(function(n,i){return startWithContinuations(e,n,i,i,t||defaultCancellationToken)})}function niceNumber(e,t){var n=toString$2(e),i=n.indexOf("."),r=-1===i?[n,""]:[n.substr(0,i),n.substr(i+1,t<n.length-i-1?t:n.length-i-1)],o=r[1].length<t?r[1]+_Array$from(delay(function(){return map$3(function(e){return"0"},range(1,t-r[1].length))})).join(""):r[1],s=r[0];if(r[0].length>5){var a=rangeStep(r[0].length-1,-1,0),l=!0,u=!1,c=void 0;try{for(var p,h=_getIterator(a);!(l=(p=h.next()).done);l=!0){var d=p.value,f=r[0].length-d;0!==d&&f%3==0&&(s=insert(s,d,","))}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}return forAll(function(){return function(e){return"0"===e}}(),o)?s:s+"."+o}function isLocalHost(){return"undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}function Async_AwaitFuture_Static(e){return fromContinuations(function(t){e.Then(t[0])})}function Async_Future_Static(e,t,n){var i=new Choice("Choice1Of3",[null]),r=new List$1,o=!1,s=function(e){if("Choice2Of3"===i.Case){e(i.Fields[0])}else{if("Choice3Of3"===i.Case){throw i.Fields[0]}r=new List$1(e,r)}},a=function(){o||(iterate(function(e){Log.trace("system","Starting future '%s'....",e)},defaultArg(e,[],function(e){return[e]})),o=!0,function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Combine(n.TryWith(n.Delay(function(){return n.Bind(t,function(t){return iterate(function(e){Log.trace("system","Future '%s' evaluated to: %O",e,t)},defaultArg(e,[],function(e){return[e]})),i=new Choice("Choice2Of3",[t]),n.Zero()})}),function(e){return Log.exn("system","Evaluating future failed: %O",e),i=new Choice("Choice3Of3",[e]),n.Zero()}),n.Delay(function(){return n.For(r,function(e){return s(e),n.Zero()})}))})}(singleton$2)))};return!0===n&&a(),_defineProperty({Then:function(e){a(),s(e)}},_Symbol.reflection,function(){return{interfaces:["TheGamma.Common.Future"]}})}function Async_StartAsFuture_Static(e){return function(e){return function(e){return function(t){return Async_Future_Static(null,e,t)}}}()(e)(!0)}function Async_CreateNamedFuture_Static(e,t){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}
}(e)(t)(!1)}function Async_StartAsNamedFuture_Static(e,t){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}(e)(t)(!0)}function convertTupleSequence(e,t,n){return function(i){return i.Delay(function(){return i.Bind(n,function(n){return i.Return(n.map(function(n){return[e(n[0]),t(n[1])]}))})})}(singleton$2)}function convertSequence(e,t){return function(n){return n.Delay(function(){return n.Bind(t,function(t){return n.Return(function(t){return _Array$from(map$3(e,t))}(t))})})}(singleton$2)}function trimLeft(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split(""))).join("")}function trimRight(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split("").slice().reverse())).slice().reverse().join("")}function concatUrl(e,t){return trimRight("/",e)+"/"+trimLeft("/",t)}function GeoChartOptions_get_empty_Static(){return new GeoChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ScatterChartOptions_get_empty_Static(){return new ScatterChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ColumnChartOptions_get_empty_Static(){return new ColumnChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function LineChartOptions_get_empty_Static(){return new LineChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function BarChartOptions_get_empty_Static(){return new BarChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function AreaChartOptions_get_empty_Static(){return new AreaChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function PieChartOptions_get_empty_Static(){return new PieChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function isArray$4(e){return"[object Array]"===toString$3.call(e)}function VirtualPatch(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}function isVirtualNode(e){return e&&"VirtualNode"===e.type&&e.version===version$4}function isVirtualText(e){return e&&"VirtualText"===e.type&&e.version===version$5}function isWidget$1(e){return e&&"Widget"===e.type}function isThunk$1(e){return e&&"Thunk"===e.type}function handleThunk$1(e,t){var n=e,i=t;return isThunk$2(t)&&(i=renderThunk(t,e)),isThunk$2(e)&&(n=renderThunk(e,null)),{a:n,b:i}}function renderThunk(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(isVNode$1(n)||isVText$1(n)||isWidget$2(n)))throw new Error("thunk did not return a valid node");return n}function isHook$1(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}function diffProps$1(e,t){var n;for(var i in e){i in t||(n=n||{},n[i]=void 0);var r=e[i],o=t[i];if(r!==o)if(isObject$6(r)&&isObject$6(o))if(getPrototype(o)!==getPrototype(r))n=n||{},n[i]=o;else if(isHook(o))n=n||{},n[i]=o;else{var s=diffProps$1(r,o);s&&(n=n||{},n[i]=s)}else n=n||{},n[i]=o}for(var a in t)a in e||(n=n||{},n[a]=t[a]);return n}function getPrototype(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function diff$2(e,t){var n={a:e};return walk(e,t,n,0),n}function walk(e,t,n,i){if(e!==t){var r=n[i],o=!1;if(isThunk(e)||isThunk(t))thunks(e,t,n,i);else if(null==t)isWidget(e)||(clearState(e,n,i),r=n[i]),r=appendPatch(r,new VPatch(VPatch.REMOVE,e,t));else if(isVNode(t))if(isVNode(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var s=diffProps(e.properties,t.properties);s&&(r=appendPatch(r,new VPatch(VPatch.PROPS,e,s))),r=diffChildren(e,t,n,r,i)}else r=appendPatch(r,new VPatch(VPatch.VNODE,e,t)),o=!0;else r=appendPatch(r,new VPatch(VPatch.VNODE,e,t)),o=!0;else isVText(t)?isVText(e)?e.text!==t.text&&(r=appendPatch(r,new VPatch(VPatch.VTEXT,e,t))):(r=appendPatch(r,new VPatch(VPatch.VTEXT,e,t)),o=!0):isWidget(t)&&(isWidget(e)||(o=!0),r=appendPatch(r,new VPatch(VPatch.WIDGET,e,t)));r&&(n[i]=r),o&&clearState(e,n,i)}}function diffChildren(e,t,n,i,r){for(var o=e.children,s=reorder(o,t.children),a=s.children,l=o.length,u=a.length,c=l>u?l:u,p=0;p<c;p++){var h=o[p],d=a[p];r+=1,h?walk(h,d,n,r):d&&(i=appendPatch(i,new VPatch(VPatch.INSERT,null,d))),isVNode(h)&&h.count&&(r+=h.count)}return s.moves&&(i=appendPatch(i,new VPatch(VPatch.ORDER,e,s.moves))),i}function clearState(e,t,n){unhook(e,t,n),destroyWidgets(e,t,n)}function destroyWidgets(e,t,n){if(isWidget(e))"function"==typeof e.destroy&&(t[n]=appendPatch(t[n],new VPatch(VPatch.REMOVE,e,null)));else if(isVNode(e)&&(e.hasWidgets||e.hasThunks))for(var i=e.children,r=i.length,o=0;o<r;o++){var s=i[o];n+=1,destroyWidgets(s,t,n),isVNode(s)&&s.count&&(n+=s.count)}else isThunk(e)&&thunks(e,null,t,n)}function thunks(e,t,n,i){var r=handleThunk(e,t),o=diff$2(r.a,r.b);hasPatches(o)&&(n[i]=new VPatch(VPatch.THUNK,null,o))}function hasPatches(e){for(var t in e)if("a"!==t)return!0;return!1}function unhook(e,t,n){if(isVNode(e)){if(e.hooks&&(t[n]=appendPatch(t[n],new VPatch(VPatch.PROPS,e,undefinedKeys(e.hooks)))),e.descendantHooks||e.hasThunks)for(var i=e.children,r=i.length,o=0;o<r;o++){var s=i[o];n+=1,unhook(s,t,n),isVNode(s)&&s.count&&(n+=s.count)}}else isThunk(e)&&thunks(e,null,t,n)}function undefinedKeys(e){var t={};for(var n in e)t[n]=void 0;return t}function reorder(e,t){var n=keyIndex(t),i=n.keys,r=n.free;if(r.length===t.length)return{children:t,moves:null};var o=keyIndex(e),s=o.keys;if(o.free.length===e.length)return{children:t,moves:null};for(var a=[],l=0,u=r.length,c=0,p=0;p<e.length;p++){var h,d=e[p];d.key?i.hasOwnProperty(d.key)?(h=i[d.key],a.push(t[h])):(h=p-c++,a.push(null)):l<u?(h=r[l++],a.push(t[h])):(h=p-c++,a.push(null))}for(var f=l>=r.length?t.length:r[l],m=0;m<t.length;m++){var y=t[m];y.key?s.hasOwnProperty(y.key)||a.push(y):m>=f&&a.push(y)}for(var g,v=a.slice(),C=0,w=[],b=[],S=0;S<t.length;){var T=t[S];for(g=v[C];null===g&&v.length;)w.push(remove$3(v,C,null)),g=v[C];g&&g.key===T.key?(C++,S++):T.key?(g&&g.key&&i[g.key]!==S+1?(w.push(remove$3(v,C,g.key)),g=v[C],g&&g.key===T.key?C++:b.push({key:T.key,to:S})):b.push({key:T.key,to:S}),S++):g&&g.key&&w.push(remove$3(v,C,g.key))}for(;C<v.length;)g=v[C],w.push(remove$3(v,C,g&&g.key));return w.length!==c||b.length?{children:a,moves:{removes:w,inserts:b}}:{children:a,moves:null}}function remove$3(e,t,n){return e.splice(t,1),{from:t,key:n}}function keyIndex(e){for(var t={},n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.key?t[o.key]=r:n.push(r)}return{keys:t,free:n}}function appendPatch(e,t){return e?(isArray$3(e)?e.push(t):e=[e,t],e):t}function iterativelyWalk(e,t){"length"in e||(e=[e]),e=slice$1.call(e);for(;e.length;){var n=e.shift(),i=t(n);if(i)return i;n.childNodes&&n.childNodes.length&&(e=slice$1.call(n.childNodes).concat(e))}}function Comment$1(e,t){if(!(this instanceof Comment$1))return new Comment$1(e,t);this.data=e,this.nodeValue=e,this.length=e.length,this.ownerDocument=t||null}function DOMText$1(e,t){if(!(this instanceof DOMText$1))return new DOMText$1(e);this.data=e||"",this.length=this.data.length,this.ownerDocument=t||null}function dispatchEvent$2(e){var t=this,n=e.type;e.target||(e.target=t),t.listeners||(t.listeners={});var i=t.listeners[n];if(i)return i.forEach(function(n){e.currentTarget=t,"function"==typeof n?n(e):n.handleEvent(e)});t.parentNode&&t.parentNode.dispatchEvent(e)}function addEventListener$2(e,t){var n=this;n.listeners||(n.listeners={}),n.listeners[e]||(n.listeners[e]=[]),-1===n.listeners[e].indexOf(t)&&n.listeners[e].push(t)}function removeEventListener$2(e,t){var n=this;if(n.listeners&&n.listeners[e]){var i=n.listeners[e],r=i.indexOf(t);-1!==r&&i.splice(r,1)}}function serializeNode$1(e){switch(e.nodeType){case 3:return escapeText(e.data);case 8:return"\x3c!--"+e.data+"--\x3e";default:return serializeElement(e)}}function serializeElement(e){var t=[],n=e.tagName;return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(n=n.toLowerCase()),t.push("<"+n+properties(e)+datasetify(e)),voidElements.indexOf(n)>-1?t.push(" />"):(t.push(">"),e.childNodes.length?t.push.apply(t,e.childNodes.map(serializeNode$1)):e.textContent||e.innerText?t.push(escapeText(e.textContent||e.innerText)):e.innerHTML&&t.push(e.innerHTML),t.push("</"+n+">")),t.join("")}function isProperty(e,t){var n=typeof e[t];return"style"===t&&Object.keys(e.style).length>0||e.hasOwnProperty(t)&&("string"===n||"boolean"===n||"number"===n)&&"nodeName"!==t&&"className"!==t&&"tagName"!==t&&"textContent"!==t&&"innerText"!==t&&"namespaceURI"!==t&&"innerHTML"!==t}function stylify(e){if("string"==typeof e)return e;var t="";return Object.keys(e).forEach(function(n){var i=e[n];n=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t+=n+":"+i+";"}),t}function datasetify(e){var t=e.dataset,n=[];for(var i in t)n.push({name:"data-"+i,value:t[i]});return n.length?stringify(n):""}function stringify(e){var t=[];return e.forEach(function(e){var n=e.name,i=e.value;"style"===n&&(i=stylify(i)),t.push(n+'="'+escapeAttributeValue(i)+'"')}),t.length?" "+t.join(" "):""}function properties(e){var t=[];for(var n in e)isProperty(e,n)&&t.push({name:n,value:e[n]});for(var i in e._attributes)for(var r in e._attributes[i]){var o=e._attributes[i][r],s=(o.prefix?o.prefix+":":"")+r;t.push({name:s,value:o.value})}return e.className&&t.push({name:"class",value:e.className}),t.length?stringify(t):""}function escapeText(e){var t="";return"string"==typeof e?t=e:e&&(t=e.toString()),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeAttributeValue(e){return escapeText(e).replace(/"/g,"&quot;")}function DOMElement$1(e,t,n){if(!(this instanceof DOMElement$1))return new DOMElement$1(e);var i=void 0===n?htmlns:n||null;this.tagName=i===htmlns?String(e).toUpperCase():e,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=t||null,this.namespaceURI=i,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}function DocumentFragment$1(e){if(!(this instanceof DocumentFragment$1))return new DocumentFragment$1;this.childNodes=[],this.parentNode=null,this.ownerDocument=e||null}function Event$1(e){}function Document$1(){if(!(this instanceof Document$1))return new Document$1;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}function applyProperties$1(e,t,n){for(var i in t){var r=t[i];void 0===r?removeProperty(e,i,r,n):isHook$2(r)?(removeProperty(e,i,r,n),r.hook&&r.hook(e,i,n?n[i]:void 0)):isObject$7(r)?patchObject(e,t,n,i,r):e[i]=r}}function removeProperty(e,t,n,i){if(i){var r=i[t];if(isHook$2(r))r.unhook&&r.unhook(e,t,n);else if("attributes"===t)for(var o in r)e.removeAttribute(o);else if("style"===t)for(var s in r)e.style[s]="";else e[t]="string"==typeof r?"":null}}function patchObject(e,t,n,i,r){var o=n?n[i]:void 0;if("attributes"!==i){if(o&&isObject$7(o)&&getPrototype$1(o)!==getPrototype$1(r))return void(e[i]=r);isObject$7(e[i])||(e[i]={});var s="style"===i?"":void 0;for(var a in r){var l=r[a];e[i][a]=void 0===l?s:l}}else for(var u in r){var c=r[u];void 0===c?e.removeAttribute(u):e.setAttribute(u,c)}}function getPrototype$1(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function createElement(e,t){var n=t?t.document||document$6:document$6,i=t?t.warn:null;if(e=handleThunk$2(e).a,isWidget$3(e))return e.init();if(isVText$2(e))return n.createTextNode(e.text);if(!isVNode$2(e))return i&&i("Item is not a valid virtual dom node",e),null;var r=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),o=e.properties;applyProperties(r,o);for(var s=e.children,a=0;a<s.length;a++){var l=createElement(s[a],t);l&&r.appendChild(l)}return r}function domIndex$1(e,t,n,i){return n&&0!==n.length?(n.sort(ascending),recurse(e,t,n,i,0)):{}}function recurse(e,t,n,i,r){if(i=i||{},e){indexInRange(n,r,r)&&(i[r]=e);var o=t.children;if(o)for(var s=e.childNodes,a=0;a<t.children.length;a++){r+=1;var l=o[a]||noChild,u=r+(l.count||0);indexInRange(n,r,u)&&recurse(s[a],l,n,i,r),r=u}}return i}function indexInRange(e,t,n){if(0===e.length)return!1;for(var i,r,o=0,s=e.length-1;o<=s;){if(i=(s+o)/2>>0,r=e[i],o===s)return r>=t&&r<=n;if(r<t)o=i+1;else{if(!(r>n))return!0;s=i-1}}return!1}function ascending(e,t){return e>t?1:-1}function updateWidget$1(e,t){return!(!isWidget$5(e)||!isWidget$5(t))&&("name"in e&&"name"in t?e.id===t.id:e.init===t.init)}function applyPatch$1(e,t,n){var i=e.type,r=e.vNode,o=e.patch;switch(i){case VPatch$1.REMOVE:return removeNode(t,r);case VPatch$1.INSERT:return insertNode(t,o,n);case VPatch$1.VTEXT:return stringPatch(t,r,o,n);case VPatch$1.WIDGET:return widgetPatch(t,r,o,n);case VPatch$1.VNODE:return vNodePatch(t,r,o,n);case VPatch$1.ORDER:return reorderChildren(t,o),t;case VPatch$1.PROPS:return applyProperties$2(t,o,r.properties),t;case VPatch$1.THUNK:return replaceRoot(t,n.patch(t,o,n));default:return t}}function removeNode(e,t){var n=e.parentNode;return n&&n.removeChild(e),destroyWidget(e,t),null}function insertNode(e,t,n){var i=n.render(t,n);return e&&e.appendChild(i),e}function stringPatch(e,t,n,i){var r;if(3===e.nodeType)e.replaceData(0,e.length,n.text),r=e;else{var o=e.parentNode;r=i.render(n,i),o&&r!==e&&o.replaceChild(r,e)}return r}function widgetPatch(e,t,n,i){var r,o=updateWidget(t,n);r=o?n.update(t,e)||e:i.render(n,i);var s=e.parentNode;return s&&r!==e&&s.replaceChild(r,e),o||destroyWidget(e,t),r}function vNodePatch(e,t,n,i){var r=e.parentNode,o=i.render(n,i);return r&&o!==e&&r.replaceChild(o,e),o}function destroyWidget(e,t){"function"==typeof t.destroy&&isWidget$4(t)&&t.destroy(e)}function reorderChildren(e,t){for(var n,i,r,o=e.childNodes,s={},a=0;a<t.removes.length;a++)i=t.removes[a],n=o[i.from],i.key&&(s[i.key]=n),e.removeChild(n);for(var l=o.length,u=0;u<t.inserts.length;u++)r=t.inserts[u],n=s[r.key],e.insertBefore(n,r.to>=l++?null:o[r.to])}function replaceRoot(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}function patch$2(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==patch$2?n.patch:patchRecursive,n.render=n.render||render$1,n.patch(e,t,n)}function patchRecursive(e,t,n){var i=patchIndices(t);if(0===i.length)return e;var r=domIndex(e,t.a,i),o=e.ownerDocument;n.document||o===document$3||(n.document=o);for(var s=0;s<i.length;s++){var a=i[s];e=applyPatch(e,r[a],t[a],n)}return e}function applyPatch(e,t,n,i){if(!t)return e;var r;if(isArray$5(n))for(var o=0;o<n.length;o++)r=patchOp(n[o],t,i),t===e&&(e=r);else r=patchOp(n,t,i),t===e&&(e=r);return e}function patchIndices(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}function VirtualNode(e,t,n,i,r){this.tagName=e,this.properties=t||noProperties,this.children=n||noChildren,this.key=null!=i?String(i):void 0,this.namespace="string"==typeof r?r:null;var o,s=n&&n.length||0,a=0,l=!1,u=!1,c=!1;for(var p in t)if(t.hasOwnProperty(p)){var h=t[p];isVHook(h)&&h.unhook&&(o||(o={}),o[p]=h)}for(var d=0;d<s;d++){var f=n[d];isVNode$4(f)?(a+=f.count||0,!l&&f.hasWidgets&&(l=!0),!u&&f.hasThunks&&(u=!0),c||!f.hooks&&!f.descendantHooks||(c=!0)):!l&&isWidget$7(f)?"function"==typeof f.destroy&&(l=!0):!u&&isThunk$3(f)&&(u=!0)}this.count=s+a,this.hasWidgets=l,this.hasThunks=u,this.hooks=o,this.descendantHooks=c}function VirtualText(e){this.text=String(e)}function parseTag$1(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),i=split$2(e,classIdSplit),r=null;notClassId.test(i[1])&&(r="DIV");var o,s,a,l;for(l=0;l<i.length;l++)(s=i[l])&&(a=s.charAt(0),r?"."===a?(o=o||[],o.push(s.substring(1,s.length))):"#"===a&&n&&(t.id=s.substring(1,s.length)):r=s);return o&&(t.className&&o.push(t.className),t.className=o.join(" ")),t.namespace?r:r.toUpperCase()}function SoftSetHook(e){if(!(this instanceof SoftSetHook))return new SoftSetHook(e);this.value=e}function Individual$1(e,t){return e in root?root[e]:(root[e]=t,t)}function OneVersion(e,t,n){var i="__INDIVIDUAL_ONE_VERSION_"+e,r=i+"_ENFORCE_SINGLETON",o=Individual(r,t);if(o!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+t);return Individual(i,n)}function EvStore$1(e){var t=e[hashKey];return t||(t=e[hashKey]={}),t}function EvHook(e){if(!(this instanceof EvHook))return new EvHook(e);this.value=e}function h$3(e,t,n){var i,r,o,s,a=[];return!n&&isChildren(t)&&(n=t,r={}),r=r||t||{},i=parseTag(e,r),r.hasOwnProperty("key")&&(o=r.key,r.key=void 0),r.hasOwnProperty("namespace")&&(s=r.namespace,r.namespace=void 0),"INPUT"!==i||s||!r.hasOwnProperty("value")||void 0===r.value||isHook$3(r.value)||(r.value=softSetHook(r.value)),transformProperties(r),void 0!==n&&null!==n&&addChild(n,a,i,r),new VNode$1(i,r,a,o,s)}function addChild(e,t,n,i){if("string"==typeof e)t.push(new VText$1(e));else if("number"==typeof e)t.push(new VText$1(String(e)));else if(isChild(e))t.push(e);else{if(!isArray$6(e)){if(null===e||void 0===e)return;throw UnexpectedVirtualElement({foreignObject:e,parentVnode:{tagName:n,properties:i}})}for(var r=0;r<e.length;r++)addChild(e[r],t,n,i)}}function transformProperties(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(isHook$3(n))continue;"ev-"===t.substr(0,3)&&(e[t]=evHook(n))}}function isChild(e){return isVNode$3(e)||isVText$3(e)||isWidget$6(e)||isVThunk(e)}function isChildren(e){return"string"==typeof e||isArray$6(e)||isChild(e)}function UnexpectedVirtualElement(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+errorString(e.foreignObject)+".\nThe parent vnode is:\n"+errorString(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function errorString(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}function add$5(e,t){t.Subscribe(new Observer(e))}function createTree(e,t,n,i){var r=[],o=[],s=!0,a=!1,l=void 0;try{for(var u,c=_getIterator(n);!(s=(u=c.next()).done);s=!0){var p=u.value,h=[p[0],p[1]];if("Property"===h[1].Case){var d=h[1].Fields[0];o.push([h[0],d])}else if("Event"===h[1].Case)!function(){var e=h[1].Fields[0];o.push(["on"+h[0],function(t){e(t.target)(t)}])}();else{var f=h[1].Fields[0];r.push([h[0],f])}}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var m=createObj(r),y=null==e||""===e?new List$1:ofArray$1([["namespace",e]]),g=createObj(append(append$1(y,ofArray$1([["attributes",m]])),o));return h$1(t,g,i)}function renderVirtual(e){if("Element"===e.Case){if(null==e.Fields[4])return createTree(e.Fields[0],e.Fields[1],e.Fields[2],e.Fields[3].map(function(e){return renderVirtual(e)}));throw new Error("renderVirtual: Does not support elements with after-render handlers")}if("Delayed"===e.Case){counter+=1;var t=fsFormat("delayed_%d")(function(e){return e})(counter),n=function n(i){return function(r){null!=r.parentElement?(r.dataset.renderedSymbol=e.Fields[0],r.id=t,e.Fields[2](t)):i>0?window.setTimeout(function(){n(i-1)(r)},1):Log.error("html","Delayed element was not created in time")}},i=function(){};i.prototype.hook=function(t,i,r){t.dataset.renderedSymbol!==e.Fields[0]&&n(10)(t)};var r=new i;return createTree(null,"div",ofArray$1([["renderhk",new DomAttribute("Property",[r])]]),[renderVirtual(e.Fields[1])])}if("Part"===e.Case)throw new Error("renderVirtual: Does not support parts");return e.Fields[0]}function render(e){if("Delayed"===e.Case){counter+=1;var t=document.createElement("div");return t.id=fsFormat("delayed_%d")(function(e){return e})(counter),[t,function(){e.Fields[2](t.id)}]}if("Part"===e.Case){var n=document.createElement("div");return[n,function(){e.Fields[0](n)}]}if("Element"!==e.Case)return[document.createTextNode(e.Fields[0]),function(){}];var i=function(){for(var t=null==e.Fields[0]||""===e.Fields[0]?document.createElement(e.Fields[1]):document.createElementNS(e.Fields[0],e.Fields[1]),n=e.Fields[3].map(function(e){return render(e)}),i=0;i<=n.length-1;i++){var r=n[i];t.appendChild(r[0])}for(var o=0;o<=e.Fields[2].length-1;o++)!function(n){var i=e.Fields[2][n];"Attribute"===i[1].Case?t.setAttribute(i[0],i[1].Fields[0]):"Event"===i[1].Case?t.addEventListener(i[0],function(e){i[1].Fields[0](t)(e)}):t[i[0]]=i[1].Fields[0]}(o);return{v:[t,function(){for(var i=0;i<=n.length-1;i++){n[i][1](null)}iterate(function(e){e(t)},defaultArg(e.Fields[4],[],function(e){return[e]}))}]}}();return"object"===(void 0===i?"undefined":_typeof(i))?i.v:void 0}function renderTo(e,t){for(;null!=e.lastChild;)e.removeChild(e.lastChild);var n=render(t);e.appendChild(n[0]),n[1](null)}function createVirtualDomAsyncApp(e,t,n,i){var r=new Event$2,o=function(e){r.Trigger(e)},s=document.createElement("div");document.getElementById(e).innerHTML="",document.getElementById(e).appendChild(s);var a={},l=t,u=function(e){!function(e){startImmediate(e)}(function(t){return t.Delay(function(){return t.Combine(null!=e?t.Bind(i(l)(e),function(e){return l=e,t.Zero()}):function(){return t.Zero()}(),t.Delay(function(){var e=renderVirtual(n(o)(l)),i=diff(a,e);return s=patch(s,i),a=e,t.Zero()}))})}(singleton$2))};u(null),add$5(function(e){return u(function(e){return e}(e))},r.Publish)}function createVirtualDomApp(e,t,n,i){var r=new Event$2,o=function(e){r.Trigger(e)},s=document.createElement("div");document.getElementById(e).innerHTML="",document.getElementById(e).appendChild(s);var a={},l=t,u=function(e){l=null!=e?i(l)(e):l;var t=renderVirtual(n(o)(l)),r=diff(a,t);s=patch(s,r),a=t};u(null),add$5(function(e){return u(function(e){return e}(e))},r.Publish)}function text(e){return new DomNode("Text",[e])}function op_EqualsGreater(e,t){return[e,new DomAttribute("Attribute",[t])]}function op_EqualsBangGreater(e,t){return[e,new DomAttribute("Event",[t])]}function node(e,t){var n=new List$1,i=new List$1;return new _Node(n,i,e,t,null)}function needsEscaping(e){return e[0]>="0"&&e[0]<="9"||e.split("").some(function(e){return!(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9")})}function escapeIdent(e){return""===e?"''":needsEscaping(e)?"'"+e+"'":e}function unionRanges(e,t){return new _Range(e.Start<t.Start?e.Start:t.Start,e.End>t.End?e.End:t.End)}function formatToken(e){return"RParen"===e.Case?")":"Equals"===e.Case?"=":"Dot"===e.Case?".":"Comma"===e.Case?",":"Colon"===e.Case?":":"Let"===e.Case?"let":"LSquare"===e.Case?"[":"RSquare"===e.Case?"]":"Fun"===e.Case?"fun":"Arrow"===e.Case?"->":"Operator"===e.Case?"Divide"===e.Fields[0].Case?"/":"GreaterThan"===e.Fields[0].Case?">":"GreaterThanOrEqual"===e.Fields[0].Case?">=":"LessThan"===e.Fields[0].Case?"<":"LessThanOrEqual"===e.Fields[0].Case?"<=":"Minus"===e.Fields[0].Case?"-":"Multiply"===e.Fields[0].Case?"*":"Plus"===e.Fields[0].Case?"+":"Power"===e.Fields[0].Case?"^":"Equals"===e.Fields[0].Case?"=":"%":"Boolean"===e.Case?e.Fields[0]?"true":"false":"Number"===e.Case?e.Fields[0]:"String"===e.Case?'"'+replace$$1(replace$$1(replace$$1(e.Fields[0],"\\","\\\\"),"\n","\\n"),'"','\\"')+'"':"Ident"===e.Case?e.Fields[0]:"QIdent"===e.Case?"'"+e.Fields[0]+"'":"White"===e.Case?e.Fields[0]:"Newline"===e.Case?"\n":"Error"===e.Case?e.Fields[0]:"EndOfFile"===e.Case?"":"("}function formatTokenInfo(e){return"RParen"===e.Case?"right parenthesis `)`":"Equals"===e.Case?"equals sign `=`":"Dot"===e.Case?"dot character `.`":"Comma"===e.Case?"comma character `,`":"Colon"===e.Case?"colon character `:`":"Let"===e.Case?"`let` keyword":"LSquare"===e.Case?"left square bracket `[`":"RSquare"===e.Case?"right square bracket `]`":"Fun"===e.Case?"`fun` keyword":"Arrow"===e.Case?"arrow sign `->`":"Operator"===e.Case?"Divide"===e.Fields[0].Case?"division sign `/`":"Modulo"===e.Fields[0].Case?"modulo operator `%`":"GreaterThan"===e.Fields[0].Case?"greater than sign `>`":"GreaterThanOrEqual"===e.Fields[0].Case?"greater than or equals sign `>=`":"LessThan"===e.Fields[0].Case?"less than sign `<`":"LessThanOrEqual"===e.Fields[0].Case?"less than or equals sign `<=`":"Minus"===e.Fields[0].Case?"minus sign `-`":"Multiply"===e.Fields[0].Case?"multiplication sign `*`":"Plus"===e.Fields[0].Case?"plus sign `+`":"Power"===e.Fields[0].Case?"exponentiation sign `^`":"equals operator `=`":"Boolean"===e.Case?e.Fields[0]?"logical `true` value":"logical `false` value":"Number"===e.Case?fsFormat("numerical value `%s`")(function(e){return e})(e.Fields[0]):"String"===e.Case?fsFormat("string value `%s`")(function(e){return e})(replace$$1(e.Fields[0],"`","'")):"Ident"===e.Case?fsFormat("identifer `%s`")(function(e){return e})(e.Fields[0]):"QIdent"===e.Case?fsFormat("quoted identifer `'%s'`")(function(e){return e})(e.Fields[0]):"White"===e.Case?"whitespace":"Newline"===e.Case?"end of line":"Error"===e.Case?"`"===e.Fields[0]?"back-tick character":fsFormat("other character `%s`")(function(e){return e})(e.Fields[0]):"EndOfFile"===e.Case?"end of file":"left parenthesis `(`"}function formatNode(e,t,n){var i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(n.WhiteBefore);!(i=(s=a.next()).done);i=!0){var l=s.value;e.Add(l.Token)}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}t(e)(n.Node);var u=!0,c=!1,p=void 0;try{for(var h,d=_getIterator(n.WhiteAfter);!(u=(h=d.next()).done);u=!0){var f=h.value;e.Add(f.Token)}}catch(e){c=!0,p=e}finally{try{!u&&d.return&&d.return()}finally{if(c)throw p}}}function formatName(e,t){""===t.Name||(needsEscaping(t.Name)?e.Add(new TokenKind("QIdent",[t.Name])):e.Add(new TokenKind("Ident",[t.Name])))}function formatArgument(e,t){null!=t.Name&&(formatNode(e,function(e){return function(t){formatName(e,t)}},t.Name),e.Add(new TokenKind("Equals",[]))),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Value)}function formatExpression(e,t){if("Member"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),e.Add(new TokenKind("Dot",[])),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[1]);else if("Call"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),e.Add(new TokenKind("LParen",[])),function(){var t=function(e){return function(t){iterateIndexed(function(t,n){0!==t&&e.Add(new TokenKind("Comma",[])),formatArgument(e,n)},t)}};return function(n){formatNode(e,t,n)}}()(t.Fields[1]),e.Add(new TokenKind("RParen",[]));else if("String"===t.Case)e.Add(new TokenKind("String",[t.Fields[0]]));else if("Number"===t.Case)e.Add(new TokenKind("Number",[String(t.Fields[0]),t.Fields[0]]));else if("Boolean"===t.Case)e.Add(new TokenKind("Boolean",[t.Fields[0]]));else if("Binary"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),function(){var t=function(e){return function(t){e.Add(new TokenKind("Operator",[t]))}};return function(n){formatNode(e,t,n)}}()(t.Fields[1]),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[2]);else if("Function"===t.Case)e.Add(new TokenKind("Fun",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0]),e.Add(new TokenKind("Arrow",[])),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[1]);else if("Placeholder"===t.Case)e.Add(new TokenKind("LSquare",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0]),e.Add(new TokenKind("Colon",[])),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[1]),e.Add(new TokenKind("RSquare",[]));else if("List"===t.Case){e.Add(new TokenKind("LSquare",[]));var n=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(t.Fields[0]);!(n=(o=s.next()).done);n=!0){var a=o.value;formatNode(e,function(e){return function(t){formatExpression(e,t)}},a)}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}e.Add(new TokenKind("RSquare",[]))}else"Empty"===t.Case||formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0])}function formatSingleExpression(e){var t=new FormattingContext([]);return formatNode(t,function(e){return function(t){formatExpression(e,t)}},e),join("",t.Strings)}function formatWhiteAfterExpr(e){var t="Variable"===e.Node.Case?append$1(e.Node.Fields[0].WhiteAfter,e.WhiteAfter):e.WhiteAfter;return join("",toList(delay(function(){return map$3(function(e){return formatToken(e.Token)},t)})))}function formatWhiteBeforeExpr(e){var t=void 0,n="Variable"===e.Node.Case?[0,e.Node.Fields[0]]:"Member"===e.Node.Case&&"Variable"===e.Node.Fields[1].Node.Case?[1,e.Node.Fields[1],e.Node.Fields[1].Node.Fields[0]]:[2];switch(n[0]){case 0:t=append$1(e.WhiteBefore,n[1].WhiteBefore);break;case 1:t=append$1(e.WhiteBefore,append$1(n[1].WhiteBefore,n[2].WhiteBefore));break;case 2:t=e.WhiteBefore}return join("",toList(delay(function(){return map$3(function(e){return formatToken(e.Token)},t)})))}function formatEntityKind(e){return"Variable"===e.Case?"variable":"Binding"===e.Case?"binding":"Operator"===e.Case?formatToken(new TokenKind("Operator",[e.Fields[1]]))+" operator":"List"===e.Case?"list":"Constant"===e.Case?"Number"===e.Fields[0].Case?fsFormat("number `%f`")(function(e){return e})(e.Fields[0].Fields[0]):"String"===e.Fields[0].Case?fsFormat("string `%s`")(function(e){return e})(e.Fields[0].Fields[0]):"Boolean"===e.Fields[0].Case?e.Fields[0].Fields[0]?"`true` value":"`false` value":"empty value":"Function"===e.Case?"function":"LetCommand"===e.Case?"let command":"RunCommand"===e.Case?"run command":"Program"===e.Case?"program":"Root"===e.Case?"root":"CallSite"===e.Case?"call site":"NamedParam"===e.Case?"named param":"Call"===e.Case?"call":"ArgumentList"===e.Case?"argument list":"Member"===e.Case?"member":"MemberAccess"===e.Case?"member access":"MemberName"===e.Case?"member name":"Placeholder"===e.Case?"placeholder":"global value"}function entityCodeNameAndAntecedents(e){
return"Program"===e.Case?[1,e.Fields[0],"<program>"]:"RunCommand"===e.Case?[2,ofArray$1([e.Fields[0]]),"<do>"]:"LetCommand"===e.Case?[3,ofArray$1([e.Fields[0],e.Fields[1]]),"<let>"]:"Operator"===e.Case?[4,ofArray$1([e.Fields[0],e.Fields[2]]),formatToken(new TokenKind("Operator",[e.Fields[1]]))]:"List"===e.Case?[5,e.Fields[0],"<list>"]:"Constant"===e.Case?"Number"===e.Fields[0].Case?[7,new List$1,String(e.Fields[0].Fields[0])]:"Boolean"===e.Fields[0].Case?[8,new List$1,String(e.Fields[0].Fields[0])]:"Empty"===e.Fields[0].Case?[9,new List$1,"<empty>"]:[6,new List$1,e.Fields[0].Fields[0]]:"Function"===e.Case?[10,ofArray$1([e.Fields[0],e.Fields[1]]),"<function>"]:"GlobalValue"===e.Case?[11,new List$1,e.Fields[0].Name]:"Variable"===e.Case?[12,ofArray$1([e.Fields[1]]),e.Fields[0].Name]:"Binding"===e.Case?[13,ofArray$1([e.Fields[1]]),e.Fields[0].Name]:"ArgumentList"===e.Case?[14,e.Fields[0],"<args>"]:"Call"===e.Case?[15,ofArray$1([e.Fields[0],e.Fields[1]]),"<call>"]:"Member"===e.Case?[16,ofArray$1([e.Fields[0],e.Fields[1]]),"<member>"]:"MemberAccess"===e.Case?[17,ofArray$1([e.Fields[0]]),"<member access>"]:"NamedParam"===e.Case?[18,ofArray$1([e.Fields[1]]),e.Fields[0].Name]:"Placeholder"===e.Case?[19,ofArray$1([e.Fields[1]]),e.Fields[0].Name]:"CallSite"===e.Case?"Choice2Of2"===e.Fields[1].Case?[21,ofArray$1([e.Fields[0]]),String(e.Fields[1].Fields[0])]:[20,ofArray$1([e.Fields[0]]),e.Fields[1].Fields[0]]:"MemberName"===e.Case?[22,new List$1,e.Fields[0].Name]:[0,new List$1,"<root>"]}function lastChainElement(e){for(;;){if("Variable"===e.Kind.Case)return e;if("Member"===e.Kind.Case)return e.Kind.Fields[1];{if("MemberAccess"!==e.Kind.Case)return e;e=e.Kind.Fields[0]}}}function Entity_get_Antecedents(){return entityCodeNameAndAntecedents(this.Kind)[1]}function Entity_get_Name(){return entityCodeNameAndAntecedents(this.Kind)[2]}function formatType(e){if("Primitive"===e.Case)return"Date"===e.Fields[0].Case?"date":"Number"===e.Fields[0].Case?"number":"String"===e.Fields[0].Case?"string":"Unit"===e.Fields[0].Case?"unit":"bool";if("Object"!==e.Case){if("Method"===e.Case){var t=void 0,n=e.Fields[1](toList(delay(function(){return map$3(function(e){return[e.Type,null]},e.Fields[0])})));t=null!=n?formatType(n):"?";return"("+join(", ",toList(delay(function(){return map$3(function(e){return fsFormat("%s%s%s:%s")(function(e){return e})(e.Optional?"?":"")(e.Static?"!":"")(e.Name)(formatType(e.Type))},e.Fields[0])})))+") -> "+t}return"List"===e.Case?"list<"+formatType(e.Fields[0])+">":"Any"===e.Case?"any":"delayed type"}try{var i=e.Fields[0].Members,r=join(", ",map$3(function(e){return e.Name},truncate(5,i)));return"{ "+(i.length>5?r+", ...":r+" }")}catch(e){return"{ members }"}}function formatTypeInfo(e){return"Primitive"===e.Case?"Date"===e.Fields[0].Case?"date":"Number"===e.Fields[0].Case?"number":"String"===e.Fields[0].Case?"string":"Unit"===e.Fields[0].Case?"unit":"bool":"Object"===e.Case?"object type":"Method"===e.Case?"method type":"List"===e.Case?"list type":"Any"===e.Case?"unknown":"delayed type"}function _ExprLeaf_ExprNode_(e){switch(("Member"===e.Case?[1]:"Call"===e.Case?[2]:"Variable"===e.Case?[3]:"List"===e.Case?[4]:"Function"===e.Case?[5]:"Binary"===e.Case?[6]:"Number"===e.Case?[7]:"Boolean"===e.Case?[7]:"String"===e.Case?[7]:"Empty"===e.Case?[7]:[0])[0]){case 0:return new Choice("Choice2Of2",[[ofArray$1([e.Fields[1]]),ofArray$1([e.Fields[0]])]]);case 1:return new Choice("Choice2Of2",[[ofArray$1([e.Fields[0],e.Fields[1]]),new List$1]]);case 2:return new Choice("Choice2Of2",[[new List$1(e.Fields[0],toList(delay(function(){return map$3(function(e){return e.Value},e.Fields[1].Node)}))),choose$1(function(e){return e.Name},e.Fields[1].Node)]]);case 3:return new Choice("Choice2Of2",[[new List$1,ofArray$1([e.Fields[0]])]]);case 4:return new Choice("Choice2Of2",[[e.Fields[0],new List$1]]);case 5:return new Choice("Choice2Of2",[[ofArray$1([e.Fields[1]]),ofArray$1([e.Fields[0]])]]);case 6:return new Choice("Choice2Of2",[[ofArray$1([e.Fields[0],e.Fields[2]]),new List$1]]);case 7:return new Choice("Choice1Of2",[null])}}function _FindMember___(e,t){return tryPick(function(t){return t.Name===e.Name?t:null},t.Members)}function pickMetaByType(e,t,n){return tryPick(function(n){return n.Context===e&&n.Type===t?n.Data:null},n)}function storeArguments(e){return[_Array$from(e),mapIndexed$1(function(e,t){return new Expression("MemberExpression",[new Expression("IdentifierExpression",["_stored",null]),new Expression("NumericLiteral",[e,null]),!0,null])},e)]}function evaluateExpression(_stored,expr){var prog=new Program$1(null,ofArray$1([new Statement("ExpressionStatement",[expr,null])])),code=Babel.transformFromAst(Serializer.serializeProgram(prog),"",new BabelOptions(["es2015"]));Log.trace("interpreter","Interpreter evaluating: %O using values %O",code.code,_stored);try{var s=series.create(function(e){return e.Delay(function(){return e.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),date$1.now(),series.values(new Int32Array([1])),placeholder.create(""),_stored.length,eval(code.code)}catch(e){throw Log.exn("interpreter","Evaluation failed: %O",e),new Error}}function evaluateExpr(e,t){var n=storeArguments(e);return evaluateExpression(n[0],t(n[1]))}function evaluatePreview(e,t){var n=new Name("preview");Log.trace("interpreter","Evaluating preview on: %O (%s)",e,formatType(e.Type));var i=e.Type,r=void 0;if(null!=i)if("Object"===i.Case){var o=function(e){return _FindMember___(n,e)}(i.Fields[0]);r=null!=o?[0,o]:[1]}else r=[1];else r=[1];switch(r[0]){case 0:return"Method"===r[1].Type.Case?evaluateExpr(ofArray$1([t]),function(e){return BabelOperators.op_DivideAtDivide(r[1].Emitter.Emit(e.head),new List$1)}):evaluateExpr(ofArray$1([t]),function(e){return r[1].Emitter.Emit(e.head)});case 1:return null}}function evaluateEntity(e){var t="Variable"===e.Kind.Case?[4,e.Kind.Fields[1]]:"GlobalValue"===e.Kind.Case?[5,e.Kind.Fields[1],e.Kind.Fields[0]]:"Member"===e.Kind.Case?"MemberName"===e.Kind.Fields[1].Kind.Case?[6,e.Kind.Fields[0],e.Kind.Fields[1].Kind.Fields[0]]:[9,e.Kind.Fields[0]]:"MemberAccess"===e.Kind.Case?[7,e.Kind.Fields[0]]:"Call"===e.Kind.Case?"ArgumentList"===e.Kind.Fields[1].Kind.Case?[8,e.Kind.Fields[1].Kind.Fields[0],e.Kind.Fields[0]]:[10,e.Kind.Fields[0]]:"Operator"===e.Kind.Case?"Power"===e.Kind.Fields[1].Case?[11,e.Kind.Fields[0],e.Kind.Fields[2]]:[12,e.Kind.Fields[0],e.Kind.Fields[1],e.Kind.Fields[2]]:"List"===e.Kind.Case?[13,e.Kind.Fields[0]]:"Placeholder"===e.Kind.Case?[14,e.Kind.Fields[1]]:"ArgumentList"===e.Kind.Case?[15]:"NamedParam"===e.Kind.Case?[15]:"MemberName"===e.Kind.Case?[15]:"Binding"===e.Kind.Case?[15]:"Root"===e.Kind.Case?[15]:"CallSite"===e.Kind.Case?[15]:"Function"===e.Kind.Case?[16]:"Program"===e.Kind.Case?[16]:"LetCommand"===e.Kind.Case?[16]:"RunCommand"===e.Kind.Case?[16]:"Number"===e.Kind.Fields[0].Case?[1,e.Kind.Fields[0].Fields[0]]:"String"===e.Kind.Fields[0].Case?[2,e.Kind.Fields[0].Fields[0]]:"Empty"===e.Kind.Fields[0].Case?[3]:[0,e.Kind.Fields[0].Fields[0]];switch(t[0]){case 0:case 1:case 2:return t[1];case 3:return null;case 4:return defaultArg(t[1].Value,null,function(e){return e.Value});case 5:return null!=t[1]?evaluateExpression([],t[1]):null;case 6:var n=t[1].Type,i=void 0;if("Object"===n.Case){var r=function(e){return _FindMember___(t[2],e)}(n.Fields[0]);i=null!=r?[0,r]:[1]}else i=[1];switch(i[0]){case 0:return evaluateExpr(ofArray$1([getValue(t[1])]),function(e){return i[1].Emitter.Emit(e.head)});case 1:return null}case 7:return getValue(t[1]);case 8:var o=toList(takeWhile(function(e){return"NamedParam"!==e.Kind.Case},t[1])),s=toList(skipWhile(function(e){return"NamedParam"!==e.Kind.Case},t[1])),a=_Array$from(map$5(function(e){return getValue(e)},o)),l=new _Map(choose$1(function(e){if("NamedParam"===e.Kind.Case){var t=e.Kind.Fields[1];return[e.Kind.Fields[0].Name,getValue(t)]}return null},s)),u=void 0,c=t[2].Type;u="Method"===c.Case?c.Fields[0]:new List$1;var p=mapIndexed$1(function(e,t){return e<a.length?a[e]:l.has(t.Name)?l.get(t.Name):null},u),h="MemberAccess"===t[2].Kind.Case&&"Member"===t[2].Kind.Fields[0].Kind.Case&&"MemberName"===t[2].Kind.Fields[0].Kind.Fields[1].Kind.Case?[0,t[2].Kind.Fields[0].Kind.Fields[0],t[2].Kind.Fields[0].Kind.Fields[1].Kind.Fields[0]]:[1];switch(h[0]){case 0:var d=getValue(h[1]),f=h[1].Type,m=void 0;if(null!=f)if("Object"===f.Case){var y=function(e){return _FindMember___(h[2],e)}(f.Fields[0]);m=null!=y?[0,y]:[1]}else m=[1];else m=[1];switch(m[0]){case 0:return evaluateExpr(new List$1(d,p),function(e){return BabelOperators.op_DivideAtDivide(m[1].Emitter.Emit(e.head),e.tail)});case 1:return evaluateExpr(new List$1(d,p),function(e){return BabelOperators.op_DivideAtDivide(BabelOperators.op_DivideQmarkDivide(e.head,BabelOperators.str(h[2].Name)),e.tail)})}case 1:var g=getValue(t[2]);return evaluateExpr(new List$1(g,p),function(e){return BabelOperators.op_DivideAtDivide(e.head,e.tail)})}case 9:return Log.error("interpreter","typeCheckEntity: Member access is missing member name!"),null;case 10:return Log.error("interpreter","typeCheckEntity: Call to %s is missing argument list!",Entity_get_Name.bind(lastChainElement(t[1]))()),null;case 11:return evaluateExpr(ofArray$1([getValue(t[1]),getValue(t[2])]),function(e){var t=null!=e.tail&&null!=e.tail.tail&&null==e.tail.tail.tail?[0,e.head,e.tail.head]:[1];switch(t[0]){case 0:return BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("Math"),"pow"),ofArray$1([t[1],t[2]]));case 1:throw new Error("evaluateEntity: Expected two arguments")}});case 12:return evaluateExpr(ofArray$1([getValue(t[1]),getValue(t[3])]),function(e){var n=null!=e.tail&&null!=e.tail.tail&&null==e.tail.tail.tail?[0,e.head,e.tail.head]:[1];switch(n[0]){case 0:var i=void 0;if("Equals"===t[2].Case)i=new BinaryOperator("BinaryEqualStrict",[]);else if("Plus"===t[2].Case)i=new BinaryOperator("BinaryPlus",[]);else if("Minus"===t[2].Case)i=new BinaryOperator("BinaryMinus",[]);else if("Multiply"===t[2].Case)i=new BinaryOperator("BinaryMultiply",[]);else if("Divide"===t[2].Case)i=new BinaryOperator("BinaryDivide",[]);else if("GreaterThan"===t[2].Case)i=new BinaryOperator("BinaryGreater",[]);else if("LessThan"===t[2].Case)i=new BinaryOperator("BinaryLess",[]);else if("GreaterThanOrEqual"===t[2].Case)i=new BinaryOperator("BinaryGreaterOrEqual",[]);else if("LessThanOrEqual"===t[2].Case)i=new BinaryOperator("BinaryLessOrEqual",[]);else{if("Power"===t[2].Case)throw new Error("evaluateEntity: Power is not a binary operation");i=new BinaryOperator("BinaryModulus",[])}return new Expression("BinaryExpression",[i,n[1],n[2],null]);case 1:throw new Error("evaluateEntity: Expected two arguments")}});case 13:return evaluateExpr(map$5(function(e){return getValue(e)},t[1]),function(e){return new Expression("ArrayExpression",[e,null])});case 14:return getValue(t[1]);case 15:return null;case 16:return Log.error("interpreter","Cannot evaluate entity (probably not supported yet): %O",e),null}}function ensureValue(e){if(function(){return null==e.Value}()){var t=evaluateEntity(e);null!=t&&(e.Value=new EntityValue(t,new Lazy(function(){return evaluatePreview(e,t)})))}}function getValue(e){return function(){return null==e.Value}()&&Log.error("interpreter","getValue: Value of entity %O has not been evaluated.",e),e.Value.Value}function evaluateEntityTree(e){var t=new _Map;return function e(n){if(!t.has(n.Symbol)&&function(){return null==n.Value}()){t.set(n.Symbol,!0);var i=Entity_get_Antecedents.bind(n)(),r=!0,o=!1,s=void 0;try{for(var a,l=_getIterator(i);!(r=(a=l.next()).done);r=!0){e(a.value)}}catch(e){o=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}ensureValue(n)}}(e),e.Value}function globalEntity(e,t,n,i){var r=new EntityKind("GlobalValue",[new Name(e),i]),o=_Symbol2();return new Entity(r,o,null,t,n,new List$1)}function evaluate(e,t){return evaluateEntityTree(t)}function listsEqual(e,t,n){e:for(;;){var i=function(){var i=e,r=t,o=n,s=[i,r],a=null!=s[0].tail?null!=s[1].tail&&function(){var e=(s[1].tail,s[1].head),t=(s[0].tail,s[0].head);return o(t)(e)}()?[1,s[0].head,s[0].tail,s[1].head,s[1].tail]:[2]:null==s[1].tail?[0]:[2];switch(a[0]){case 0:return{v:!0};case 1:return e=a[2],t=a[4],n=o,"continue|listsEqual";case 2:return{v:!1}}}();switch(i){case"continue|listsEqual":continue e;default:if("object"===(void 0===i?"undefined":_typeof(i)))return i.v}}}function optionsEqual(e,t,n){var i=[e,t],r=null!=i[0]?null!=i[1]?[1,i[0],i[1]]:[2]:null==i[1]?[0]:[2];switch(r[0]){case 0:return!0;case 1:return n(r[1])(r[2]);case 2:return!1}}function typesEqual(e,t){e:for(;;){var n=function(){var n=[e,t],i="Any"===n[0].Case?[0]:"List"===n[0].Case?"Any"===n[1].Case?[0]:"List"===n[1].Case?[1,n[0].Fields[0],n[1].Fields[0]]:[5]:"Method"===n[0].Case?"Any"===n[1].Case?[0]:"Method"===n[1].Case?[2,n[0].Fields[0],n[1].Fields[0],n[0].Fields[1],n[1].Fields[1]]:[5]:"Object"===n[0].Case?"Any"===n[1].Case?[0]:"Object"===n[1].Case?[3,n[0].Fields[0],n[1].Fields[0]]:[5]:"Primitive"===n[0].Case?"Any"===n[1].Case?[0]:"Primitive"===n[1].Case?[4,n[0].Fields[0],n[1].Fields[0]]:[5]:"Any"===n[1].Case?[0]:[5];switch(i[0]){case 0:return{v:!0};case 1:return e=i[1],t=i[2],"continue|typesEqual";case 2:return optionsEqual(i[3](toList(delay(function(){return map$3(function(e){return[e.Type,null]},i[1])}))),i[4](toList(delay(function(){return map$3(function(e){return[e.Type,null]},i[2])}))),function(e){return function(t){return typesEqual(e,t)}})?{v:listsEqual(i[1],i[2],function(e){return function(t){return e.Name===t.Name&&e.Optional===t.Optional&&e.Static===t.Static&&typesEqual(e.Type,t.Type)}})}:{v:!1};case 3:return{v:i[1].TypeEquals(i[2])};case 4:return{v:i[1].Equals(i[2])};case 5:return{v:!1}}}();switch(n){case"continue|typesEqual":continue e;default:if("object"===(void 0===n?"undefined":_typeof(n)))return n.v}}}function mapGenericType(e,t){var n="Delayed"===e.Case?[0,e.Fields[0]]:"Object"===e.Case&&hasInterface(e.Fields[0],"TheGamma.TypeProviders.FSharpProvider.GenericTypeDefinition")?[1,e.Fields[0]]:[2,e];switch(n[0]){case 0:return new Type("Delayed",[function(e){return function(e){return Async_CreateNamedFuture_Static("applyTypes",e)}}()(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(n[1]),function(n){return e.Return(mapGenericType(n,t))})})}(singleton$2))]);case 1:return new Type("Object",[n[1].Apply(toList(delay(function(){return map$3(function(e){return new TypeSchema("Primitive",[e])},t(n[1]))}))).Substitute(function(e){return null})]);case 2:return n[1]}}function applyTypes(e,t){var n="Delayed"===e.Case?[0,e.Fields[0]]:"Object"===e.Case&&hasInterface(e.Fields[0],"TheGamma.TypeProviders.FSharpProvider.GenericTypeDefinition")?[1,e.Fields[0]]:[2];switch(n[0]){case 0:return new Type("Delayed",[function(e){return function(e){return Async_CreateNamedFuture_Static("applyTypes",e)}}()(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(n[1]),function(n){return e.Return(applyTypes(n,t))})})}(singleton$2))]);case 1:return new Type("Object",[n[1].Apply(toList(delay(function(){return map$3(function(e){return new TypeSchema("Primitive",[e])},t)}))).Substitute(function(e){return null})]);case 2:throw new Error("applyTypes: Expected generic type definition")}}function unifyTypes(e,t,n){e:for(;;){var i=function(){var i=[t,n],r=null!=i[0].tail?"GenericType"===i[0].head.Case&&null!=i[1].tail&&"Object"===i[1].head.Case&&hasInterface(i[1].head.Fields[0],"TheGamma.TypeProviders.FSharpProvider.GenericType")&&function(){var e=(i[1].tail,i[0].tail,i[1].head.Fields[0]),t=i[0].head.Fields[0];return e.TypeDefinition.FullName===t.TypeDefinition.FullName&&t.TypeArguments.length===e.TypeArguments.length}()?[1,i[0].head.Fields[0],i[1].head.Fields[0],i[0].tail,i[1].tail]:[2]:null==i[1].tail?[0]:[2];switch(r[0]){case 0:return{v:e};case 1:return e=e,t=append$1(r[1].TypeArguments,r[3]),n=append$1(r[2].TypeArguments,r[4]),"continue|unifyTypes";case 2:var o=null!=i[0].tail&&"Primitive"===i[0].head.Case&&null!=i[1].tail&&function(){var e=(i[1].tail,i[1].head),t=i[0].head.Fields[0];i[0].tail;return typesEqual(t,e)}()?[0,i[0].tail,i[0].head.Fields[0],i[1].head,i[1].tail]:[1];switch(o[0]){case 0:return e=e,t=o[1],n=o[4],"continue|unifyTypes";case 1:var s=null!=i[0].tail?"Parameter"===i[0].head.Case?null!=i[1].tail?[0,i[0].head.Fields[0],i[0].tail,i[1].head,i[1].tail]:[3]:"List"===i[0].head.Case?null!=i[1].tail&&"List"===i[1].head.Case?[1,i[0].head.Fields[0],i[0].tail,i[1].head.Fields[0],i[1].tail]:[3]:"Function"===i[0].head.Case&&null!=i[1].tail&&"Method"===i[1].head.Case&&function(){var e=(i[1].tail,i[1].head.Fields[1],i[1].head.Fields[0]);i[0].tail,i[0].head.Fields[1];return i[0].head.Fields[0].length===e.length}()?[2,i[0].head.Fields[0],i[0].head.Fields[1],i[0].tail,i[1].head.Fields[0],i[1].head.Fields[1],i[1].tail]:[3]:[3];switch(s[0]){case 0:return e=new List$1([s[1],s[3]],e),t=s[2],n=s[4],"continue|unifyTypes";case 1:return e=e,t=new List$1(s[1],s[2]),n=new List$1(s[3],s[4]),"continue|unifyTypes";case 2:var a=toList(delay(function(){return map$3(function(e){return[e.Type,null]},s[4])})),l=defaultArg(s[5](a),new Type("Any",[]));return e=e,t=new List$1(s[2],append$1(s[1],s[3])),n=new List$1(l,append$1(map$5(function(e){return e[0]},a),s[6])),"continue|unifyTypes";case 3:switch((null==i[0].tail?[0]:"GenericType"===i[0].head.Case?[0]:"Primitive"===i[0].head.Case?[0]:"List"===i[0].head.Case?[0]:"Function"===i[0].head.Case?[0]:null==i[1].tail?[0]:[1])[0]){case 0:var u=[t,n],c=null!=u[0].tail&&null!=u[1].tail?[0,u[0].head,u[1].head]:[1];switch(c[0]){case 0:Log.trace("providers","Failed to unify types %O and %O",c[1],c[2]);break;case 1:Log.trace("providers","Failed to unify types %O and %O",t,n)}return{v:null};case 1:throw new Error("C:\\Tomas\\Public\\the-gamma\\thegamma-script\\src\\thegamma\\providers/fsharp.fs",126,8)}}}}}();switch(i){case"continue|unifyTypes":continue e;default:if("object"===(void 0===i?"undefined":_typeof(i)))return i.v}}}function substituteTypeParams(e,t){if("Primitive"===t.Case)return t.Fields[0];if("List"===t.Case)return new Type("List",[substituteTypeParams(e,t.Fields[0])]);if("Parameter"===t.Case){var n=e(t.Fields[0]);if(null!=n)return n;throw new Error("substituteTypeParams: unresolved type parameter")}if("Function"===t.Case){var i=map$5(function(t){return new MethodArgument("",!1,!1,substituteTypeParams(e,t))},t.Fields[0]);return new Type("Method",[i,function(n){return substituteTypeParams(e,t.Fields[1])}])}return new Type("Object",[t.Fields[0].Substitute(e)])}function partiallySubstituteTypeParams(e,t){var n="Primitive"===t.Case?[0,t.Fields[0]]:"List"===t.Case?[1,t.Fields[0]]:"Parameter"===t.Case&&function(){return null!=e(t.Fields[0])}()?[2,t.Fields[0]]:[3];switch(n[0]){case 0:return new TypeSchema("Primitive",[n[1]]);case 1:return new TypeSchema("List",[partiallySubstituteTypeParams(e,n[1])]);case 2:return new TypeSchema("Primitive",[e(n[1])]);case 3:if("Parameter"===t.Case)return new TypeSchema("Parameter",[t.Fields[0]]);if("Function"===t.Case)return new TypeSchema("Function",[map$5(function(t){return partiallySubstituteTypeParams(e,t)},t.Fields[0]),partiallySubstituteTypeParams(e,t.Fields[1])]);if("GenericType"===t.Case)return new TypeSchema("GenericType",[_defineProperty({get Members(){throw new Error("Uninstantiated generic type schema")},TypeEquals:function(e){throw new Error("Uninstantiated generic type schema")},get TypeArguments(){return map$5(function(t){return partiallySubstituteTypeParams(e,t)},t.Fields[0].TypeArguments)},get TypeDefinition(){return t.Fields[0].TypeDefinition},Substitute:function(n){return t.Fields[0].Substitute(function(t){var i=[n(t),e(t)],r=null!=i[0]?[0,i[0]]:null!=i[1]?[0,i[1]]:[1];switch(r[0]){case 0:return r[1];case 1:return null}})}},_Symbol.reflection,function(){return{interfaces:["TheGamma.TypeProviders.FSharpProvider.GenericTypeSchema"]}})]);throw new Error("C:\\Tomas\\Public\\the-gamma\\thegamma-script\\src\\thegamma\\providers/fsharp.fs",161,8)}}function importProvidedType(e,t,n){var i=function e(n){switch(n.kind){case"primitive":return new TypeSchema("Primitive",[function(){var e=n.name;switch(e){case"object":return new Type("Any",[]);case"int":case"float":return new Type("Primitive",[new PrimitiveType("Number",[])]);case"string":return new Type("Primitive",[new PrimitiveType("String",[])]);case"bool":return new Type("Primitive",[new PrimitiveType("Bool",[])]);case"unit":return new Type("Primitive",[new PrimitiveType("Unit",[])]);case"date":return new Type("Primitive",[new PrimitiveType("Date",[])]);default:throw new Error("provideFSharpType: Unsupported type: "+e)}}()]);case"function":var i=n;return new TypeSchema("Function",[toList(_Array$from(map$3(e,i.arguments))),e(i.returns)]);case"named":var r=n,o=ofArray$1(_Array$from(map$3(e,r.typargs))),s=t(r.name),a="Object"===s.Case&&hasInterface(s.Fields[0],"TheGamma.TypeProviders.FSharpProvider.GenericTypeDefinition")?[0,s.Fields[0]]:[1,s];switch(a[0]){case 0:if(a[1].TypeParameterCount!==o.length)throw new Error("provideFSharpType: Named type has mismatching nuumber of arguments");return new TypeSchema("GenericType",[a[1].Apply(o)]);case 1:return new TypeSchema("Primitive",[a[1]])}case"parameter":return new TypeSchema("Parameter",[n.name]);case"array":return new TypeSchema("List",[e(n.element)]);default:throw new Error("provideFSharpType: Unexpected type")}},r=function(e){return ofArray$1(_Array$from(map$3(function(e){var t=function(e){return i(e)}(e);if("Parameter"===t.Case)return t.Fields[0];throw new Error("importProvidedType: expected type parameter")},e)))},o=function(e){return _Array$from(choose(function(t){if("property"===t.kind){var n=t,o=substituteTypeParams(e,i(n.returns)),s=new Emitter(function(e){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[n.name,null]),!1,null])});return new Member(n.name,o,new List$1,s)}if("method"===t.kind){var a=t,l=r(a.typepars),u=function(t){return exists(function(e){return t===e},l)?null:e(t)},c=toList(delay(function(){return map$3(function(e){return[e.name,e.optional,partiallySubstituteTypeParams(u,i(e.type))]},a.arguments)})),p=new Emitter(function(e){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[a.name,null]),!1,null])}),h=partiallySubstituteTypeParams(u,i(a.returns)),d=function(e){var t=map$5(function(e){return e[0]},e);Log.trace("providers","F# provider unifying: %O, %O",_Array$from(delay(function(){return collect(function(e){return singleton(e[2])},c)})),_Array$from(t));var n=unifyTypes(new List$1,toList(delay(function(){return collect(function(e){return singleton(e[2])},c)})),t);if(null==n)return null;var i=fold(function(e,t){var n=[e,t],i=null!=n[0]&&null!=n[1][1]?[0,n[1][1],n[0],n[1][0]]:[1];switch(i[0]){case 0:return new List$1([i[3],i[1]],i[2]);case 1:return null}},new List$1,map$3(function(e){return[e[0],fold(function(e,t){return null==e?null:typesEqual(e,t[1])?t[1]:null},new Type("Any",[]),e[1])]},groupBy$1(function(e){return e[0]},n))),r=null!=i&&i.length===l.length?[0,i]:[1];switch(r[0]){case 0:var o=new _Map(r[1]);return substituteTypeParams(function(e){return o.has(e)?o.get(e):null},h);case 1:return null}},f=toList(delay(function(){return collect(function(e){return singleton(new MethodArgument(e[0],e[1],!1,substituteTypeParams(function(e){return new Type("Any",[])},e[2])))},c)}));return new Member(a.name,new Type("Method",[f,d]),new List$1,p)}return null},n.members))},s=void 0,a=r(n.typepars);return s=null==a.tail?_defineProperty({get Members(){return o(function(e){return null})},TypeEquals:function(e){return!1}},_Symbol.reflection,function(){return{interfaces:["TheGamma.ObjectType"]}}):_defineProperty({get TypeParameterCount(){return a.length},get FullName(){return concatUrl(e,n.name)},get Members(){return fsFormat("Uninstantiated generic type definition (%s)")(function(e){throw new Error(e)})(this.FullName)},TypeEquals:function(e){return fsFormat("Uninstantiated generic type definition (%s)")(function(e){throw new Error(e)})(this.FullName)},Apply:function(e){var t=this;return _defineProperty({get Members(){throw new Error("Uninstantiated generic type schema")},get TypeDefinition(){return t},TypeEquals:function(e){throw new Error("Uninstantiated generic type schema")},Substitute:function(n){var i=new _Map(toList(zip(a,e))),r=new Lazy(function(){return o(function(e){var t=tryGetValue(i,e,null);return t[0]?substituteTypeParams(n,t[1]):null})});return _defineProperty({get TypeArguments(){return map$5(function(e){return substituteTypeParams(n,e)},e)},get TypeDefinition(){return t},get Members(){return r.value},TypeEquals:function(e){return!!hasInterface(e,"TheGamma.TypeProviders.FSharpProvider.GenericType")&&(e.TypeDefinition.FullName===this.TypeDefinition.FullName&&listsEqual(this.TypeArguments,e.TypeArguments,function(e){return function(t){return typesEqual(e,t)}}))}},_Symbol.reflection,function(){return{interfaces:["TheGamma.TypeProviders.FSharpProvider.GenericType"]}})},get TypeArguments(){return e}},_Symbol.reflection,function(){return{interfaces:["TheGamma.TypeProviders.FSharpProvider.GenericTypeSchema"]}})}},_Symbol.reflection,function(){return{interfaces:["TheGamma.TypeProviders.FSharpProvider.GenericTypeDefinition"]}}),new Type("Object",[s])}function provideFSharpTypes(e,t){return function(n){return n.Delay(function(){return n.Bind(Http.Request("GET",t),function(i){var r=JSON.parse(i);return n.Return(toList(delay(function(){return map$3(function(n){var i=importProvidedType(t,e,n);if(n.static){var r=fold(function(e,t){return null!=e?new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null]):new Expression("IdentifierExpression",[t,null])},null,n.instance),o=mapGenericType(i,function(e){return toList(delay(function(){return map$3(function(e){return new Type("Any",[])},range(1,e.TypeParameterCount))}))});return new ProvidedType("GlobalValue",[n.name,new List$1,r,o])}return new ProvidedType("NamedType",[n.name,i])},r)})))})})}(singleton$2)}function parseDoc(e){if(function(){return null==e}())return new Documentation("None",[]);if("string"==typeof e)return new Documentation("Text",[e]);var t=e,n=[t.title,t.details],i=null!=n[0]&&null!=n[1]?[0,n[1],n[0]]:[1];switch(i[0]){case 0:return new Documentation("Details",[i[2],i[1]]);case 1:return new Documentation("None",[])}}function fromRawType(e){if("string"==typeof e)return new ResultType("Primitive",[e]);var t=e;return"record"===t.name?new ResultType("Record",[t.fields.map(function(e){return[e.name,fromRawType(e.type)]})]):new ResultType("Generic",[t.name,_Array$from(map$3(function(e){return fromRawType(e)},t.params))])}function trimLeft$1(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split(""))).join("")}function trimRight$1(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split("").slice().reverse())).slice().reverse().join("")}function concatUrl$1(e,t){return 0===t.indexOf("http://")||0===t.indexOf("https://")?t:trimRight$1("/",e)+"/"+trimLeft$1("/",t)}function load(e,t){return function(n){return n.Delay(function(){return n.Bind(Http.Request("GET",e,null,t),function(e){var t=JSON.parse(e);return n.Return(t)})})}(singleton$2)}function addTraceCall(e,t){return isEmpty(t)?e:BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(e,"addTrace"),ofArray$1([BabelOperators.str(join("&",t))]))}function propAccess(e){return new Emitter(function(t){return addTraceCall(t,e)})}function methCall(e,t){return new Emitter(function(n){return BabelOperators.funcN(count(e),function(i){var r=addTraceCall(n,t);return function(){var e=function(e){return function(t){var n=new Expression("BinaryExpression",[new BinaryOperator("BinaryPlus",[]),BabelOperators.str(t[0]+"="),t[1],null]);return BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(e,"addTrace"),ofArray$1([n]))}};return function(t){return fold(function(t,n){return e(t)(n)},r,t)}}()(zip(e,i))})})}function dataCall(e,t,n){return new Emitter(function(i){var r=propAccess(t).Emit(i),o=new Expression("MemberExpression",[r,new Expression("IdentifierExpression",["getValue",null]),!1,null]);return e(new Expression("CallExpression",[o,ofArray$1([new Expression("StringLiteral",[n,null])]),null]))})}function getTypeAndEmitter(e,t){var n="Generic"===t.Case?"seq"===t.Fields[0]&&1===t.Fields[1].length?"Generic"===t.Fields[1][0].Case&&"tuple"===t.Fields[1][0].Fields[0]&&function(){return 2===t.Fields[1][0].Fields[1].length}()?[4,t.Fields[1][0].Fields[1][0],t.Fields[1][0].Fields[1][1]]:[5,t.Fields[1][0]]:[7]:"Record"===t.Case?[6,t.Fields[0]]:"string"===t.Fields[0]?[0]:"obj"===t.Fields[0]?[1]:"int"===t.Fields[0]?[2]:"float"===t.Fields[0]?[2]:"date"===t.Fields[0]?[3]:[7];switch(n[0]){case 0:return[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}];case 1:return[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}];case 2:return[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return BabelOperators.op_DivideAtDivide(BabelOperators.ident("Number"),ofArray$1([e]))}];case 3:return[new Type("Primitive",[new PrimitiveType("Date",[])]),function(e){return new Expression("NewExpression",[BabelOperators.ident("Date"),ofArray$1([BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("Date"),"parse"),ofArray$1([e]))]),null])}];case 4:var i=getTypeAndEmitter(e,n[1]),r=getTypeAndEmitter(e,n[2]);return[applyTypes(e("series"),ofArray$1([i[0],r[0]])),function(e){return BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("series"),"create"),ofArray$1([BabelOperators.op_DivideAtDivide(BabelOperators.ident("convertTupleSequence"),ofArray$1([BabelOperators.func("v",i[1]),BabelOperators.func("v",r[1]),e])),BabelOperators.str("key"),BabelOperators.str("value"),BabelOperators.str("")]))}];case 5:var o=getTypeAndEmitter(e,n[1]);return[applyTypes(e("series"),ofArray$1([new Type("Primitive",[new PrimitiveType("Number",[])]),o[0]])),function(e){return BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("series"),"ordinal"),ofArray$1([BabelOperators.op_DivideAtDivide(BabelOperators.ident("convertSequence"),ofArray$1([BabelOperators.func("v",o[1]),e])),BabelOperators.str("key"),BabelOperators.str("value"),BabelOperators.str("")]))}];case 6:var s=n[1].map(function(t){var n=getTypeAndEmitter(e,t[1]),i=new Emitter(function(e){return n[1](BabelOperators.op_Dynamic(e,t[0]))});return new Member(t[0],n[0],ofArray$1([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),i)});return[new Type("Object",[_defineProperty({get Members(){return s},TypeEquals:function(e){return!1}},_Symbol.reflection,function(){return{interfaces:["TheGamma.ObjectType"]}})]),function(e){return e}];case 7:throw console.log("getTypeAndEmitter: Cannot handle %O",t),new Error("getTypeAndEmitter: Cannot handle type")}}function createRestType(e,t,n,i,r){var o=function(r){var o=null==r.schema?new List$1:Array.isArray(r.schema)?toList(_Array$from(map$3(function(e){var t=e["@type"];return new Metadata(e["@context"],t,e)},r.schema))):ofArray$1([function(){var e=r.schema["@type"];return new Metadata(r.schema["@context"],e,r.schema)}()]);switch(r.returns.kind){case"provider":var s=r.returns,a=t(s.provider)(s.endpoint);return new Member(r.name,a[0],new List$1(ProviderHelpers.docMeta(parseDoc(r.documentation)),o),a[1]);case"nested":var l=r.returns,u=function(i){try{return createRestType(e,t,n,i,l.endpoint)}catch(e){return null}};if(null==r.parameters){var c=defaultArg(u(i),new Type("Any",[]));return new Member(r.name,c,new List$1(ProviderHelpers.docMeta(parseDoc(r.documentation)),o),propAccess(r.trace))}var p=toList(delay(function(){return map$3(function(t){var n=fromRawType(t.type),i=getTypeAndEmitter(e,n);return new MethodArgument(t.name,t.optional,"static"===t.kind,i[0])},r.parameters)})),h=function(e){if(listsEqual(map$5(function(e){return e[0]},e),toList(delay(function(){return map$3(function(e){return e.Type},p)})),function(e){
return function(t){return typesEqual(e,t)}})){var t=zip(r.parameters,e),n=choose(function(e){var t=null!=e[1][1]&&function(){return e[1][1],"static"===e[0].kind}()?[0,e[0],e[1][1]]:[1];switch(t[0]){case 0:return t[1].cookie+"="+encodeURIComponent(toString$2(t[2]));case 1:return null}},t),o=join("&",append(ofArray$1([i]),n));return u(o)}return null},d=choose(function(e){return e.trace},r.parameters),f=ofArray$1([ProviderHelpers.docMeta(parseDoc(r.documentation))]);return new Member(r.name,new Type("Method",[p,h]),f,methCall(d,r.trace));case"primitive":var m=r.returns,y=fromRawType(m.type),g=getTypeAndEmitter(e,y);return new Member(r.name,g[0],new List$1(ProviderHelpers.docMeta(parseDoc(r.documentation)),o),dataCall(g[1],r.trace,m.endpoint));default:throw new Error("?")}},s=concatUrl$1(n,r)+i,a=tryGetValue(restTypeCache,s,null);if(a[0])return a[1];var l=function(e){return e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(load(concatUrl$1(n,r),i),function(t){var n=function(e){return e.map(o)}(t);return e.Return(new Type("Object",[_defineProperty({get Members(){return n},TypeEquals:function(e){return!1}},_Symbol.reflection,function(){return{interfaces:["TheGamma.ObjectType"]}})]))})}),function(t){return Log.error("providers","Cannot provide object type: %O",t),e.Return(new Type("Any",[]))})})}(singleton$2),u=new Type("Delayed",[function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(s)(l)]);return restTypeCache.set(s,u),u}function provideRestType(e,t,n,i,r){var o=BabelOperators.ident("RuntimeContext");return new ProvidedType("GlobalValue",[n,new List$1,new Expression("NewExpression",[o,ofArray$1([BabelOperators.str(i),BabelOperators.str(r),BabelOperators.str("")]),null]),createRestType(e,t,i,r,"/")])}function makeObjectType(e){return new Type("Object",[new PivotObject(e)])}function isNumeric(e){return e.Equals(new PrimitiveType("Number",[]))}function isBool(e){return e.Equals(new PrimitiveType("Bool",[]))}function isDate(e){return e.Equals(new PrimitiveType("Date",[]))}function isConcatenable(e){return e.Equals(new PrimitiveType("String",[]))}function getTypeAndEmitter$1(e){return"Date"===e.Case?[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return new Expression("NewExpression",[BabelOperators.ident("Date"),ofArray$1([BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("Date"),"parse"),ofArray$1([e]))]),null])}]:"Number"===e.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return BabelOperators.op_DivideAtDivide(BabelOperators.ident("Number"),ofArray$1([e]))}]:"Bool"===e.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return BabelOperators.op_DivideAtDivide(BabelOperators.ident("Boolean"),ofArray$1([e]))}]:"Unit"===e.Case?[new Type("Primitive",[new PrimitiveType("Unit",[])]),function(e){return new Expression("NullLiteral",[null])}]:[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}]}function makeMethodEmitter(e,t){return new Emitter(function(n){return BabelOperators.funcN(count(t),function(t){var i=BabelOperators.arr(toList(delay(function(){return map$3(function(e){return e},t)})));return BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(n,"addCall"),ofArray$1([BabelOperators.str(e),i]))})})}function makeDataEmitter(e,t,n,i){return new Emitter(function(r){return t?BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("series"),"create"),ofArray$1([BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(r,"getData"),ofArray$1([n,BabelOperators.str(Transform.toUrl(reverse$1(i))),BabelOperators.bool(e)])),BabelOperators.str("key"),BabelOperators.str("value"),BabelOperators.str("")])):BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(BabelOperators.ident("series"),"ordinal"),ofArray$1([BabelOperators.op_DivideAtDivide(BabelOperators.op_Dynamic(r,"getData"),ofArray$1([n,BabelOperators.str(Transform.toUrl(reverse$1(i))),BabelOperators.bool(e)])),BabelOperators.str("key"),BabelOperators.str("value"),BabelOperators.str("")]))})}function makeProperty(e,t,n){var i=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),r=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member(t,makePivotType(e,n),ofArray$1([i,r]),propertyEmitter)}function makeMethod(e,t,n,i,r){var o=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),s=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields),a=ofArray$1([o,s]);return new Member(t,new Type("Method",[toList(delay(function(){return collect(function(e){return singleton(new MethodArgument(e[0],!1,!1,new Type("Primitive",[e[1]])))},r)})),function(t){return listsEqual(map$5(function(e){return e[0]},t),r,function(e){return function(t){return typesEqual(e,new Type("Primitive",[t[1]]))}})?makePivotType(e,n):null}]),a,makeMethodEmitter(i,r))}function makeDataMember(e,t,n,i){var r=Transform.transformFields(e.InputFields,reverse$1(i));Log.trace("providers","Make data member using transform %O. Got fields: %O",i,r);var o=void 0;switch((null!=i.tail&&"GetSeries"===i.head.Case?[0]:[1])[0]){case 0:var s=null!=r.tail&&null!=r.tail.tail&&null==r.tail.tail.tail?[0,r.head,r.tail.head]:[1];switch(s[0]){case 0:o=[!0,applyTypes(e.LookupNamed("series"),ofArray$1([new Type("Primitive",[s[1].Type]),new Type("Primitive",[s[2].Type])])),BabelOperators.func("o",function(e){return BabelOperators.arr(ofArray$1([getTypeAndEmitter$1(s[1].Type)[1](BabelOperators.op_DivideQmarkDivide(e,BabelOperators.num(0))),getTypeAndEmitter$1(s[2].Type)[1](BabelOperators.op_DivideQmarkDivide(e,BabelOperators.num(1)))]))})];break;case 1:throw new Error("makeDataMember: Series should have key and value")}break;case 1:var a=unzip(_Array$from(r).map(function(e){var t=getTypeAndEmitter$1(e.Type),n=new Emitter(function(t){return BabelOperators.op_DivideQmarkDivide(t,BabelOperators.str(e.Name))});return[[e.Name,t[1]],new Member(e.Name,t[0],ofArray$1([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),n)]})),l=makeObjectType(a[1]);o=[!1,applyTypes(e.LookupNamed("series"),ofArray$1([new Type("Primitive",[new PrimitiveType("Number",[])]),l])),BabelOperators.func("o",function(e){var t=toList(delay(function(){return collect(function(t){return singleton(new ObjectMember("ObjectProperty",[BabelOperators.str(t[0]),t[1](BabelOperators.op_DivideQmarkDivide(e,BabelOperators.str(t[0]))),!0,null]))},a[0])}));return new Expression("ObjectExpression",[t,null])})]}var u=o[0]?i:new List$1(new Transformation("GetTheData",[]),i),c=toList(delay(function(){return append(singleton(new Metadata("http://schema.thegamma.net/pivot","Transformations",u)),delay(function(){return append(singleton(new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields)),delay(function(){return n?singleton(new Metadata("http://schema.thegamma.net","CompletionItem",{hidden:!0})):empty()}))}))}));return new Member(t,o[1],c,makeDataEmitter(n,o[0],o[2],u))}function handleGetSeriesRequest(e,t,n,i){var r=[n,i];switch(("!"===r[0]?"!"===r[1]?[0]:[2]:"!"===r[1]?[1]:[2])[0]){case 0:return makeObjectType(toList(delay(function(){return map$3(function(n){return makeProperty(e,"with key "+n.Name,new List$1(new Transformation("GetSeries",[n.Name,"!"]),t))},e.Fields)})));case 1:return makeObjectType(toList(delay(function(){return map$3(function(n){return makeDataMember(e,"and value "+n.Name,!1,new List$1(new Transformation("GetSeries",[r[0],n.Name]),t))},e.Fields)})));case 2:throw new Error("handleGetSeriesRequest: Should not happen")}}function handlePagingRequest(e,t,n,i){var r=makeMethod(e,"take",ofArray$1([new Transformation("Empty",[]),new Transformation("Paging",[reverse$1(new List$1(new Paging("Take",[n+"-take"]),i))])],t),n+"-take",ofArray$1([["count",new PrimitiveType("Number",[])]])),o=makeMethod(e,"skip",new List$1(new Transformation("Paging",[new List$1(new Paging("Skip",[n+"-skip"]),i)]),t),n+"-skip",ofArray$1([["count",new PrimitiveType("Number",[])]])),s=makeProperty(e,"then",ofArray$1([new Transformation("Empty",[]),new Transformation("Paging",[reverse$1(i)])],t));return makeObjectType(function(){switch((null!=i.tail?"Skip"===i.head.Case&&null==i.tail.tail?[1]:[2]:[0])[0]){case 0:return ofArray$1([o,r,s]);case 1:return ofArray$1([r,s]);case 2:throw new Error("handlePagingRequest: Shold not happen")}}())}function handleDropRequest(e,t,n){var i=create$5(n,new GenericComparer(compare));return makeObjectType(toList(delay(function(){return append(singleton(makeProperty(e,"then",ofArray$1([new Transformation("Empty",[]),new Transformation("DropColumns",[n])],t))),delay(function(){return collect(function(r){return i.has(r.Name)?empty():singleton(makeProperty(e,"drop "+r.Name,new List$1(new Transformation("DropColumns",[new List$1(r.Name,n)]),t)))},e.Fields)}))})))}function handleSortRequest(e,t,n){var i=create$5(map$5(function(e){return e[0]},n),new GenericComparer(compare));return makeObjectType(toList(delay(function(){return append(singleton(makeProperty(e,"then",ofArray$1([new Transformation("Empty",[]),new Transformation("SortBy",[n])],t))),delay(function(){return collect(function(r){if(i.has(r.Name))return empty();var o=(fsFormat("Use the field '%s' as the next sorting keys")(function(e){return e})(r.Name),n.Equals(new List$1)?"by ":"and by ");return append(singleton(makeProperty(e,o+r.Name,new List$1(new Transformation("SortBy",[new List$1([r.Name,new SortDirection("Ascending",[])],n)]),t))),delay(function(){return singleton(makeProperty(e,o+r.Name+" descending",new List$1(new Transformation("SortBy",[new List$1([r.Name,new SortDirection("Descending",[])],n)]),t)))}))},e.Fields)}))})))}function handleWindowRequest(e,t,n){return makeObjectType(toList(delay(function(){return collect(function(i){return isDate(i.Type)||isNumeric(i.Type)?append(singleton(makeMethod(e,"window by "+i.Name,new List$1(new Transformation("WindowBy",[i.Name,n,new List$1]),t),n,ofArray$1([["size",new PrimitiveType("Number",[])]]))),delay(function(){return singleton(makeProperty(e,"expanding by "+i.Name,new List$1(new Transformation("ExpandBy",[i.Name,ofArray$1([new WindowAggregation("LastKey",[])])]),t)))})):empty()},e.Fields)})))}function handleWindowExpandAggRequest(e,t,n,i,r){var o=exists(function(e){switch(("FirstKey"===e.Case?[0]:"LastKey"===e.Case?[0]:"MiddleKey"===e.Case?[0]:[1])[0]){case 0:return!0;case 1:return!1}},r),s=function(e){return exists(function(t){var n="Max"===t.Case?[0,t.Fields[0]]:"Min"===t.Case?[0,t.Fields[0]]:"Mean"===t.Case?[0,t.Fields[0]]:"FirstKey"===t.Case?[1]:"LastKey"===t.Case?[1]:"MiddleKey"===t.Case?[1]:[0,t.Fields[0]];switch(n[0]){case 0:return n[1]===e;case 1:return!1}},r)},a=function(n){return function(o){return makeProperty(e,n,new List$1(i(append$1(r,ofArray$1([o]))),t))}};return makeObjectType(toList(delay(function(){return append(null!=r.tail?singleton(makeProperty(e,"then",ofArray$1([new Transformation("Empty",[]),i(r)],t))):empty(),delay(function(){return append(o?empty():append(singleton(a("first "+n)(new WindowAggregation("FirstKey",[]))),delay(function(){return append(singleton(a("last "+n)(new WindowAggregation("LastKey",[]))),delay(function(){return singleton(a("middle "+n)(new WindowAggregation("MiddleKey",[])))}))})),delay(function(){return collect(function(e){return s(e.Name)?empty():isNumeric(e.Type)||isBool(e.Type)?append(singleton(a("min "+e.Name)(new WindowAggregation("Min",[e.Name]))),delay(function(){return append(singleton(a("sum "+e.Name)(new WindowAggregation("Sum",[e.Name]))),delay(function(){return append(singleton(a("max "+e.Name)(new WindowAggregation("Max",[e.Name]))),delay(function(){return singleton(a("mean "+e.Name)(new WindowAggregation("Mean",[e.Name])))}))}))})):empty()},e.Fields)}))}))})))}function aggregationMembers(e,t,n,i){var r=exists(function(){var e=new GroupAggregation("CountAll",[]);return function(t){return e.Equals(t)}}(),i),o=function(e){return exists(function(t){var n="ConcatValues"===t.Case?[0,t.Fields[0]]:"Sum"===t.Case?[0,t.Fields[0]]:"Mean"===t.Case?[0,t.Fields[0]]:"CountAll"===t.Case?[1]:"GroupKey"===t.Case?[1]:[0,t.Fields[0]];switch(n[0]){case 0:return n[1]===e;case 1:return!1}},i)},s=function(r){return function(o){return makeProperty(e,r,new List$1(new Transformation("GroupBy",[n,append$1(i,ofArray$1([o]))]),t))}};return toList(delay(function(){return append(singleton(makeProperty(e,"then",ofArray$1([new Transformation("Empty",[]),new Transformation("GroupBy",[n,i])],t))),delay(function(){return append(r?empty():singleton(s("count all")(new GroupAggregation("CountAll",[]))),delay(function(){return collect(function(e){return o(e.Name)?empty():append(singleton(s("count distinct "+e.Name)(new GroupAggregation("CountDistinct",[e.Name]))),delay(function(){return append(isConcatenable(e.Type)?singleton(s("concatenate values of "+e.Name)(new GroupAggregation("ConcatValues",[e.Name]))):empty(),delay(function(){return isNumeric(e.Type)||isBool(e.Type)?append(singleton(s("average "+e.Name)(new GroupAggregation("Mean",[e.Name]))),delay(function(){return singleton(s("sum "+e.Name)(new GroupAggregation("Sum",[e.Name])))})):empty()}))}))},e.Fields)}))}))}))}function handleGroupAggRequest(e,t,n,i){return makeObjectType(aggregationMembers(e,t,n,i))}function handleGroupRequest(e,t,n){var i=null==n.tail?"by ":"and ";return makeObjectType(toList(delay(function(){return append(map$3(function(r){return makeProperty(e,i+r.Name,new List$1(new Transformation("GroupBy",[new List$1(r.Name,n),new List$1]),t))},e.Fields),delay(function(){return null!=n.tail?aggregationMembers(e,t,n,ofArray$1([new GroupAggregation("GroupKey",[])])):empty()}))})))}function handleFilterEqNeqRequest(e,t,n,i,r,o){return function(s){return s.Delay(function(){var a=r.Equals(new FilterOperator("Or",[]))?t:null==o.tail?t:new List$1(new Transformation("FilterBy",[r,o]),t),l=filter$2(function(t){switch(("FilterBy"===t.Case&&e.IgnoreFiltersInRange?[0]:[1])[0]){case 0:return!1;case 1:switch(("FilterBy"===t.Case&&exists(function(e){switch(("Equals"===e[0].Case?[0]:"NotEquals"===e[0].Case?[0]:[1])[0]){case 0:return!1;case 1:return!0}},t.Fields[1])?[0,t.Fields[1]]:[1])[0]){case 0:return!1;case 1:return!0}}},a),u=e.Root+"?"+encodeURIComponent(Transform.toUrl(reverse$1(new List$1(new Transformation("GetRange",[n]),l))));return s.Bind(Http.Request("GET",u),function(a){var l=JSON.parse(a);return s.Return(makeObjectType(toList(delay(function(){return map$3(function(s){return makeProperty(e,s,new List$1(new Transformation("FilterBy",[r,new List$1([i,n,s],o)]),t))},l)}))))})})}(singleton$2)}function handleFilterRequest(e,t,n,i,r){var o=void 0,s=[r,i];return o=ofArray$1(null!=s[0].tail?null==s[0].tail.tail?[["and ",new FilterOperator("And",[])],["or ",new FilterOperator("Or",[])]]:"Or"===s[1].Case?[["or ",new FilterOperator("Or",[])]]:[["and ",new FilterOperator("And",[])]]:[["",new FilterOperator("And",[])]]),makeObjectType(toList(delay(function(){return append(collect(function(i){return collect(function(o){return append(o.Type.Equals(new PrimitiveType("String",[]))?append(singleton(makeProperty(e,i[0]+o.Name+" is",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("Equals",[]),o.Name,"!"],r)]),t))),delay(function(){return append(singleton(makeProperty(e,i[0]+o.Name+" is not",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("NotEquals",[]),o.Name,"!"],r)]),t))),delay(function(){return singleton(makeMethod(e,i[0]+o.Name+" contains",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("Like",[]),o.Name,n],r)]),t),n,ofArray$1([["text",new PrimitiveType("String",[])]])))}))})):empty(),delay(function(){return append(o.Type.Equals(new PrimitiveType("Number",[]))?append(singleton(makeMethod(e,i[0]+o.Name+" is less than",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("LessThan",[]),o.Name,n],r)]),t),n,ofArray$1([["value",new PrimitiveType("Number",[])]]))),delay(function(){return append(singleton(makeMethod(e,i[0]+o.Name+" is greater than",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("GreaterThan",[]),o.Name,n],r)]),t),n,ofArray$1([["value",new PrimitiveType("Number",[])]]))),delay(function(){return singleton(makeMethod(e,i[0]+o.Name+" is in range",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("InRange",[]),o.Name,n],r)]),t),n,ofArray$1([["minimum",new PrimitiveType("Number",[])],["maximum",new PrimitiveType("Number",[])]])))}))})):empty(),delay(function(){return o.Type.Equals(new PrimitiveType("Date",[]))?append(singleton(makeMethod(e,i[0]+o.Name+" is less than",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("LessThan",[]),o.Name,n],r)]),t),n,ofArray$1([["value",new PrimitiveType("Date",[])]]))),delay(function(){return append(singleton(makeMethod(e,i[0]+o.Name+" is greater than",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("GreaterThan",[]),o.Name,n],r)]),t),n,ofArray$1([["value",new PrimitiveType("Date",[])]]))),delay(function(){return singleton(makeMethod(e,i[0]+o.Name+" is in range",new List$1(new Transformation("FilterBy",[i[1],new List$1([new RelationalOperator("InRange",[]),o.Name,n],r)]),t),n,ofArray$1([["minimum",new PrimitiveType("Date",[])],["maximum",new PrimitiveType("Date",[])]])))}))})):empty()}))}))},e.Fields)},o),delay(function(){return null!=r.tail?singleton(makeProperty(e,"then",ofArray$1([new Transformation("Empty",[]),new Transformation("FilterBy",[i,r])],t))):empty()}))})))}function makePivotTypeImmediate(e,t){return function(n){return n.Delay(function(){var i=null!=t.tail?[t.head,t.tail]:[new Transformation("Empty",[]),new List$1],r=void 0,o=Transform.transformFields(e.InputFields,reverse$1(i[1]));r=new Context(e.Root,e.IgnoreFiltersInRange,e.LookupNamed,e.InputFields,o);var s="GetSeries"===i[0].Case?[1,i[0].Fields[0],i[0].Fields[1]]:"Paging"===i[0].Case?[2,i[0].Fields[0]]:"SortBy"===i[0].Case?[3,i[0].Fields[0]]:"DropColumns"===i[0].Case?[4,i[0].Fields[0]]:"FilterBy"===i[0].Case?null!=i[0].Fields[1].tail?"Equals"===i[0].Fields[1].head[0].Case?"!"===i[0].Fields[1].head[2]?[5,i[0].Fields[1].tail,i[0].Fields[1].head[1],i[0].Fields[0],i[0].Fields[1].head[0]]:[6,i[0].Fields[1],i[0].Fields[0]]:"NotEquals"===i[0].Fields[1].head[0].Case&&"!"===i[0].Fields[1].head[2]?[5,i[0].Fields[1].tail,i[0].Fields[1].head[1],i[0].Fields[0],i[0].Fields[1].head[0]]:[6,i[0].Fields[1],i[0].Fields[0]]:[6,i[0].Fields[1],i[0].Fields[0]]:"WindowBy"===i[0].Case?"!"===i[0].Fields[0]&&"!"===i[0].Fields[1]&&null==i[0].Fields[2].tail?[7]:[8,i[0].Fields[2],i[0].Fields[0],i[0].Fields[1]]:"ExpandBy"===i[0].Case?[9,i[0].Fields[1],i[0].Fields[0]]:"GroupBy"===i[0].Case?null==i[0].Fields[1].tail?[10,i[0].Fields[0]]:[11,i[0].Fields[1],i[0].Fields[0]]:"GetTheData"===i[0].Case?[12]:"GetRange"===i[0].Case?[12]:"Metadata"===i[0].Case?[12]:[0];switch(s[0]){case 0:return n.Return(makeObjectType(toList(delay(function(){return append(singleton(makeProperty(r,"group data",new List$1(new Transformation("GroupBy",[new List$1,new List$1]),i[1]))),delay(function(){return append(singleton(makeProperty(r,"filter data",new List$1(new Transformation("FilterBy",[new FilterOperator("And",[]),new List$1]),i[1]))),delay(function(){return append(singleton(makeProperty(r,"sort data",new List$1(new Transformation("SortBy",[new List$1]),i[1]))),delay(function(){return append(singleton(makeProperty(r,"drop columns",new List$1(new Transformation("DropColumns",[new List$1]),i[1]))),delay(function(){return append(singleton(makeProperty(r,"paging",new List$1(new Transformation("Paging",[new List$1]),i[1]))),delay(function(){return append(singleton(makeProperty(r,"get series",new List$1(new Transformation("GetSeries",["!","!"]),i[1]))),delay(function(){return append(singleton(makeDataMember(r,"get the data",!1,i[1])),delay(function(){return exists(function(e){return!!e.Type.Equals(new PrimitiveType("Date",[]))||e.Type.Equals(new PrimitiveType("Number",[]))},r.Fields)?singleton(makeProperty(r,"windowing",new List$1(new Transformation("WindowBy",["!","!",new List$1]),i[1]))):empty()}))}))}))}))}))}))}))}))));case 1:return n.Return(handleGetSeriesRequest(r,i[1],s[1],s[2]));case 2:var a=fsFormat("pgid-%d")(function(e){return e})(sumBy(function(e){return"Paging"===e.Case?1:0},i[1]));return n.Return(handlePagingRequest(r,i[1],a,s[1]));case 3:return n.Return(handleSortRequest(r,i[1],s[1]));case 4:return n.Return(handleDropRequest(r,i[1],s[1]));case 5:return n.ReturnFrom(handleFilterEqNeqRequest(r,i[1],s[2],s[4],s[3],s[1]));case 6:var l=s[1].length+sumBy(function(e){return"FilterBy"===e.Case?e.Fields[1].length:0},i[1]);return n.Return(handleFilterRequest(r,i[1],fsFormat("flid-%d")(function(e){return e})(l),s[2],s[1]));case 7:var u=fsFormat("wnid-%d")(function(e){return e})(sumBy(function(e){return"WindowBy"===e.Case?1:0},i[1]));return n.Return(handleWindowRequest(r,i[1],u));case 8:return n.Return(handleWindowExpandAggRequest(r,i[1],s[2],function(e){return new Transformation("WindowBy",[s[2],s[3],e])},s[1]));case 9:return n.Return(handleWindowExpandAggRequest(r,i[1],s[2],function(e){return new Transformation("ExpandBy",[s[2],e])},s[1]));case 10:return n.Return(handleGroupRequest(r,i[1],s[1]));case 11:return n.Return(handleGroupAggRequest(r,i[1],s[2],s[1]));case 12:return n.Return(function(){throw new Error("makePivotTypeImmediate: GetTheData, GetRange and Metadata shouldn't be of pivot type")}())}})}(singleton$2)}function adjustForPreview(e){var t=null!=e.tail?"WindowBy"===e.head.Case?"!"===e.head.Fields[1]?[0,e.tail]:[4]:"GroupBy"===e.head.Case?null==e.head.Fields[0].tail?[1,e.tail]:null==e.head.Fields[1].tail?[2,e.head.Fields[0],e.tail]:[4]:"GetSeries"===e.head.Case?[3,e.tail]:[4]:[4];switch(t[0]){case 0:case 1:return t[1];case 2:return new List$1(new Transformation("GroupBy",[t[1],ofArray$1([new GroupAggregation("GroupKey",[])])]),t[2]);case 3:return t[1];case 4:return e}}function withPreview(e,t,n){if("Object"===n.Case){return makeObjectType([makeDataMember(e,"preview",!0,adjustForPreview(t))].concat(n.Fields[0].Members))}throw new Error("withPreview: Expected object type")}function makePivotType(e,t){var n=Transform.toUrl(t),i=function(n){return n.Delay(function(){return n.TryWith(n.Delay(function(){return n.Bind(makePivotTypeImmediate(e,t),function(i){return n.Return(withPreview(e,t,i))})}),function(e){return Log.exn("providers","Failed when generating type for %O with exception %O",t,e),n.Return(function(){throw e}())})})}(singleton$2);return new Type("Delayed",[function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(n)(i)])}function makePivotExpression(e){return new Expression("NewExpression",[BabelOperators.ident("PivotContext"),ofArray$1([BabelOperators.str(e),new Expression("ArrayExpression",[new List$1,null])]),null])}function makePivotGlobalValue(e,t,n,i,r){var o=toList(delay(function(){return collect(function(e){return singleton(new Field(e[0],e[1]))},r)})),s=makePivotType(new Context(e,i,n,o,o),new List$1),a=new Metadata("http://schema.thegamma.net/pivot","Transformations",new List$1),l=new Metadata("http://schema.thegamma.net/pivot","Fields",o);return new ProvidedType("GlobalValue",[t,ofArray$1([a,l]),makePivotExpression(e),s])}function providePivotType(e,t,n,i){return function(r){return r.Delay(function(){return r.Bind(Http.Request("GET",e+"?metadata"),function(o){var s=function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(JSON.parse(o)).map(function(e){var t=void 0,n=e.value;switch(n){case"string":t=new PrimitiveType("String",[]);break;case"bool":t=new PrimitiveType("Bool",[]);break;case"number":t=new PrimitiveType("Number",[]);break;case"date":t=new PrimitiveType("Date",[]);break;default:throw new Error(fsFormat("The property '%s' has invalid type '%s'. Only 'string', 'number' and 'bool' are supported.")(function(e){return e})(e.key)(n))}return[e.key,t]});return r.Return(makePivotGlobalValue(e,n,i,t,s))})})}(singleton$2)}function bindEntity(e,t){var n=entityCodeNameAndAntecedents(t),i=map$5(function(e){return e.Symbol},new List$1(e.Root,n[1])),r=void 0,o=ListDictionaryModule.tryFind(i,e.Table);if(r=null!=o?o:create$6(null,new GenericComparer(compare)),r.has([n[0],n[2]]))return Log.trace("binder","Cached: binding %s %s",formatEntityKind(t),n[2]),r.get([n[0],n[2]]);Log.trace("binder","New: binding %s %s",formatEntityKind(t),n[2]);var s=_Symbol2(),a=void 0,l=new List$1,u=new List$1;return a=new Entity(t,s,null,u,null,l),ListDictionaryModule.set(i,add$3([n[0],n[2]],a,r),e.Table),a}function setEntity(e,t,n){return e.Bound.push([t.Range,n]),t.Entity=n,n}function bindExpression(e,t){var n=function(e){return function(t){var n=void 0,i=e;return n=new BindingContext(t.Variables,t.GlobalValues,t.Root,i,null,t.Table,t.Bound),function(e){return bindExpression(n,e)}}},i=function(e){var t=void 0;return t=new BindingContext(e.Variables,e.GlobalValues,e.Root,null,null,e.Table,e.Bound),function(e){return bindExpression(t,e)}};if("Variable"===t.Node.Case){if(null!=e.Chain){var r=function(n){return setEntity(e,t.Node.Fields[0],n)}(bindEntity(e,new EntityKind("MemberName",[t.Node.Fields[0].Node])));return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Member",[e.Chain,r])))}var o=tryFind$1(t.Node.Fields[0].Node,e.Variables);if(null!=o)return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Variable",[t.Node.Fields[0].Node,o])));var s=tryFind$1(t.Node.Fields[0].Node,e.GlobalValues);return null!=s?function(n){return setEntity(e,t,n)}(s):function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("GlobalValue",[t.Node.Fields[0].Node,null])))}if("Call"===t.Node.Case){var a=i(e)(t.Node.Fields[0]),l=function(t){return bindEntity(e,new EntityKind("CallSite",[a,t]))},u=mapIndexed$1(function(t,i){var r=l(null!=i.Name?new Choice("Choice1Of2",[i.Name.Node.Name]):new Choice("Choice2Of2",[t])),o=n(r)(e)(i.Value);return null==i.Name?o:function(t){return setEntity(e,i.Name,t)}(bindEntity(e,new EntityKind("NamedParam",[i.Name.Node,o])))},t.Node.Fields[1].Node),c=function(n){return setEntity(e,t.Node.Fields[1],n)}(bindEntity(e,new EntityKind("ArgumentList",[u])));return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Call",[a,c])))}if("Member"===t.Node.Case){var p=i(e)(t.Node.Fields[0]),h=function(e){return function(t){var n=void 0,i=e;return n=new BindingContext(t.Variables,t.GlobalValues,t.Root,null,i,t.Table,t.Bound),function(e){return bindExpression(n,e)}}}(p)(e)(t.Node.Fields[1]);return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("MemberAccess",[h])))}if("Binary"===t.Node.Case){var d=i(e)(t.Node.Fields[0]),f=i(e)(t.Node.Fields[2]);return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Operator",[d,t.Node.Fields[1].Node,f])))}if("List"===t.Node.Case){var m=map$5(i(e),t.Node.Fields[0]);return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("List",[m])))}if("Function"===t.Node.Case){var y=void 0;if(null==e.CallSite)throw new Error("bindExpression: Function missing call site");y=e.CallSite;var g=function(n){return setEntity(e,t.Node.Fields[0],n)}(bindEntity(e,new EntityKind("Binding",[t.Node.Fields[0].Node,y]))),v=i(new BindingContext(add$3(t.Node.Fields[0].Node,g,e.Variables),e.GlobalValues,e.Root,e.CallSite,e.Chain,e.Table,e.Bound))(t.Node.Fields[1]);return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Function",[g,v])))}if("Boolean"===t.Node.Case)return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Constant",[new Constant("Boolean",[t.Node.Fields[0]])])));if("String"===t.Node.Case)return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Constant",[new Constant("String",[t.Node.Fields[0]])])));if("Number"===t.Node.Case)return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Constant",[new Constant("Number",[t.Node.Fields[0]])])));if("Empty"===t.Node.Case)return function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("Constant",[new Constant("Empty",[])])));var C=function(e){var t=void 0;return t=new BindingContext(e.Variables,e.GlobalValues,e.Root,null,e.Chain,e.Table,e.Bound),function(e){return bindExpression(t,e)}}(e)(t.Node.Fields[1]);return function(n){setEntity(e,t,n)}(bindEntity(e,new EntityKind("Placeholder",[t.Node.Fields[0].Node,C]))),C}function bindCommand(e,t){if("Expr"===t.Node.Case){var n=bindExpression(e,t.Node.Fields[0]),i=function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("RunCommand",[n])));return[e,i]}var r=bindExpression(e,t.Node.Fields[1]),o=function(n){return setEntity(e,t.Node.Fields[0],n)}(bindEntity(e,new EntityKind("Variable",[t.Node.Fields[0].Node,r]))),s=function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("LetCommand",[o,r])));return[new BindingContext(add$3(t.Node.Fields[0].Node,o,e.Variables),e.GlobalValues,e.Root,e.CallSite,e.Chain,e.Table,e.Bound),s]}function bindProgram(e,t){e.Bound.splice(0);var n=fold(function(e,t){var n=bindCommand(e[0],t);return[n[0],new List$1(n[1],e[1])]},[e,new List$1],t.Body.Node);return[function(n){return setEntity(e,t.Body,n)}(bindEntity(e,new EntityKind("Program",[n[1]]))),new BindingResult(_Array$from(e.Bound))]}function createContext(e,t){var n=void 0,i=new EntityKind("Root",[]),r=new List$1,o=_Symbol2(),s=new List$1;n=new Entity(i,o,null,s,null,r);var a=new _Map,l=[];return new BindingContext(create$6(null,new GenericComparer(function(e,t){return e.CompareTo(t)})),create$6(toList(delay(function(){return map$3(function(e){return[new Name(Entity_get_Name.bind(e)()),e]},e)})),new GenericComparer(function(e,t){return e.CompareTo(t)})),n,null,null,a,l)}function start$1(e,t){var n=new MailboxProcessor(e,t);return n.start(),n}function startsWith(e,t,n,i){for(;;){if(n===i.length)return!0;if(t===e.length)return!1;if(e[t]!==i[n])return!1;e=e,t+=1,n+=1,i=i}}function letter(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function number$1(e){return e>="0"&&e<="9"}function addAndTokenize(e,t,n,i){return function(t){e.Tokens.push(t)}(new Token(t,new _Range(n,n+i-1))),tokenizeInput(e,n+i)}function tokenizeIdent(e,t,n){for(;;){if(!(t+n<e.Input.length&&(letter(e.Input[t+n])||number$1(e.Input[t+n]))))return addAndTokenize(e,new TokenKind("Ident",[e.Input.substr(t,n)]),t,n);e=e,t=t,n+=1}}function tokenizeString(e,t,n,i){e:for(;;){if(n+i>=e.Input.length)return tokenizeStringEnd(!0,e,t,n,i);var r=e.Input[n+i],o="\\"===r&&n+i+1>=e.Input.length?[0]:[1];switch(o[0]){case 0:return tokenizeStringEnd(!0,e,new List$1("\\",t),n,i+1);case 1:if('"'===r)return tokenizeStringEnd(!1,e,t,n,i+1);if("\\"===r){var s=e.Input[n+i+1];if('"'===s){e=e,t=new List$1('"',t),n=n,i+=2;continue e}if("\\"===s){e=e,t=new List$1("\\",t),n=n,i+=2;continue e}if("n"===s){e=e,t=new List$1("\n",t),n=n,i+=2;continue e}if("t"===s){e=e,t=new List$1("\t",t),n=n,i+=2;continue e}e=e,t=ofArray$1([s,"\\"],t),n=n,i+=2;continue e}e=e,t=new List$1(r,t),n=n,i+=1;continue e}}}function tokenizeStringEnd(e,t,n,i,r){var o=_Array$from(n).slice().reverse().join(""),s=new _Range(i,i+r);return e&&t.Errors.push(Tokenizer.inputEndInsideString(s,o)),addAndTokenize(t,new TokenKind("String",[o]),i,r)}function tokenizeQuotedIdent(e,t,n){for(;;){if(t+n>=e.Input.length)return tokenizeQuotedIdentEnd(!0,e,t,n);var i=e.Input[t+n];if("\n"===i)return tokenizeQuotedIdentEnd(!0,e,t,n+1);if("'"===i)return tokenizeQuotedIdentEnd(!1,e,t,n+1);e=e,t=t,n+=1}}function tokenizeQuotedIdentEnd(e,t,n,i){var r=new _Range(n,n+i),o=t.Input.substr(n+1,i-(e?1:2)),s=endsWith(o,"\n")?o.substr(0,o.length-1):o;return e&&t.Errors.push(Tokenizer.missingClosingQuote(r,s)),addAndTokenize(t,new TokenKind("QIdent",[s]),n,i)}function tokenizeWhite(e,t,n){for(;;){if(!(t+n<e.Input.length&&" "===e.Input[t+n]))return addAndTokenize(e,new TokenKind("White",[e.Input.substr(t,n)]),t,n);e=e,t=t,n+=1}}function tokenizeNumber(e,t,n,i){for(;;)if(n+i<e.Input.length&&number$1(e.Input[n+i]))e=e,t=t,n=n,
i+=1;else{if(!(n+i<e.Input.length)||t||"."!==e.Input[n+i]){var r=e.Input.substr(n,i);return addAndTokenize(e,new TokenKind("Number",[r,_Number$parseFloat(r)]),n,i)}e=e,t=!0,n=n,i+=1}}function tokenizeInput(e,t){if(t>=e.Input.length)return e;var n=e.Input[t];switch(("-"===n&&startsWith(e.Input,t,0,"->")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Arrow",[]),t,2);case 1:switch(("f"===n&&startsWith(e.Input,t,0,"fun")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Fun",[]),t,3);case 1:switch(("l"===n&&startsWith(e.Input,t,0,"let")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Let",[]),t,3);case 1:switch(("t"===n&&startsWith(e.Input,t,0,"true")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Boolean",[!0]),t,4);case 1:switch(("f"===n&&startsWith(e.Input,t,0,"false")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Boolean",[!1]),t,5);case 1:switch(("<"===n&&startsWith(e.Input,t,0,"<=")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Operator",[new Operator("LessThanOrEqual",[])]),t,2);case 1:switch((">"===n&&startsWith(e.Input,t,0,">=")?[0]:[1])[0]){case 0:return addAndTokenize(e,new TokenKind("Operator",[new Operator("GreaterThanOrEqual",[])]),t,2);case 1:return"\n"===n?addAndTokenize(e,new TokenKind("Newline",[]),t,1):" "===n?tokenizeWhite(e,t,1):'"'===n?tokenizeString(e,new List$1,t,1):"%"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Modulo",[])]),t,1):"'"===n?tokenizeQuotedIdent(e,t,1):"("===n?addAndTokenize(e,new TokenKind("LParen",[]),t,1):")"===n?addAndTokenize(e,new TokenKind("RParen",[]),t,1):"*"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Multiply",[])]),t,1):"+"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Plus",[])]),t,1):","===n?addAndTokenize(e,new TokenKind("Comma",[]),t,1):"-"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Minus",[])]),t,1):"."===n?addAndTokenize(e,new TokenKind("Dot",[]),t,1):"/"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Divide",[])]),t,1):":"===n?addAndTokenize(e,new TokenKind("Colon",[]),t,1):"<"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("LessThan",[])]),t,1):"="===n?addAndTokenize(e,new TokenKind("Equals",[]),t,1):">"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("GreaterThan",[])]),t,1):"["===n?addAndTokenize(e,new TokenKind("LSquare",[]),t,1):"]"===n?addAndTokenize(e,new TokenKind("RSquare",[]),t,1):"^"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Power",[])]),t,1):letter(n)?tokenizeIdent(e,t,1):number$1(n)?tokenizeNumber(e,!1,t,1):(e.Errors.push(Tokenizer.unexpectedCharacter(new _Range(t,t),n)),addAndTokenize(e,new TokenKind("Error",[n]),t,1))}}}}}}}}function tokenize(e){var t=void 0;t=new Context$2([],[],e);var n=tokenizeInput(t,0);return n.Tokens.push(new Token(new TokenKind("EndOfFile",[]),new _Range(e.length,e.length))),[_Array$from(n.Tokens),_Array$from(n.Errors)]}function node$1(e,t){return new _Node(new List$1,new List$1,e,t,null)}function whiteAfter(e,t){var n=append$1(t.WhiteAfter,e);return new _Node(t.WhiteBefore,n,t.Range,t.Node,t.Entity)}function whiteBefore(e,t){return new _Node(append$1(e,t.WhiteBefore),t.WhiteAfter,t.Range,t.Node,t.Entity)}function _Identifier___(e,t){var n=[e,t],i="Ident"===n[1].Token.Case?[0,n[1].Token.Fields[0],n[1].Range,n[0]]:"QIdent"===n[1].Token.Case?[0,n[1].Token.Fields[0],n[1].Range,n[0]]:[1];switch(i[0]){case 0:return function(e){return whiteBefore(i[3],e)}(node$1(i[2],new Name(i[1])));case 1:return null}}function precedence(e){switch(("GreaterThan"===e.Case?[1]:"GreaterThanOrEqual"===e.Case?[1]:"LessThan"===e.Case?[1]:"LessThanOrEqual"===e.Case?[1]:"Plus"===e.Case?[2]:"Minus"===e.Case?[2]:"Modulo"===e.Case?[3]:"Multiply"===e.Case?[3]:"Divide"===e.Case?[3]:"Power"===e.Case?[4]:[0])[0]){case 0:return[0,new Associativity("Left",[])];case 1:return[1,new Associativity("Left",[])];case 2:return[2,new Associativity("Left",[])];case 3:return[3,new Associativity("Left",[])];case 4:return[4,new Associativity("Right",[])]}}function precClimb(e,t){return function(t){return function(n){e:for(;;){var i=null!=n&&function(){var t=n[0];n[1];return precedence(t.Node)[0]>=e}()?[0,n[1],n[0]]:[1];switch(i[0]){case 0:var r=precedence(i[2].Node),o=r[1].Equals(new Associativity("Left",[]))?r[0]+1:r[0],s=precClimb(o,i[1]),a=node$1(unionRanges(t.Range,s[0].Range),new Expr("Binary",[t,i[2],s[0]]));t=a,n=s[1];continue e;case 1:return[t,n]}}}}(t.Fields[0])(t.Fields[1])}function buildExpression(e,t){return precClimb(0,fold(function(e,t){return new OpExpr("OpExpr",[t[0],[t[1],e]])},new OpExpr("OpExpr",[t,null]),e))[0]}function parseExpressionOrNamedParam(e){var t=Context$1.clone(e),n=Context$1.tokenIndent(t),i=void 0;if(null!=n){var r=_Identifier___(n[0],n[1]);i=null!=r?[0,r]:[1]}else i=[1];switch(i[0]){case 0:Context$1.next(t);var o=Context$1.tokenIndent(t),s=null!=o&&"Equals"===o[1].Token.Case?[0,o[1],o[0]]:[1];switch(s[0]){case 0:Context$1.tokenIndent(e),Context$1.next(e),Context$1.tokenIndent(e),Context$1.next(e);var a=parseExpression(new List$1,e);return null==a?(function(t){Context$1.error(e,t)}(Parser.unexpectedTokenInArgList(s[1].Range,s[1].Token)),new Choice("Choice1Of2",[[whiteAfter(s[2],i[1]),node$1(new _Range(i[1].Range.End,i[1].Range.End),new Expr("Empty",[]))]])):new Choice("Choice1Of2",[[whiteAfter(s[2],i[1]),a]]);case 1:return new Choice("Choice2Of2",[parseExpression(new List$1,e)])}case 1:return new Choice("Choice2Of2",[parseExpression(new List$1,e)])}}function parseCallArgList(e,t,n,i){e:for(;;){var r=function(){var r=void 0,o=parseExpressionOrNamedParam(i);r="Choice1Of2"===o.Case?[!0,new List$1(new Argument(o.Fields[0][0],o.Fields[0][1]),n)]:null!=o.Fields[0]?[!0,new List$1(new Argument(null,o.Fields[0]),n)]:[!1,n];var s=Context$1.tokenIndent(i),a=null!=s?"RParen"===s[1].Token.Case?[0,s[1],s[0]]:"Comma"===s[1].Token.Case&&function(){s[0],s[1].Range;return r[0]}()?[1,s[1].Range,s[0]]:[2]:[2];switch(a[0]){case 0:return Context$1.next(i),e&&!r[0]&&function(e){Context$1.error(i,e)}(Parser.unexpectedTokenInArgList(t,new TokenKind("RParen",[]))),{v:[a[1].Range,a[2],reverse$1(r[1])]};case 1:return Context$1.next(i),e=!0,t=a[1],n=r[1],i=i,"continue|parseCallArgList";case 2:var l=null!=s&&function(){return!s[1].Token.Equals(new TokenKind("EndOfFile",[]))}()?[0,s[1]]:[1];switch(l[0]){case 0:return Context$1.next(i),function(e){Context$1.error(i,e)}(Parser.unexpectedTokenInArgList(l[1].Range,l[1].Token)),{v:Context$1.silent(i,function(t){return parseCallArgList(e,l[1].Range,r[1],t)})};case 1:return function(e){Context$1.error(i,e)}(Parser.unexpectedScopeEndInArgList(t)),{v:[t,new List$1,reverse$1(r[1])]}}}}();switch(r){case"continue|parseCallArgList":continue e;default:if("object"===(void 0===r?"undefined":_typeof(r)))return r.v}}}function parsePlaceholderRecovery(e,t,n,i,r){e:for(;;){var o=function(){var o=Context$1.tokenIndent(r),s=null!=o?"RSquare"===o[1].Token.Case?[0,o[1].Range,o[0]]:function(){o[0];return!o[1].Token.Equals(new TokenKind("EndOfFile",[]))}()?[1,o[1],o[0]]:[2]:[2];switch(s[0]){case 0:return Context$1.next(r),e||function(e){Context$1.error(r,e)}(Parser.unexpectedEndOfPlaceholder(s[1])),{v:[s[1],append$1(i,s[2])]};case 1:return Context$1.next(r),e||function(e){Context$1.error(r,e)}(Parser.unexpectedTokenInPlaceholder(s[1].Range,s[1].Token)),e=!0,t=s[1].Range,n=s[1].Token,i=append$1(i,append$1(s[2],ofArray$1([s[1]]))),r=r,"continue|parsePlaceholderRecovery";case 2:return e||function(e){Context$1.error(r,e)}(Parser.unexpectedScopeEndInPlaceholder(t,n)),{v:[t,i]}}}();switch(o){case"continue|parsePlaceholderRecovery":continue e;default:if("object"===(void 0===o?"undefined":_typeof(o)))return o.v}}}function parsePlaceholder(e,t){var n=Context$1.tokenIndent(t),i=void 0;if(null!=n){var r=_Identifier___(n[0],n[1]);i=null!=r?[0,r,n[1]]:[1]}else i=[1];switch(i[0]){case 0:Context$1.next(t);var o=Context$1.tokenIndent(t),s=null!=o&&"Colon"===o[1].Token.Case?[0,o[1].Range,o[0]]:[1];switch(s[0]){case 0:Context$1.next(t);var a=parseExpression(new List$1,t);if(null==a){var l=parsePlaceholderRecovery(!1,s[1],new TokenKind("Colon",[]),new List$1,t);return[l[0],new Expr("Placeholder",[i[1],whiteAfter(l[1],node$1(l[0],new Expr("Empty",[])))])]}var u=Context$1.tokenIndent(t),c=null!=u&&"RSquare"===u[1].Token.Case?[0,u[1].Range,u[0]]:[1];switch(c[0]){case 0:return Context$1.next(t),[c[1],new Expr("Placeholder",[whiteAfter(s[2],i[1]),whiteAfter(c[2],a)])];case 1:var p=parsePlaceholderRecovery(!1,a.Range,null,new List$1,t);return[p[0],new Expr("Placeholder",[i[1],whiteAfter(p[1],a)])]}case 1:var h=parsePlaceholderRecovery(!1,i[1].Range,i[2].Token,new List$1,t);return[h[0],new Expr("Placeholder",[i[1],whiteAfter(h[1],node$1(h[0],new Expr("Empty",[])))])]}case 1:var d=parsePlaceholderRecovery(!1,e,new TokenKind("LSquare",[]),new List$1,t);return[d[0],new Expr("Placeholder",[node$1(e,new Name("")),whiteAfter(d[1],node$1(d[0],new Expr("Empty",[])))])]}}function parseIdentAfterDot(e,t,n,i){var r=Context$1.tokenIndent(i),o=void 0;if(null!=r){var s=_Identifier___(r[0],r[1]);o=null!=s?[0,s]:[1]}else o=[1];switch(o[0]){case 0:Context$1.next(i);return parseCallOrMember(node$1(unionRanges(e.Range,o[1].Range),new Expr("Member",[e,node$1(o[1].Range,new Expr("Variable",[o[1]]))])),i);case 1:var a=null==r?[1]:"LSquare"===r[1].Token.Case?[0,r[1].Range,r[0]]:"EndOfFile"===r[1].Token.Case?[1]:[2,r[1],r[0]];switch(a[0]){case 0:Context$1.next(i);var l=parsePlaceholder(a[1],i);return parseCallOrMember(function(e){return whiteBefore(a[2],e)}(node$1(unionRanges(a[1],l[0]),new Expr("Member",[e,node$1(unionRanges(l[0],a[1]),l[1])]))),i);case 1:!function(e){Context$1.error(i,e)}(Parser.unexpectedScopeEndAfterDot(t,n));var u=new _Range(t.End+1,t.End);return node$1(unionRanges(e.Range,u),new Expr("Member",[e,node$1(u,new Expr("Variable",[node$1(u,new Name(""))]))]));case 2:Context$1.next(i),function(e){Context$1.error(i,e)}(Parser.unexpectedTokenAfterDot(a[1].Range,a[1].Token));var c=new _Range(t.End+1,t.End),p=node$1(unionRanges(e.Range,c),new Expr("Member",[e,node$1(c,new Expr("Variable",[node$1(c,new Name(""))]))]));return Context$1.silent(i,function(e){return parseIdentAfterDot(p,t,n,e)})}}}function parseCallOrMember(e,t){var n=Context$1.tokenIndent(t),i=null!=n?"LParen"===n[1].Token.Case?[0,n[1].Range,n[0]]:"Dot"===n[1].Token.Case?[1,n[1],n[0]]:[2]:[2];switch(i[0]){case 0:Context$1.next(t);var r=parseCallArgList(!1,i[1],new List$1,t),o=node$1(unionRanges(e.Range,r[0]),new Expr("Call",[e,whiteAfter(r[1],node$1(unionRanges(i[1],r[0]),r[2]))])),s=Context$1.tokenIndent(t),a=null!=s&&"Dot"===s[1].Token.Case?[0,s[1],s[0]]:[1];switch(a[0]){case 0:return Context$1.next(t),parseIdentAfterDot(whiteAfter(a[2],o),a[1].Range,a[1].Token,t);case 1:return o}case 1:return Context$1.next(t),parseIdentAfterDot(whiteAfter(i[2],e),i[1].Range,i[1].Token,t);case 2:return e}}function parseFunction(e,t){var n=Context$1.tokenIndent(e),i=void 0;if(null!=n){var r=_Identifier___(n[0],n[1]);i=null!=r?[0,r]:[1]}else i=[1];switch(i[0]){case 0:Context$1.next(e);var o=Context$1.tokenIndent(e),s=null!=o&&"Arrow"===o[1].Token.Case?[0,o[1].Range,o[0]]:[1,o];switch(s[0]){case 0:Context$1.next(e);var a=void 0,l=parseExpression(new List$1,e);null!=l?a=l:(!function(t){Context$1.error(e,t)}(Parser.missingBodyOfFunc(unionRanges(t,s[1]))),a=node$1(new _Range(s[1].End,s[1].End),new Expr("Empty",[])));return node$1(unionRanges(t,a.Range),new Expr("Function",[whiteAfter(s[2],i[1]),a]));case 1:var u=void 0;if(null!=s[1]){var c=s[1][0];u=[s[1][1].Range,c]}else u=[unionRanges(t,i[1].Range),new List$1];!function(t){Context$1.error(e,t)}(Parser.missingArrowInFunc(u[0]));var p=void 0,h=parseExpression(new List$1,e);return p=null!=h?h:node$1(new _Range(i[1].Range.End,i[1].Range.End),new Expr("Empty",[])),node$1(unionRanges(t,p.Range),new Expr("Function",[i[1],whiteBefore(u[1],p)]))}case 1:if(null==n){!function(t){Context$1.error(e,t)}(Parser.unexpectedScopeEndInFunc(t));var d=new _Range(t.End,t.End);return node$1(d,new Expr("Function",[node$1(d,new Name("")),node$1(d,new Expr("Empty",[]))]))}var f=n[0],m=n[1];!function(t){Context$1.error(e,t)}(Parser.unexpectedTokenAfterFun(m.Range,m.Token));var y=new _Range(t.End,t.End);return function(e){return whiteBefore(f,e)}(node$1(y,new Expr("Function",[node$1(y,new Name("")),node$1(y,new Expr("Empty",[]))])))}}function parseListElements(e,t,n,i,r,o){e:for(;;){var s=function(){var s=void 0,a=parseExpression(new List$1,o);s=null!=a?[!0,function(e){return new List$1(whiteAfter(e,a),r)}]:[!1,function(e){return r}];var l=Context$1.tokenIndent(o),u=null!=l?"RSquare"===l[1].Token.Case?[0,l[1].Range,l[0]]:"Comma"===l[1].Token.Case?[1,l[1].Range,l[0]]:function(){return!l[1].Token.Equals(new TokenKind("EndOfFile",[]))}()?[2,l[1]]:[3]:[3];switch(u[0]){case 0:return Context$1.next(o),!s[0]&&e&&function(e){Context$1.error(o,e)}(Parser.unexpectedTokenInList(t,new TokenKind("Comma",[]))),{v:function(e){return whiteBefore(u[2],e)}(node$1(unionRanges(i,u[1]),new Expr("List",[reverse$1(s[1](new List$1))])))};case 1:return Context$1.next(o),!s[0]&&e&&function(e){Context$1.error(o,e)}(Parser.unexpectedTokenInList(u[1],new TokenKind("Comma",[]))),e=!0,t=u[1],n=n,i=i,r=s[1](u[2]),o=o,"continue|parseListElements";case 2:return Context$1.next(o),function(e){Context$1.error(o,e)}(Parser.unexpectedTokenInList(u[1].Range,u[1].Token)),{v:Context$1.silent(o,function(t){return parseListElements(e,u[1].Range,n,i,s[1](new List$1),t)})};case 3:return function(e){Context$1.error(o,e)}(Parser.unexpectedScopeEndInList(t)),{v:node$1(unionRanges(i,t),new Expr("List",[reverse$1(s[1](new List$1))]))}}}();switch(s){case"continue|parseListElements":continue e;default:if("object"===(void 0===s?"undefined":_typeof(s)))return s.v}}}function parseTerm(e){var t=Context$1.tokenIndent(e),n=void 0;if(null!=t){var i=_Identifier___(t[0],t[1]);n=null!=i?[0,i]:[1]}else n=[1];switch(n[0]){case 0:return Context$1.next(e),parseCallOrMember(node$1(n[1].Range,new Expr("Variable",[n[1]])),e);case 1:var r=null!=t?"Number"===t[1].Token.Case?[0,t[1].Token.Fields[1],t[1].Range,t[0]]:"String"===t[1].Token.Case?[1,t[1].Range,t[1].Token.Fields[0],t[0]]:"Boolean"===t[1].Token.Case?[2,t[1].Token.Fields[0],t[1].Range,t[0]]:"LParen"===t[1].Token.Case?[3,t[1],t[0]]:"LSquare"===t[1].Token.Case?[4,t[1],t[0]]:"Fun"===t[1].Token.Case?[5,t[1],t[0]]:[6]:[6];switch(r[0]){case 0:return Context$1.next(e),function(e){return whiteAfter(r[3],e)}(node$1(r[2],new Expr("Number",[r[1]])));case 1:return Context$1.next(e),function(e){return whiteAfter(r[3],e)}(node$1(r[1],new Expr("String",[r[2]])));case 2:return Context$1.next(e),function(e){return whiteAfter(r[3],e)}(node$1(r[2],new Expr("Boolean",[r[1]])));case 3:return Context$1.next(e),parseParenTermEnd(new List$1(r[1],reverse$1(r[2])),new List$1,parseExpression(new List$1,e),e);case 4:return Context$1.next(e),parseListElements(!1,r[1].Range,r[2],r[1].Range,new List$1,e);case 5:return Context$1.next(e),parseFunction(e,r[1].Range);case 6:return null}}}function parseParenTermEnd(e,t,n,i){var r=function(t){var r=void 0;if(null==n){var o=function(e){return reduce(function(e,t){return unionRanges(e,t)},e)}(map$5(function(e){return e.Range},append$1(ofArray$1([e.head]),t)));!function(e){Context$1.error(i,e)}(Parser.missingParenthesizedExpr(o)),r=node$1(o,new Expr("Empty",[]))}else r=n;return whiteAfter(reverse$1(t),whiteBefore(reverse$1(e),r))},o=Context$1.tokenIndent(i);if(null==o){var s=null!=n?n.Range:e.head.Range;return function(e){Context$1.error(i,e)}(Parser.unexpectedScopeEndInParenthesizedExpr(s)),r(t)}return"RParen"===o[1].Token.Case?(Context$1.next(i),r(new List$1(o[1],append$1(reverse$1(o[0]),t)))):(Context$1.next(i),function(e){Context$1.error(i,e)}(Parser.unexpectedTokenInParenthesizedExpr(o[1].Range,o[1].Token)),Context$1.silent(i,function(i){return parseParenTermEnd(e,new List$1(o[1],append$1(reverse$1(o[0]),t)),n,i)}))}function parseExpression(e,t){e:for(;;){var n=[e,parseTerm(t)];if(null==n[1]){if(null!=n[0].tail){var i=n[0].tail,r=n[0].head[0],o=n[0].head[1];return function(e){Context$1.error(t,e)}(Parser.unexpectedEndAfterOperator(o.Range,new TokenKind("Operator",[o.Node]))),buildExpression(i,r)}return null}var s=function(){var i=n[1],r=Context$1.tokenIndent(t);return null==r?{v:buildExpression(n[0],i)}:"Equals"===r[1].Token.Case?(Context$1.next(t),e=new List$1([i,whiteBefore(r[0],node$1(r[1].Range,new Operator("Equals",[])))],n[0]),t=t,"continue|parseExpression"):"Operator"===r[1].Token.Case?(Context$1.next(t),e=new List$1([i,whiteBefore(r[0],node$1(r[1].Range,r[1].Token.Fields[0]))],n[0]),t=t,"continue|parseExpression"):{v:function(e){return whiteAfter(r[0],e)}(buildExpression(n[0],i))}}();switch(s){case"continue|parseExpression":continue e;default:if("object"===(void 0===s?"undefined":_typeof(s)))return s.v}}}function parseLetBindingBody(e,t){var n=parseExpression(new List$1,t);if(null==n){var i=Context$1.tokenIndent(t);if(null!=i){var r=(i[0],i[1]);return function(e){Context$1.error(t,e)}(Parser.unexpectedTokenInLetBinding(r.Range,r.Token)),Context$1.silent(t,function(e){return parseLetBindingBody(r.Range,e)})}return function(e){Context$1.error(t,e)}(Parser.unexpectedScopeEndInLet(e)),node$1(e,new Expr("Empty",[]))}return n}function skipNestedTokens(e,t,n){for(;;){var i=Context$1.tokenIndent(n);{if(null==i)return[e,t];if("EndOfFile"===i[1].Token.Case)return[equals(e,null)?i[1]:e,append$1(t,i[0])];Context$1.next(n);e=equals(e,null)?i[1]:e,t=append$1(t,append$1(i[0],ofArray$1([i[1]]))),n=n}}}function parseLetBinding(e,t,n){var i=Context$1.tokenIndent(n),r=void 0;if(null!=i){var o=_Identifier___(i[0],i[1]);r=null!=o?[0,o]:[1]}else r=[1];switch(r[0]){case 0:Context$1.next(n);var s=Context$1.tokenIndent(n);if(null==s){!function(e){Context$1.error(n,e)}(Parser.missingBodyInLetBinding(r[1].Range));var a=node$1(new _Range(r[1].Range.End,r[1].Range.End),new Expr("Empty",[]));return function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,r[1].Range),new Command("Let",[r[1],a])))}if("Equals"===s[1].Token.Case){Context$1.next(n);var l=parseLetBindingBody(s[1].Range,n);return function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,l.Range),new Command("Let",[whiteAfter(s[0],r[1]),l])))}!function(e){Context$1.error(n,e)}(Parser.unexpectedTokenInLetBinding(s[1].Range,s[1].Token));var u=parseLetBindingBody(s[1].Range,n);return function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,r[1].Range),new Command("Let",[whiteAfter(s[0],r[1]),u])));case 1:if(null==i){!function(e){Context$1.error(n,e)}(Parser.missingBodyInLetBinding(t));var c=new _Range(t.End,t.End);return function(t){return whiteBefore(e,t)}(function(e){return node$1(c,e)}(new Command("Let",[node$1(c,new Name("")),node$1(c,new Expr("Empty",[]))])))}var p=i[0],h=i[1];!function(e){Context$1.error(n,e)}(Parser.unexpectedTokenInLetBinding(h.Range,h.Token));var d=new _Range(t.End,t.End),f=void 0,m=parseExpression(new List$1,n);if(null==m){var y=skipNestedTokens(null,new List$1,n),g=function(e){return reduce(function(e,t){return unionRanges(e,t)},e)}(map$5(function(e){return e.Range},new List$1(h,y[1])));f=whiteAfter(new List$1(h,y[1]),node$1(g,new Expr("Empty",[])))}else f=m;return function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,f.Range),new Command("Let",[whiteBefore(p,node$1(d,new Name(""))),f])))}}function parseCommands(e,t){e:for(;;){var n=function(){var n=Context$1.tokenNonIndent(t);if(null==n){var i=skipNestedTokens(null,new List$1,t),r=i[0];!function(e){Context$1.error(t,e)}(Parser.unexpectedNestedTokenInCommand(r.Range,r.Token));var o=function(e){return reduce(function(e,t){return unionRanges(e,t)},e)}(map$5(function(e){return e.Range},new List$1(r,i[1]))),s=function(e){return whiteAfter(i[1],e)}(node$1(o,new Command("Expr",[node$1(o,new Expr("Empty",[]))])));return e=new List$1(s,e),t=t,"continue|parseCommands"}if("EndOfFile"===n[1].Token.Case)return null==e.tail?{v:new List$1}:{v:reverse$1(new List$1(new _Node(e.head.WhiteBefore,n[0],e.head.Range,e.head.Node,e.head.Entity),e.tail))};if("Let"===n[1].Token.Case){Context$1.next(t);var a=parseLetBinding(n[0],n[1].Range,t);return e=new List$1(a,e),t=t,"continue|parseCommands"}var l=parseExpression(new List$1,t);if(null==l){var u=skipNestedTokens(null,new List$1,t);!function(e){Context$1.error(t,e)}(Parser.unexpectedNestedTokenInCommand(n[1].Range,n[1].Token));var c=function(e){return reduce(function(e,t){return unionRanges(e,t)},e)}(map$5(function(e){return e.Range},new List$1(n[1],u[1]))),p=whiteAfter(new List$1(n[1],u[1]),node$1(c,new Command("Expr",[node$1(c,new Expr("Empty",[]))])));return e=new List$1(p,e),t=t,"continue|parseCommands"}var h=function(e){return whiteBefore(n[0],e)}(node$1(l.Range,new Command("Expr",[l])));return e=new List$1(h,e),t=t,"continue|parseCommands"}();switch(n){case"continue|parseCommands":continue e;default:if("object"===(void 0===n?"undefined":_typeof(n)))return n.v}}}function parseProgram(e){try{var t=tokenize(e),n=void 0,i=[];n=new ParsingContext(t[0],[],i,!1,0);var r=parseCommands(new List$1,n),o=t[1].concat(_Array$from(n.Errors)),s=fold(function(e,t){return unionRanges(e,t.Range)},new _Range(0,0),r);return[new Program$$1(node$1(s,r)),o]}catch(e){Log.exn("parsing","Exception while parsing program: %O",e);var a=new _Range(0,0),l=Parser.exceptionWhileParsing(a,toString$2(e));return[new Program$$1(node$1(a,new List$1)),[l]]}}function addError(e,t,n){e.Errors.push(n(e.Ranges.get(t.Symbol)))}function inferListType(e){return reduce(function(e){return function(t,n){return e(t)>e(n)?t:n}}(function(e){return e[1]}),append$1(ofArray$1([[new Type("Any",[]),0]]),map$5(function(e){return[e.head,e.length]},function(e){return List.groupWith(function(e){return function(t){return typesEqual(e,t)}},e)}(filter$2(function(e){return"Any"!==e.Case},e)))))[0]}function resolveParameterType(e,t){if("Method"===e.Case){var n="Choice2Of2"===t.Case?function(e){return tryItem(t.Fields[0],e)}(e.Fields[0]):tryFind(function(e){return e.Name===t.Fields[0]},e.Fields[0]);if(null!=n)return n.Type;throw new Error("resolveParameterType: Parameter specification was incorrect")}throw new Error("resolveParameterType: Instance is not an object")}function checkMethodCallAsync(e,t,n,i,r,o){return function(s){return s.Delay(function(){var a=void 0,l=toList(takeWhile(function(e){return"NamedParam"!==e.Kind.Case},o)),u=toList(skipWhile(function(e){return"NamedParam"!==e.Kind.Case},o));a=[_Array$from(l),create$6(choose$1(function(e){return"NamedParam"===e.Kind.Case?[e.Kind.Fields[0].Name,e.Kind.Fields[1]]:(function(n){addError(t,e,n)}(function(e){return TypeChecker.nameBasedParamMustBeLast(e)}),null)},u),new GenericComparer(compare))];var c=mapIndexed$1(function(e,n){var i=e<a[0].length?a[0][e]:tryFind$1(n.Name,a[1]);if(null==i){if(n.Optional)return[n.Type,null];if(null==i)return function(e){addError(t,r,e)}(function(e){return TypeChecker.parameterMissingValue(n.Name,e)}),[new Type("Any",[]),null];throw new Error("C:\\Tomas\\Public\\the-gamma\\thegamma-script\\src\\thegamma\\analyzer/typechecker.fs",75,12)}return[getType$1(t,i),n.Static?i:null]},n);return Log.trace("typechecker","Evaluating arguments of type-level method '%s'",e),s.Combine(s.For(choose(function(e){return e[1]},c),function(e){return e.Value=t.Evaluate(e),s.Zero()}),s.Delay(function(){Log.trace("typechecker","Evaluated arguments of '%s': %O",e,_Array$from(delay(function(){return map$3(function(e){return e.Value},choose(function(e){return e[1]},c))})));var n=map$5(function(e){if(null!=e[1]){var t=e[1];return[e[0],t.Value.Value]}return[e[0],null]},c),o=i(n);return null==o?(Log.trace("typechecker","Invalid argument type when calling '%s'. Argument types: %O",e,_Array$from(map$5(function(e){return formatType(e[0])},c))),function(e){addError(t,r,e)}(function(e){return TypeChecker.parameterConflict(e)}),s.Return(new Type("Any",[]))):s.Return(o)}))})}(singleton$2)}function getType$1(e,t){if(function(){return null==t.Type}()){var n=e.Errors.length;t.Type=typeCheckEntity(e,t),t.Errors=toList(delay(function(){return map$3(function(t){return e.Errors[t]},range(n,e.Errors.length-1))}))}return t.Type}function typeCheckEntity(e,t){if("Variable"===t.Kind.Case)return getType$1(e,t.Kind.Fields[1]);if("Member"===t.Kind.Case){if("MemberName"!==t.Kind.Fields[1].Kind.Case)throw Log.error("typechecker","typeCheckEntity: Member access is missing member name!"),new Error("typeCheckEntity: Member access is missing member name!");var n=getType$1(e,t.Kind.Fields[0]),i=void 0;if("Any"===n.Case)i=[0];else if("Object"===n.Case){var r=function(e){return _FindMember___(t.Kind.Fields[1].Kind.Fields[0],e)}(n.Fields[0]);i=null!=r?[1,r]:[2]}else i=[2];switch(i[0]){case 0:return new Type("Any",[]);case 1:return t.Meta=i[1].Metadata,i[1].Type;case 2:return"Object"===n.Case?(function(n){addError(e,t.Kind.Fields[1],n)}(function(){var e=n.Fields[0].Members;return function(n){return TypeChecker.memberMissing(t.Kind.Fields[1].Kind.Fields[0].Name,e,n)}}()),new Type("Any",[])):(function(n){addError(e,t.Kind.Fields[0],n)}(function(e){return TypeChecker.notAnObject(t.Kind.Fields[1].Kind.Fields[0].Name,n,e)}),new Type("Any",[]))}}else{if("MemberAccess"===t.Kind.Case)return getType$1(e,t.Kind.Fields[0]);if("Call"===t.Kind.Case)return"ArgumentList"===t.Kind.Fields[1].Kind.Case?(Log.error("typechecker","typeCheckEntity: Call to %s has not been type-checked in typeCheckEntityAsync!",Entity_get_Name.bind(lastChainElement(t.Kind.Fields[0]))()),fsFormat("typeCheckEntity: Call to %s has not been type-checked in typeCheckEntityAsync!")(function(e){throw new Error(e)})(Entity_get_Name.bind(lastChainElement(t.Kind.Fields[0]))())):(Log.error("typechecker","typeCheckEntity: Call to %s is missing argument list!",Entity_get_Name.bind(lastChainElement(t.Kind.Fields[0]))()),fsFormat("typeCheckEntity: Call to %s is missing argument list!")(function(e){throw new Error(e)})(Entity_get_Name.bind(lastChainElement(t.Kind.Fields[0]))()));if("Placeholder"===t.Kind.Case)return getType$1(e,t.Kind.Fields[1]);if("Operator"===t.Kind.Case){var o=map$5(function(e){return new Type("Primitive",[e])},ofArray$1("Equals"===t.Kind.Fields[1].Case?[new PrimitiveType("Number",[]),new PrimitiveType("String",[]),new PrimitiveType("Date",[]),new PrimitiveType("Bool",[])]:"Plus"===t.Kind.Fields[1].Case?[new PrimitiveType("Number",[]),new PrimitiveType("String",[])]:[new PrimitiveType("Number",[])]));iterateIndexed(function(n,i){var r=getType$1(e,i);forAll(function(e){return!typesEqual(r,e)},o)&&function(t){addError(e,i,t)}(function(e){return TypeChecker.numericOperatorExpectsNumbers(t.Kind.Fields[1],n,o,r,e)})},ofArray$1([t.Kind.Fields[0],t.Kind.Fields[2]]));switch(("Equals"===t.Kind.Fields[1].Case?[0]:"LessThan"===t.Kind.Fields[1].Case?[0]:"GreaterThan"===t.Kind.Fields[1].Case?[0]:"LessThanOrEqual"===t.Kind.Fields[1].Case?[0]:"GreaterThanOrEqual"===t.Kind.Fields[1].Case?[0]:[1])[0]){case 0:return new Type("Primitive",[new PrimitiveType("Bool",[])]);case 1:return getType$1(e,t.Kind.Fields[0])}}else if("List"===t.Kind.Case){var s=function(){var n=map$5(function(t){return getType$1(e,t)},t.Kind.Fields[0]),i=inferListType(n),r=!0,o=!1,s=void 0;try{for(var a,l=_getIterator(t.Kind.Fields[0]);!(r=(a=l.next()).done);r=!0)!function(){var t=a.value,n=getType$1(e,t);typesEqual(i,n)||function(n){addError(e,t,n)}(function(e){return TypeChecker.listElementTypeDoesNotMatch(i,n,e)})}()}catch(e){o=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}return{v:new Type("List",[i])}}();if("object"===(void 0===s?"undefined":_typeof(s)))return s.v}else{if("Binding"!==t.Kind.Case){if("Function"===t.Kind.Case){var a=getType$1(e,t.Kind.Fields[1]);return new Type("Method",[ofArray$1([new MethodArgument("",!1,!1,getType$1(e,t.Kind.Fields[0]))]),function(e){return a}])}return"Constant"===t.Kind.Case?"String"===t.Kind.Fields[0].Case?new Type("Primitive",[new PrimitiveType("String",[])]):"Boolean"===t.Kind.Fields[0].Case?new Type("Primitive",[new PrimitiveType("Bool",[])]):"Empty"===t.Kind.Fields[0].Case?new Type("Any",[]):new Type("Primitive",[new PrimitiveType("Number",[])]):"Root"===t.Kind.Case?new Type("Any",[]):"LetCommand"===t.Kind.Case?new Type("Any",[]):"RunCommand"===t.Kind.Case?new Type("Any",[]):"ArgumentList"===t.Kind.Case?new Type("Any",[]):"NamedParam"===t.Kind.Case?new Type("Any",[]):"CallSite"===t.Kind.Case?new Type("Any",[]):"Program"===t.Kind.Case?new Type("Any",[]):"MemberName"===t.Kind.Case?new Type("Any",[]):e.Globals.has(t.Kind.Fields[0].Name)?getType$1(e,e.Globals.get(t.Kind.Fields[0].Name)):(function(n){addError(e,t,n)}(function(e){return TypeChecker.variableNotInScope(t.Kind.Fields[0].Name,e)}),new Type("Any",[]))}if("CallSite"!==t.Kind.Fields[1].Kind.Case)return fsFormat("typeCheckEntity: Variable binding %s is missing call site!")(function(e){throw new Error(e)})(t.Kind.Fields[0].Name);var l=resolveParameterType(getType$1(e,t.Kind.Fields[1].Kind.Fields[0]),t.Kind.Fields[1].Kind.Fields[1]),u="Method"===l.Case&&null!=l.Fields[0].tail&&null==l.Fields[0].tail.tail?[0,l.Fields[0].head]:[1];switch(u[0]){case 0:return u[1].Type;case 1:throw new Error("typeCheckEntity: Expected parameter of function type")}}}}function evaluateDelayedType(e,t){return function(n){return n.Delay(function(){return"Delayed"===t.Case?n.Bind(Async_AwaitFuture_Static(t.Fields[0]),function(t){return n.ReturnFrom(evaluateDelayedType(e,t))}):n.Return(t)})}(singleton$2)}function typeCheckEntityAsync(e,t){return function(n){return n.Delay(function(){var i=new _Map;return n.Bind(function t(n){return function(r){return r.Delay(function(){var o="GlobalValue"===n.Kind.Case;return i.has(n.Symbol)||!o&&!function(){return null==n.Type}()?r.Zero():(i.set(n.Symbol,!0),r.Combine(r.For(Entity_get_Antecedents.bind(n)(),function(e){return r.Bind(t(e),function(){return r.Return(null)})}),r.Delay(function(){return r.Combine(function(){var t="Call"===n.Kind.Case&&"ArgumentList"===n.Kind.Fields[1].Kind.Case?[0,n.Kind.Fields[1],n.Kind.Fields[1].Kind.Fields[0],n.Kind.Fields[0]]:[1];switch(t[0]){case 0:var i=e.Errors.length;return r.Bind(function(){var n=getType$1(e,t[3]);if("Any"===n.Case)return singleton$2.Return(new Type("Any",[]));if("Method"===n.Case)return checkMethodCallAsync(Entity_get_Name.bind(t[3])(),e,n.Fields[0],n.Fields[1],t[1],t[2]);var i=lastChainElement(t[3]);return function(n){addError(e,t[3],n)}(function(){var e=Entity_get_Name.bind(i)();return function(t){return TypeChecker.notAnMethod(e,n,t)}}()),singleton$2.Return(new Type("Any",[]))}(),function(t){return n.Type=t,n.Errors=toList(delay(function(){return map$3(function(t){return e.Errors[t]},range(i,e.Errors.length-1))})),r.Zero()});case 1:return r.Zero()}}(),r.Delay(function(){return r.Bind(evaluateDelayedType(!0,getType$1(e,n)),function(e){return Log.trace("typechecker","Type of entity '%s' (%s) is: %s",Entity_get_Name.bind(n)(),formatEntityKind(n.Kind),formatType(e)),n.Type=e,r.Zero()})}))})))})}(singleton$2)}(t),function(){return n.Return(getType$1(e,t))})})}(singleton$2)}function collectTypeErrors(e){var t=[],n=new _Map;return function e(i){if(!n.has(i.Symbol)){n.set(i.Symbol,!0);var r=Entity_get_Antecedents.bind(i)(),o=!0,s=!1,a=void 0;try{for(var l,u=_getIterator(r);!(o=(l=u.next()).done);o=!0){e(l.value)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}addRangeInPlace(i.Errors,t)}}(e),_Array$from(t)}function typeCheckProgram(e,t,n,i){return function(r){return r.Delay(function(){return Log.trace("typechecker","Type checking program"),r.TryWith(r.Delay(function(){var o=new _Map(toList(delay(function(){return collect(function(e){return singleton([e[1].Symbol,e[0]])},t.Entities)}))),s=new _Map(toList(delay(function(){return map$3(function(e){return[Entity_get_Name.bind(e)(),e]},e)}))),a=new CheckingContext([],s,o,n);return r.Bind(typeCheckEntityAsync(a,i),function(e){return Log.trace("typechecker","Completed type checking"),r.Zero()})}),function(e){return Log.exn("typechecker","Type checking program failed: %O",e),r.Zero()})})}(singleton$2)}
function updateLiveState(e,t){return"UpdateLocation"===t.Case?new LiveState(e.Globals,e.Code,e.Program,e.Mapper,t.Fields[0],e.Selection,e.State,e.CurrentPreview):"UpdateSource"===t.Case?new LiveState(e.Globals,t.Fields[0],t.Fields[2],t.Fields[3],t.Fields[1],e.Selection,e.State,e.CurrentPreview):"CustomEvent"===t.Case?e:new LiveState(t.Fields[0],e.Code,e.Program,e.Mapper,e.Location,e.Selection,e.State,e.CurrentPreview)}function collectChain(e,t){for(;;)if("Call"!==t.Node.Case){if("Member"!==t.Node.Case)return"Variable"===t.Node.Case?new List$1([t.Node.Fields[0].Range.Start,t],e):null;e=new List$1([t.Node.Fields[1].Range.Start,t],e),t=t.Node.Fields[0]}else e=new List$1([t.Node.Fields[1].Range.Start,t],e),t=t.Node.Fields[0]}function collectFirstChain(e){var t=collectChain(new List$1,e),n=null!=t&&null!=t.tail?[0,t]:[1];switch(n[0]){case 0:return new NestedChain(n[1]);case 1:var i=_ExprLeaf_ExprNode_(e.Node);return"Choice2Of2"===i.Case?tryPick(function(e){return collectFirstChain(e)},i.Fields[0][0]):null}}function offsetToLocation(e,t,n){e:for(;;){var i=null!=n.tail&&t<=n.head?[0,n.head,n.tail]:[1];switch(i[0]){case 0:return new Position$1(e,t);case 1:if(null==n.tail)return new Position$1(e,t);e+=1,t=t-n.head-1,n=n.tail;continue e}}}function rangeToLoc(e,t){return new LineRange(offsetToLocation(1,t.Start,e),offsetToLocation(1,t.Start,e))}function offsetToLocation$1(e,t,n){e:for(;;){var i=null!=n.tail&&t<=n.head?[0,n.head,n.tail]:[1];switch(i[0]){case 0:return new Position(e,t);case 1:if(null==n.tail)throw new Error("offsetToLocation: Out of range");e+=1,t=t-n.head-1,n=n.tail;continue e}}}function rangeToLoc$1(e,t){return new SourceLocation(offsetToLocation$1(1,t.Start,e.LineLengths),offsetToLocation$1(1,t.Start,e.LineLengths))}function getMember(e,t){if("Object"===t.Case){var n=tryPick(function(t){return t.Name===e?t:null},t.Fields[0].Members);if(null!=n)return n;throw Log.exn("codegen","getMember: Member %s not found in object %O",e,t.Fields[0]),new Error("getMember: Member not found")}throw Log.exn("codegen","getMember: Not an object %O",t),new Error("getMember: Not an object")}function compileExpression(e,t){e:for(;;){var n=function(){Log.trace("codegen","Compiling expression: %O",t);var n="Binary"===t.Node.Case?"Power"===t.Node.Fields[1].Node.Case?[0,t.Node.Fields[0],t.Node.Fields[2]]:[1,t.Node.Fields[0],t.Node.Fields[1],t.Node.Fields[2]]:"Member"===t.Node.Case?"Placeholder"===t.Node.Fields[1].Node.Case?"Variable"===t.Node.Fields[1].Node.Fields[1].Node.Case?[2,t.Node.Fields[0],t.Node.Fields[1].Node.Fields[1].Node.Fields[0]]:[3,t.Node.Fields[0]]:"Variable"===t.Node.Fields[1].Node.Case?[2,t.Node.Fields[0],t.Node.Fields[1].Node.Fields[0]]:[3,t.Node.Fields[0]]:"Call"===t.Node.Case?[4,t.Node.Fields[1],t.Node.Fields[0]]:"Variable"===t.Node.Case&&e.Globals.has(t.Node.Fields[0].Node.Name)?[5,t.Node.Fields[0]]:[6];switch(n[0]){case 0:var i=compileExpression(e,n[1]),r=compileExpression(e,n[2]),o=(rangeToLoc$1(e,t.Range),BabelOperators.op_Dynamic(BabelOperators.ident("Math"),"pow"));return{v:new Expression("CallExpression",[o,ofArray$1([i,r]),rangeToLoc$1(e,t.Range)])};case 1:var s=compileExpression(e,n[1]),a=compileExpression(e,n[3]),l=void 0;if("Equals"===n[2].Node.Case)l=new BinaryOperator("BinaryEqualStrict",[]);else if("Plus"===n[2].Node.Case)l=new BinaryOperator("BinaryPlus",[]);else if("Minus"===n[2].Node.Case)l=new BinaryOperator("BinaryMinus",[]);else if("Multiply"===n[2].Node.Case)l=new BinaryOperator("BinaryMultiply",[]);else if("Divide"===n[2].Node.Case)l=new BinaryOperator("BinaryDivide",[]);else if("GreaterThan"===n[2].Node.Case)l=new BinaryOperator("BinaryGreater",[]);else if("LessThan"===n[2].Node.Case)l=new BinaryOperator("BinaryLess",[]);else if("GreaterThanOrEqual"===n[2].Node.Case)l=new BinaryOperator("BinaryGreaterOrEqual",[]);else if("LessThanOrEqual"===n[2].Node.Case)l=new BinaryOperator("BinaryLessOrEqual",[]);else{if("Power"===n[2].Node.Case)throw new Error("compileExpression: Power is not a binary operator");l=new BinaryOperator("BinaryModulus",[])}return{v:new Expression("BinaryExpression",[l,s,a,rangeToLoc$1(e,t.Range)])};case 2:var u=getMember(n[2].Node.Name,n[1].Entity.Type),c=compileExpression(e,n[1]);return{v:u.Emitter.Emit(c)};case 3:throw new Error("compileExpression: Member in member access is not a variable");case 4:var p=map$5(function(t){return[t.Name,compileExpression(e,t.Value)]},n[1].Node),h=_Array$from(map$3(function(e){return e[1]},takeWhile(function(e){return function(){return null==e[0]}()},p))),d=new _Map(choose(function(e){if(null!=e[0]){return[e[0].Node.Name,e[1]]}return null},p)),f=void 0,m=n[2].Entity.Type;f="Method"===m.Case?m.Fields[0]:new List$1;var y=compileExpression(e,n[2]),g=mapIndexed$1(function(t,i){return t<h.length?h[t]:d.has(i.Name)?d.get(i.Name):new Expression("NullLiteral",[rangeToLoc$1(e,n[1].Range)])},f);return{v:new Expression("CallExpression",[y,g,rangeToLoc$1(e,t.Range)])};case 5:return{v:e.Globals.get(n[1].Node.Name)};case 6:if("Variable"===t.Node.Case)return{v:new Expression("IdentifierExpression",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)])};if("Number"===t.Node.Case)return{v:new Expression("NumericLiteral",[t.Node.Fields[0],rangeToLoc$1(e,t.Range)])};if("String"===t.Node.Case)return{v:new Expression("StringLiteral",[t.Node.Fields[0],rangeToLoc$1(e,t.Range)])};if("Boolean"===t.Node.Case)return{v:new Expression("BooleanLiteral",[t.Node.Fields[0],rangeToLoc$1(e,t.Range)])};if("Placeholder"===t.Node.Case)return e=e,t=t.Node.Fields[1],"continue|compileExpression";if("List"===t.Node.Case){var v=map$5(function(t){return compileExpression(e,t)},t.Node.Fields[0]);return{v:new Expression("ArrayExpression",[v,rangeToLoc$1(e,t.Range)])}}if("Function"===t.Node.Case){var C=new Expression("IdentifierExpression",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)]),w=compileExpression(function(){var n=add$3(t.Node.Fields[0].Node.Name,C,e.Globals);return new CompilationContext(e.LineLengths,n)}(),t.Node.Fields[1]),b=new Statement("BlockStatement",[ofArray$1([new Statement("ReturnStatement",[w,rangeToLoc$1(e,t.Node.Fields[1].Range)])]),rangeToLoc$1(e,t.Node.Fields[1].Range)]);return{v:new Expression("FunctionExpression",[null,ofArray$1([new Pattern("IdentifierPattern",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)])]),b,!1,!1,rangeToLoc$1(e,t.Range)])}}if("Empty"===t.Node.Case)return Log.error("codegen","getEmitterAndParams: Empty expression in the AST"),{v:new Expression("NullLiteral",[rangeToLoc$1(e,t.Range)])};throw new Error("C:\\Tomas\\Public\\the-gamma\\thegamma-script\\src\\thegamma\\codegen/codegen.fs",43,8)}}();switch(n){case"continue|compileExpression":continue e;default:if("object"===(void 0===n?"undefined":_typeof(n)))return n.v}}}function compileCommand(e,t,n){var i=rangeToLoc$1(e,n.Range),r=void 0;if("Expr"===n.Node.Case)r=[new List$1,BabelOperators.num(t),compileExpression(e,n.Node.Fields[0])];else{var o=compileExpression(e,n.Node.Fields[1]),s=new Pattern("IdentifierPattern",[n.Node.Fields[0].Node.Name,rangeToLoc$1(e,n.Node.Fields[0].Range)]),a=new VariableDeclarator("VariableDeclarator",[s,o,i]);r=[ofArray$1([new Statement("VariableDeclaration",[new VariableDeclarationKind("Var",[]),ofArray$1([a]),rangeToLoc$1(e,n.Range)])]),BabelOperators.str(n.Node.Fields[0].Node.Name),BabelOperators.ident(n.Node.Fields[0].Node.Name)]}var l=new Expression("MemberExpression",[BabelOperators.ident("_results"),r[1],!0,i]);return append$1(r[0],ofArray$1([new Statement("ExpressionStatement",[new Expression("AssignmentExpression",[new AssignmentOperator("AssignEqual",[]),l,r[2],i]),i])]))}function compileProgram(e,t){var n=new VariableDeclarator("VariableDeclarator",[new Pattern("IdentifierPattern",["_results",null]),new Expression("ArrayExpression",[new List$1,null]),null]),i=new Statement("VariableDeclaration",[new VariableDeclarationKind("Var",[]),ofArray$1([n]),null]),r=concat$1(mapIndexed$1(function(t,n){return compileCommand(e,t,n)},t.Body.Node)),o=new Statement("ReturnStatement",[BabelOperators.ident("_results"),null]),s=new Statement("BlockStatement",[append$1(new List$1(i,r),ofArray$1([o])),null]),a=new Expression("CallExpression",[new Expression("FunctionExpression",[null,new List$1,s,!1,!1,null]),new List$1,null]);return new Program$1(rangeToLoc$1(e,t.Body.Range),ofArray$1([new Statement("ExpressionStatement",[a,null])]))}function compile(e,t,n){return function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(e),function(e){var r=create$6(choose$1(function(e){var t="GlobalValue"===e.Kind.Case&&null!=e.Kind.Fields[1]?[0,e.Kind.Fields[1],e.Kind.Fields[0]]:[1];switch(t[0]){case 0:return[t[2].Name,t[1]];case 1:return null}},e),new GenericComparer(compare)),o=new CompilationContext(toList(delay(function(){return map$3(function(e){return e.length},split$$1(t,"\n"))})),r),s=compileProgram(o,n),a=Babel.transformFromAst(Serializer.serializeProgram(s),t,new BabelOptions(["es2015"]));return Log.trace("codegen","Evaluating: %O",a),i.Return(a.code)})}),function(e){return Log.exn("codegen","Evaluating code failed: %O",e),i.Return("")})})}(singleton$2)}function pickPivotFields(e){var t=e.Entity,n=null!=t?"MemberAccess"===t.Kind.Case?"Member"===t.Kind.Fields[0].Kind.Case?[0,t.Kind.Fields[0].Meta]:[1]:"GlobalValue"===t.Kind.Case?[0,t.Meta]:"Variable"===t.Kind.Case?[0,t.Kind.Fields[1].Meta]:[1]:[1];switch(n[0]){case 0:var i=pickMetaByType("http://schema.thegamma.net/pivot","Fields",n[1]);return null!=i?i:null;case 1:return null}}function pickPivotTransformations(e){var t=void 0;switch((null!=e.Entity&&null!=e.Entity.Type&&"Object"===e.Entity.Type.Case&&e.Entity.Type.Fields[0]instanceof PivotObject?[0]:[1])[0]){case 0:t=ofArray$1([new Transformation("Empty",[])]);break;case 1:t=null}var n=void 0,i="Call"===e.Node.Case&&null!=e.Node.Fields[0].Entity&&"MemberAccess"===e.Node.Fields[0].Entity.Kind.Case&&"Member"===e.Node.Fields[0].Entity.Kind.Fields[0].Kind.Case?[0,e.Node.Fields[0].Entity.Kind.Fields[0].Meta]:null!=e.Entity&&"MemberAccess"===e.Entity.Kind.Case&&"Member"===e.Entity.Kind.Fields[0].Kind.Case?[0,e.Entity.Kind.Fields[0].Meta]:[1];switch(i[0]){case 0:var r=pickMetaByType("http://schema.thegamma.net/pivot","Transformations",i[1]);n=null!=r?r:null;break;case 1:n=null}var o=[n,t],s=null!=o[0]?[0,o[0]]:null!=o[1]?[0,o[1]]:[1];switch(s[0]){case 0:return s[1];case 1:return null}}function commandAtLocation(e,t){return tryFind(function(t){return t.Range.Start<=e&&t.Range.End+1>=e},t.Body.Node)}function transformName(e){switch(("Empty"===e.Case?[1]:"FilterBy"===e.Case?[2]:"GetSeries"===e.Case?[3]:"GetTheData"===e.Case?[4]:"GroupBy"===e.Case?[5]:"WindowBy"===e.Case?[6]:"ExpandBy"===e.Case?[7]:"Paging"===e.Case?[8]:"SortBy"===e.Case?[9]:"GetRange"===e.Case?[10]:"Metadata"===e.Case?[10]:[0])[0]){case 0:return"drop columns";case 1:return"empty";case 2:return"filter by";case 3:return"get series";case 4:return"get the data";case 5:return"group by";case 6:return"window by";case 7:return"expand by";case 8:return"paging";case 9:return"sort by";case 10:throw new Error("Unexpected get range or metadata")}}function createPivotSections(e){var t=choose$1(function(e){var t=pickPivotTransformations(e[1]);if(null==t)return null;var n=1===t.length?t:filter$2(function(e){return"Empty"!==e.Case},t);return null==n.tail?null:[e[1],n]},e.Chain);if(Log.trace("live","Transformations: %O",_Array$from(delay(function(){return collect(function(e){return singleton([e[0].Node,transformName(e[1].head)+" "+String(e[1].length)])},t)}))),null==t.tail)return new List$1;var n=t.head[1],i=t.head[0];return function(e){return function(t){return function(n){e:for(;;){var i=null!=n.tail&&function(){var e=n.head[1];n.head[0];return transformName(e.head)===transformName(t[0])&&e.length===t[2]}()?[0,n.head[0],n.head[1],n.tail]:[1];switch(i[0]){case 0:e=e,t=[t[0],new List$1(i[1],t[1]),t[2]],n=i[3];continue e;case 1:if(null==n.tail){var r=new PivotSection(t[0],reverse$1(t[1]));return reverse$1(new List$1(r,e))}var o=n.head[1],s=n.head[0],a=new PivotSection(t[0],reverse$1(t[1]));e=new List$1(a,e),t=[o.head,ofArray$1([s]),o.length],n=n.tail;continue e}}}}}(new List$1)([n.head,ofArray$1([i]),n.length])(t.tail)}function withPivotState(e,t){return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}function findPreview(e,t,n,i){var r=void 0,o="MemberAccess"===i.Kind.Case?"Member"===i.Kind.Fields[0].Kind.Case&&"MemberName"===i.Kind.Fields[0].Kind.Fields[1].Kind.Case?[0,i.Kind.Fields[0].Kind.Fields[1].Kind.Fields[0]]:[2]:"Call"===i.Kind.Case?[1]:[2];switch(o[0]){case 0:r=o[1].Name;break;case 1:r="call";break;case 2:r="whatever"}Log.trace("live","Get preview for: %O",r);var s=new Name("preview"),a=tryPick(function(e){var r=e[1].Entity.Type,o=void 0;if(null!=r)if("Object"===r.Case){var a=function(e){return _FindMember___(s,e)}(r.Fields[0]);o=null!=a?[0,a]:[1]}else o=[1];else o=[1];switch(o[0]){case 0:var l=pickMetaByType("http://schema.org","WebPage",o[1].Metadata);if(null!=l){var u=l.url;return Log.trace("live","Found preview webpage at %s: %O",e[0],u),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("iframe")(ofArray$1([op_EqualsGreater("src",u)]))(new List$1)}var c=evaluate(n,i),p=defaultArg(c,null,function(e){return e.Preview.value});if(null!=p){Log.trace("live","Found preview value at %s: %O",e[0],p);var h=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([text("Loading preview...")])),d=!1;return function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(table.create(p).render(),function(n){return e.Combine(d?function(){return t(new LiveEvent("CustomEvent",[new PivotEditorAction("UpdatePreview",[n])])),e.Zero()}():function(){return h=n,e.Zero()}(),e.Delay(function(){return Log.trace("live","Evaluated to a node"),e.Zero()}))})})}(singleton$2)),d=!0,Log.trace("live","After evaluation started: %O",h),h}return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([text("Preview could not be evaluated")]));case 1:return null}},sortWith(function(e,t){return compare(function(e){return e[0]}(e),function(e){return e[0]}(t))},skipWhile(function(e){return!equals(e[1].Entity.Symbol,i.Symbol)},e.Chain)));return null!=a?a:function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([text("This block does not have a preview")]))}function updateBody(e,t){var n=commandAtLocation(t.Location,t.Program);if(null==n)return null;var i=(t.Mapper.AbsoluteToLineCol(n.Range.End+1),"Let"===n.Node.Case?[0,n.Node.Fields[1]]:[0,n.Node.Fields[0]]);switch(i[0]){case 0:var r=collectFirstChain(i[1]);if(null==r)return null;var o=createPivotSections(r),s=r.Chain.head,a=tryLast(filter$2(function(e){return t.Location>=e[0]},r.Chain)),l=null!=a&&function(){a[1];return!(null==o.tail)}()?[0,a[1]]:[1];switch(l[0]){case 0:var u=findPreview(r,e,t.Globals,l[1].Entity),c=void 0,p=new PivotEditorMenus("Hidden",[]),h=l[1].Entity;return c=new PivotEditorState(i[1],s[1],u,o,h,p,null),function(e){return withPivotState(c,e)}(t);case 1:return null}}}function hideMenus(e){var t=void 0,n=new PivotEditorMenus("Hidden",[]);return t=new PivotEditorState(e.State.Body,e.State.FirstNode,e.State.Preview,e.State.Sections,e.State.SelectedEntity,n,e.State.Focus),new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,e.Selection,t,e.CurrentPreview)}function editorLocation(e,t,n){var i=e.AbsoluteToLineCol(t),r=e.AbsoluteToLineCol(n);return new LineColumnRange(i[0],i[1],r[0],r[1])}function selectName(e,t){var n=void 0;if("Member"===e.Node.Case){n=e.Node.Fields[1].Range}else n=e.Range;var i=editorLocation(t.Mapper,n.Start,n.End+1),r=i;return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,r,t.State,t.CurrentPreview)}function tryTransformChain(e,t){var n=collectFirstChain(t.State.Body);if(null!=n){var i=createPivotSections(n);return hideMenus(e(t.State.Body)(map$5(function(e){return e[1]},n.Chain))(i))}return hideMenus(t)}function replaceAndSelectMarker(e,t){var n=t.Code.indexOf(marker),i=replace$$1(t.Code,marker,escapeIdent(e)),r=new LocationMapper(t.Code),o=editorLocation(r,n,n+escapeIdent(e).length),s=o;return new LiveState(t.Globals,i,t.Program,t.Mapper,t.Location,s,t.State,t.CurrentPreview)}function reconstructChain(e,t,n){var i=fold(function(e,t){if("Member"===t.Node.Case){var n=new Expr("Member",[e,t.Node.Fields[1]]);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,n,t.Entity)}if("Call"===t.Node.Case){var i=new Expr("Call",[e,t.Node.Fields[1]]);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,i,t.Entity)}throw new Error("reconstructChain: Unexpected node in call chain")},n.head,n.tail),r=trim(formatSingleExpression(i),"both"),o=e.Code.substr(0,t.Range.Start)+r+e.Code.substr(t.Range.End+1);return new LiveState(e.Globals,o,e.Program,e.Mapper,e.Location,e.Selection,e.State,e.CurrentPreview)}function createChainNodes(e,t){var n=function(e){return node(new _Range(0,0),e)},i=n(new Expr("Member",[n(new Expr("Empty",[])),n(new Expr("Variable",[n(new Name(t))]))]));if(null!=e){var r=map$5(function(e){return new Argument(null,n(e))},e);return ofArray$1([i,n(new Expr("Call",[i,n(r)]))])}return ofArray$1([i])}function getWhiteBeforeAndAfterSections(e,t){var n=function(e){var t=toList(toList(countBy(function(e){return e},e)));return reduce(function(e){return function(t,n){return e(t)>e(n)?t:n}}(function(e){return""===e[0]?0:e[1]}),new List$1(["",0],t))[0]},i=[n(function(e){return map$5(function(e){return formatWhiteBeforeExpr(e)},e)}(map$5(function(e){return e.Nodes.head},t))),n(function(e){return map$5(function(e){return formatWhiteAfterExpr(e)},e)}(append$1(ofArray$1([e]),map$5(function(e){return last(e.Nodes)},t))))];return Log.trace("live","Inserting whitespace before '%s' and after '%s' for sections: %O",i[0],i[1],t),[ofArray$1([new Token(new TokenKind("White",[i[0]]),new _Range(0,0))]),ofArray$1([new Token(new TokenKind("White",[i[1]]),new _Range(0,0))])]}function insertWhiteAroundSection(e,t,n){var i=n.Nodes.length-1;return new PivotSection(n.Transformation,mapIndexed$1(function(n,r){var o=void 0,s=[e,r],a=null!=s[0]&&"Member"===s[1].Node.Case&&function(){s[1].Node.Fields[1],s[1].Node.Fields[0];return 0===n}()?[0,s[0],s[1].Node.Fields[0],s[1].Node.Fields[1]]:[1];switch(a[0]){case 0:var l=new Expr("Member",[a[2],new _Node(a[1],a[3].WhiteAfter,a[3].Range,a[3].Node,a[3].Entity)]);o=new _Node(r.WhiteBefore,r.WhiteAfter,r.Range,l,r.Entity);break;case 1:o=r}var u=void 0,c=[t,o],p=null!=c[0]&&function(){return n===i}()?[0,c[0],c[1]]:[1];switch(p[0]){case 0:u=new _Node(p[2].WhiteBefore,p[1],p[2].Range,p[2].Node,p[2].Entity);break;case 1:u=o}return u},n.Nodes))}function updatePivotState(e,t,n){switch(("UpdateLocation"===n.Case?[0]:"InitializeGlobals"===n.Case?[1]:"CustomEvent"===n.Case?[2]:[0])[0]){case 0:return function(t){return updateBody(e,t)}(hideMenus(t));case 1:return t;case 2:if("SwitchMenu"===n.Fields[0].Case)return withPivotState(new PivotEditorState(t.State.Body,t.State.FirstNode,t.State.Preview,t.State.Sections,t.State.SelectedEntity,n.Fields[0].Fields[0],t.State.Focus),t);if("SelectChainElement"===n.Fields[0].Case)return tryTransformChain(function(e){return function(e){return function(i){var r=function(e){return function(n){e:for(;;){var i=null!=n.tail&&n.head.Range.End+1<t.Location?[0,n.head,n.tail]:[1];switch(i[0]){case 0:e=i[1],n=i[2];continue e;case 1:return null==n.tail?[e,e,e]:null==n.tail.tail?[e,n.head,n.head]:[e,n.head,n.tail.head]}}}}(e.head)(e.tail);return selectName(n.Fields[0].Fields[0]<0?r[0]:n.Fields[0].Fields[0]>0?r[2]:r[1],t)}}},t);if("SelectRange"===n.Fields[0].Case)return function(){var e=editorLocation(t.Mapper,n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End+1);return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,e,t.State,t.CurrentPreview)}();if("ReplaceRange"===n.Fields[0].Case){Log.trace("live","Replace '%s' with '%s'",t.Code.substr(n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End-n.Fields[0].Fields[0].Start+1),n.Fields[0].Fields[1]);var i=t.Code.substr(0,n.Fields[0].Fields[0].Start)+n.Fields[0].Fields[1]+t.Code.substr(n.Fields[0].Fields[0].End+1),r=editorLocation(new LocationMapper(i),n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].Start+n.Fields[0].Fields[1].length);return function(){var e=r;return new LiveState(t.Globals,i,t.Program,t.Mapper,t.Location,e,t.State,t.CurrentPreview)}()}return"AddElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(r){var o=collect$1(function(e){return equals(e.Entity.Symbol,n.Fields[0].Fields[0])?new List$1(e,createChainNodes(n.Fields[0].Fields[2],marker)):ofArray$1([e])},i);return function(e){return replaceAndSelectMarker(n.Fields[0].Fields[1],e)}(reconstructChain(t,e,o))}}},t):"ReplaceElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(r){var o=collect$1(function(e){return equals(e.Entity.Symbol,n.Fields[0].Fields[0])?createChainNodes(n.Fields[0].Fields[2],marker):ofArray$1([e])},i);return function(e){return replaceAndSelectMarker(n.Fields[0].Fields[1],e)}(reconstructChain(t,e,o))}}},t):"RemoveElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(r){var o=tryLast(toList(takeWhile(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},i))),s=null!=o?o:i.head,a=filter$2(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},i);return function(e){return selectName(s,e)}(reconstructChain(t,e,a))}}},t):"RemoveSection"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(r){var o=tryLast(toList(takeWhile(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},map$5(function(e){return e.Nodes.head},r)))),s=null!=o?o:i.head,a=filter$2(function(e){return!equals(e.Nodes.head.Entity.Symbol,n.Fields[0].Fields[0])},r),l=collect$1(function(e){return e.Nodes},a);return function(e){return selectName(s,e)}(reconstructChain(t,e,l))}}},t):"AddTransform"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(r){Log.trace("live","Adding transform to chain: %O",_Array$from(i)),Log.trace("live","Existing sections are: %O",_Array$from(r));var o=getWhiteBeforeAndAfterSections(i.head,r),s=tryPick(function(e){return pickPivotFields(e)},reverse$1(collect$1(function(e){return e.Nodes},r))),a=void 0;switch(("Metadata"===n.Fields[0].Fields[0].Case?[0]:"DropColumns"===n.Fields[0].Fields[0].Case?[1]:"SortBy"===n.Fields[0].Fields[0].Case?[2]:"FilterBy"===n.Fields[0].Fields[0].Case?[3]:"WindowBy"===n.Fields[0].Fields[0].Case?[4]:"ExpandBy"===n.Fields[0].Fields[0].Case?[5]:"Paging"===n.Fields[0].Fields[0].Case?[6]:"GetSeries"===n.Fields[0].Fields[0].Case?[7]:"GetTheData"===n.Fields[0].Fields[0].Case?[8]:"GroupBy"===n.Fields[0].Fields[0].Case?[9]:"Empty"===n.Fields[0].Fields[0].Case?[10]:[0])[0]){case 0:throw new Error("Unexpected get range or metadata");case 1:a=["drop columns",ofArray$1([marker,"then"])];break;case 2:a=["sort data",ofArray$1([marker,"then"])];break;case 3:a=["filter data",ofArray$1([marker,"then"])];break;case 4:a=["windowing",ofArray$1([marker,"then"])];break;case 5:a=["expanding",ofArray$1([marker,"then"])];break;case 6:a=["paging",ofArray$1([marker,"then"])];break;case 7:a=["get series",ofArray$1([marker])];break;case 8:a=["get the data",ofArray$1([marker])];break;case 9:a=["group data",function(){var e=null!=s&&null!=s.tail?[0,s.head]:[1];switch(e[0]){case 0:return ofArray$1([marker,"by "+e[1].Name,"then"]);case 1:return ofArray$1([marker,"by Property","then"])}}()];break;case 10:a=["",new List$1]}var l=insertWhiteAroundSection(o[0],o[1],new PivotSection(n.Fields[0].Fields[0],collect$1(function(){return function(e){return createChainNodes(null,e)}}(),a[1]))),u=function(e){if(null==e.tail)return new List$1;var t=void 0,n=[e.head.Transformation,last(e.head.Nodes)];switch(("Paging"===n[0].Case&&"Call"===n[1].Node.Case&&"Member"===n[1].Node.Fields[0].Node.Case&&"Variable"===n[1].Node.Fields[0].Node.Fields[1].Node.Case&&function(){return"take"===n[1].Node.Fields[0].Node.Fields[1].Node.Fields[0].Node.Name}()?[0,n[1].Node.Fields[0].Node.Fields[1].Node.Fields[0]]:[1])[0]){case 0:t=e.head;break;case 1:switch(("Member"===n[1].Node.Case&&"Variable"===n[1].Node.Fields[1].Node.Case&&function(){return"then"===n[1].Node.Fields[1].Node.Fields[0].Node.Name}()?[0,n[1].Node.Fields[1].Node.Fields[0]]:[1])[0]){case 0:t=e.head;break;case 1:if("Empty"===n[0].Case)t=e.head;else{var i=append$1(e.head.Nodes,createChainNodes(null,"then"));t=new PivotSection(e.head.Transformation,i)}}}return new List$1(insertWhiteAroundSection(null,o[1],t),e.tail)},c=void 0,p=reverse$1(r),h=null!=p.tail?"GetSeries"===p.head.Transformation.Case?[0,p.head,p.tail]:"GetTheData"===p.head.Transformation.Case?[0,p.head,p.tail]:[1,p]:[1,p];switch(h[0]){case 0:c=reverse$1(ofArray$1([h[1],l],u(h[2])));break;case 1:c=reverse$1(new List$1(l,u(h[1])))}Log.trace("live","Inserted section: %O",_Array$from(c));var d=collect$1(function(e){return e.Nodes},c);return function(e){return replaceAndSelectMarker(a[0],e)}(reconstructChain(t,e,d))}}},t):withPivotState(new PivotEditorState(t.State.Body,t.State.FirstNode,n.Fields[0].Fields[0],t.State.Sections,t.State.SelectedEntity,t.State.Menus,t.State.Focus),t)}}function renderNodeList(e,t){return toList(delay(function(){return collect(function(t){var n="Member"===t.Node.Case&&"Variable"===t.Node.Fields[1].Node.Case&&function(){return"then"!==t.Node.Fields[1].Node.Fields[0].Node.Name}()?[0,t.Node.Fields[1].Node.Fields[0]]:[1];switch(n[0]){case 0:return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",e(new PivotEditorAction("SelectRange",[n[1].Range])))]))(ofArray$1([text(n[1].Node.Name)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",e(new PivotEditorAction("RemoveElement",[t.Entity.Symbol])))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-times")]))(new List$1)]))])));case 1:return empty()}},t)}))}function renderContextMenu(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsGreater("class","right"),op_EqualsBangGreater("click",e(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("ContextualDropdownOpen",[])])))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-plus")]))(new List$1)]))}function renderAddPropertyMenu(e,t,n){return toList(delay(function(){var i=find(function(e){var t="Member"===e.Node.Case&&"Variable"===e.Node.Fields[1].Node.Case?[0,e.Node.Fields[1].Node.Fields[0]]:[1];switch(t[0]){case 0:return"then"!==t[1].Node.Name;case 1:return!0}},reverse$1(n)),r=i.Entity.Type,o=null!=r&&"Object"===r.Case?[0,r.Fields[0]]:[1];switch(o[0]){case 0:var s=sortWith(function(e,t){return compare(e,t)},choose(function(e){return t(e.Name)?e.Name:null},o[1].Members));return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$1)(toList(delay(function(){return map$3(function(t){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",e(new PivotEditorAction("AddElement",[i.Entity.Symbol,t,null])))]))(ofArray$1([text(t)]))]))},s)}))));case 1:return empty()}}))}function renderSection(e,t){var n=function(t){return function(n){return function(n){n.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t]))}}},i=function(t){return function(n){return function(i){i.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t(n)]))}}},r=function(e){var t=null!=e&&"Member"===e.Node.Case&&"Variable"===e.Node.Fields[1].Node.Case&&null!=e.Entity?[0,e.Entity,e.Node.Fields[1].Node.Fields[0]]:[1];switch(t[0]){case 0:return[t[2].Node.Name,t[1].Symbol];case 1:return["",null]}};return toList(delay(function(){var o=null!=t?"GetSeries"===t.Transformation.Case?[0,t.Nodes]:"GroupBy"===t.Transformation.Case?[1,t.Nodes]:"Paging"===t.Transformation.Case?[2,t.Nodes]:"SortBy"===t.Transformation.Case?[3,t.Nodes]:"DropColumns"===t.Transformation.Case?[4,t.Nodes]:[5]:[5];switch(o[0]){case 0:var s=void 0;if(null==o[1].tail)throw new Error("No get series node in get series transformation");s=null!=o[1].tail.tail?null!=o[1].tail.tail.tail?[o[1].head,o[1].tail.head,o[1].tail.tail.head]:[o[1].head,o[1].tail.head,null]:[o[1].head,null,null];var a=r(s[1]),l=r(s[2]);return append(function(){var e=s[0].Entity.Type,t=null!=e&&"Object"===e.Case?[0,e.Fields[0]]:[1];switch(t[0]){case 0:return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$1)(ofArray$1([text("with key")]))),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray$1([op_EqualsBangGreater("change",i(function(e){return null!=a[1]?new PivotEditorAction("ReplaceElement",[a[1],e.value,null]):new PivotEditorAction("AddElement",[s[0].Entity.Symbol,e.value,null])}))]))(toList(delay(function(){return append(""===a[0]?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray$1([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray$1([text("")]))):empty(),delay(function(){return collect(function(e){return 0===e.Name.indexOf("with key")?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append(singleton(op_EqualsGreater("value",e.Name)),delay(function(){return a[0]===e.Name?singleton(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray$1([text(replace$$1(e.Name,"with key ",""))]))):empty()},t[1].Members)}))}))))}));case 1:return empty()}}(),delay(function(){var e=null!=s[1]&&null!=s[1].Entity&&null!=s[1].Entity.Type&&"Object"===s[1].Entity.Type.Case?[0,s[1].Entity,s[1].Entity.Type.Fields[0]]:[1];switch(e[0]){case 0:return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$1)(ofArray$1([text("and value")]))),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray$1([op_EqualsBangGreater("change",i(function(t){return null!=l[1]?new PivotEditorAction("ReplaceElement",[l[1],t.value,null]):new PivotEditorAction("AddElement",[e[1].Symbol,t.value,null])}))]))(toList(delay(function(){return append(""===l[0]?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray$1([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray$1([text("")]))):empty(),delay(function(){return collect(function(e){return 0===e.Name.indexOf("and value")?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append(singleton(op_EqualsGreater("value",e.Name)),delay(function(){return l[0]===e.Name?singleton(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray$1([text(replace$$1(e.Name,"and value ",""))]))):empty()},e[2].Members)}))}))))}));case 1:return empty()}}));case 1:var u=void 0;if(null==o[1].tail)throw new Error("No group by node in group by transformation");u=null!=o[1].tail.tail?[o[1].head,o[1].tail.head,o[1].tail.tail]:[o[1].head,null,new List$1];var c=r(u[1]);return append(function(){var e=u[0].Entity.Type,t=null!=e&&"Object"===e.Case?[0,e.Fields[0]]:[1];switch(t[0]){case 0:return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}
}(h$$1)("select")(ofArray$1([op_EqualsBangGreater("change",i(function(e){return null!=c[1]?new PivotEditorAction("ReplaceElement",[c[1],e.value,null]):new PivotEditorAction("AddElement",[u[0].Entity.Symbol,e.value,null])}))]))(toList(delay(function(){return append(""===c[0]?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray$1([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray$1([text("")]))):empty(),delay(function(){return collect(function(e){return 0===e.Name.indexOf("by")?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append(singleton(op_EqualsGreater("value",e.Name)),delay(function(){return c[0]===e.Name?singleton(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray$1([text(e.Name)]))):empty()},t[1].Members)}))}))));case 1:return empty()}}(),delay(function(){return append(renderNodeList(n,u[2]),delay(function(){return singleton(renderContextMenu(n))}))}));case 2:var p=create$5(map$5(function(e){var t="Member"===e.Node.Case&&"Variable"===e.Node.Fields[1].Node.Case?[0,e.Node.Fields[1].Node.Fields[0]]:[1];switch(t[0]){case 0:return t[1].Node.Name;case 1:return""}},o[1]),new GenericComparer(compare));return append(collect(function(t){var i="Call"===t.Node.Case&&"Member"===t.Node.Fields[0].Node.Case&&"Variable"===t.Node.Fields[0].Node.Fields[1].Node.Case&&null!=t.Node.Fields[1].Node.tail&&null==t.Node.Fields[1].Node.tail.tail?[0,t.Node.Fields[1].Node.head,t.Node.Fields[0].Node.Fields[1].Node.Fields[0]]:[1];switch(i[0]){case 0:var r="take"===i[2].Node.Name?new PivotEditorAction("ReplaceElement",[t.Entity.Symbol,"then",null]):new PivotEditorAction("RemoveElement",[t.Entity.Symbol]);return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[i[2].Range])))]))(ofArray$1([text(i[2].Node.Name)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("input")(ofArray$1([op_EqualsGreater("id","input-pg-"+i[2].Node.Name),op_EqualsBangGreater("input",function(t){return function(n){var r=t,o=parseProgram(r.value);0===o[1].length&&1===o[0].Body.Node.length?(t.setCustomValidity(""),e(new LiveEvent("CustomEvent",[new PivotEditorAction("ReplaceRange",[i[1].Value.Range,r.value])]))):t.setCustomValidity("Cannot parse expression")}}),op_EqualsGreater("value",formatSingleExpression(i[1].Value))]))(new List$1),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(r))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-times")]))(new List$1)]))])));case 1:return empty()}},o[1]),delay(function(){return p.has("take")&&p.has("skip")?empty():singleton(renderContextMenu(n))}));case 3:var h=choose$1(function(e){var t="Member"===e.Node.Case&&"Variable"===e.Node.Fields[1].Node.Case&&null!=e.Entity&&function(){var t=(e.Entity.Symbol,e.Node.Fields[1].Node.Fields[0]);return"then"!==t.Node.Name&&"sort data"!==t.Node.Name}()?[0,e.Node.Fields[1].Node.Fields[0],e.Entity.Symbol]:[1];switch(t[0]){case 0:return[t[2],t[1]];case 1:return null}},o[1]),d=tryLast(h);return append(collect(function(e){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$1)(toList(delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[e[1].Range])))]))(ofArray$1([text(e[1].Node.Name)]))),delay(function(){return e[1].Node.Name===d[1].Node.Name?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveElement",[e[0]])))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-times")]))(new List$1)]))):empty()}))}))))},h),delay(function(){return singleton(renderContextMenu(n))}));case 4:return append(renderNodeList(n,o[1].tail),delay(function(){return singleton(renderContextMenu(n))}));case 5:return empty()}}))}function renderPivot(e,t){var n=function(t){return function(n){return function(n){n.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t]))}}},i=tryFind(function(e){return exists(function(e){return equals(t.State.SelectedEntity.Symbol,e.Entity.Symbol)},e.Nodes)},t.State.Sections),r=t.State.FirstNode,o=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(toList(delay(function(){return append(singleton(op_EqualsGreater("class","pivot-preview")),delay(function(){return t.State.Menus.Equals(new PivotEditorMenus("Hidden",[]))?empty():singleton(op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("Hidden",[])]))))}))})))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray$1([op_EqualsGreater("class","tabs")]))(toList(delay(function(){return append(map$3(function(e){var i=exists(function(e){return equals(t.State.SelectedEntity.Symbol,e.Entity.Symbol)},e.Nodes),o=e.Nodes.head.Entity.Symbol,s=void 0,a=null!=e.Nodes.tail?"Variable"===e.Nodes.head.Node.Case?[0,e.Nodes.head.Node.Fields[0]]:"Member"===e.Nodes.head.Node.Case?"Variable"===e.Nodes.head.Node.Fields[1].Node.Case?[0,e.Nodes.head.Node.Fields[1].Node.Fields[0]]:[1]:"Call"===e.Nodes.head.Node.Case?"Variable"===e.Nodes.head.Node.Fields[0].Node.Case?[0,e.Nodes.head.Node.Fields[0].Node.Fields[0]]:"Member"===e.Nodes.head.Node.Fields[0].Node.Case&&"Variable"===e.Nodes.head.Node.Fields[0].Node.Fields[1].Node.Case?[0,e.Nodes.head.Node.Fields[0].Node.Fields[1].Node.Fields[0]]:[1]:[1]:[1];switch(a[0]){case 0:s=a[1].Range;break;case 1:throw new Error("Unexpected node in pivot call chain")}return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray$1([op_EqualsGreater("class",i?"selected":"")]))(toList(delay(function(){return"Empty"===e.Transformation.Case?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[s])))]))(toList(delay(function(){return singleton("Variable"===r.Node.Case?text(r.Node.Fields[0].Node.Name):text("data"))})))):append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[s])))]))(ofArray$1([text(transformName(e.Transformation))]))),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveSection",[o])))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-times")]))(new List$1)])))}))})))},t.State.Sections),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray$1([op_EqualsGreater("class",t.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?"add selected":"add")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("AddDropdownOpen",[])])))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-plus")]))(new List$1)]))])))}))}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var e=function(e){return op_EqualsBangGreater("click",n(new PivotEditorAction("AddTransform",[e])))};return t.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$1)(toList(delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([e(new Transformation("DropColumns",[new List$1]))]))(ofArray$1([text("drop columns")]))]))),delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([e(new Transformation("GroupBy",[new List$1,new List$1]))]))(ofArray$1([text("group by")]))]))),delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([e(new Transformation("Paging",[new List$1]))]))(ofArray$1([text("paging")]))]))),delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([e(new Transformation("SortBy",[new List$1]))]))(ofArray$1([text("sort by")]))]))),delay(function(){return exists(function(e){switch(("GetTheData"===e.Transformation.Case?[0]:"GetSeries"===e.Transformation.Case?[0]:[1])[0]){case 0:return!0;case 1:return!1}},t.State.Sections)?empty():append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([e(new Transformation("GetTheData",[]))]))(ofArray$1([text("get the data")]))]))),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([e(new Transformation("GetSeries",["!","!"]))]))(ofArray$1([text("get series")]))])))}))}))}))}))}))})))):empty()}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","toolbar")]))(toList(delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(ofArray$1([op_EqualsGreater("class","navig")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[-1]))),op_EqualsGreater("class","gfa gfa-chevron-left")]))(new List$1)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[0]))),op_EqualsGreater("class","gfa gfa-circle")]))(new List$1)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[1]))),op_EqualsGreater("class","gfa gfa-chevron-right")]))(new List$1)]))]))),delay(function(){return renderSection(e,i)}))}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var e=[t.State.Menus,i],r="ContextualDropdownOpen"===e[0].Case&&null!=e[1]?"Paging"===e[1].Transformation.Case?[0,e[1].Nodes]:"GroupBy"===e[1].Transformation.Case?[1,e[1].Nodes]:"SortBy"===e[1].Transformation.Case?[2,e[1].Nodes]:"DropColumns"===e[1].Transformation.Case?[3,e[1].Nodes]:[4]:[4];switch(r[0]){case 0:var o=new _Map(choose$1(function(e){var t="Member"===e.Node.Case&&"Variable"===e.Node.Fields[1].Node.Case?[0,e.Entity,e.Node.Fields[1].Node.Fields[0]]:[1];switch(t[0]){case 0:return[t[2].Node.Name,t[1].Symbol];case 1:return null}},r[1])),s=last(r[1]).Entity.Symbol,a=r[1].head.Entity.Symbol;return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$1)(toList(delay(function(){return append(o.has("take")?empty():function(){var e=o.has("then")?new PivotEditorAction("ReplaceElement",[o.get("then"),"take",ofArray$1([new Expr("Number",[10])])]):new PivotEditorAction("AddElement",[s,"take",ofArray$1([new Expr("Number",[10])])]);return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(e))]))(ofArray$1([text("take")]))])))}(),delay(function(){if(o.has("skip"))return empty();var e=new PivotEditorAction("AddElement",[a,"skip",ofArray$1([new Expr("Number",[10])])]);return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",n(e))]))(ofArray$1([text("skip")]))])))}))}))));case 1:return renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e&&!(0===e.indexOf("and"))},r[1]);case 2:return renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e},r[1]);case 3:return renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e},r[1]);case 4:return empty()}}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton(t.State.Preview)})))])),s=t.Mapper.AbsoluteToLineCol(t.State.Body.Range.End);return new LiveEditorZone(s[0],o)}function commandAtLocation$1(e,t){return tryFind(function(t){return t.Range.Start<=e&&t.Range.End+1>=e},t.Body.Node)}function _HasShow___(e){if("Object"===e.Case){return e.Fields[0].Members.some(function(e){switch(("show"===e.Name&&"Method"===e.Type.Case&&null!=e.Type.Fields[0].tail&&"Primitive"===e.Type.Fields[0].head.Type.Case&&"String"===e.Type.Fields[0].head.Type.Fields[0].Case&&null==e.Type.Fields[0].tail.tail?[0]:[1])[0]){case 0:return!0;case 1:return!1}})?{}:null}return null}function updateBody$1(e,t){Log.trace("live","Showable - updating body");var n=commandAtLocation$1(t.Location,t.Program),i=null!=n?"Expr"===n.Node.Case?null!=n.Entity&&"RunCommand"===n.Entity.Kind.Case?[0,n,n.Node.Fields[0],n.Entity.Kind.Fields[0]]:[1]:null!=n.Entity&&"LetCommand"===n.Entity.Kind.Case?[0,n,n.Node.Fields[1],n.Entity.Kind.Fields[1]]:[1]:[1];switch(i[0]){case 0:var r=collectFirstChain(i[2]),o=[i[3].Type,r];if(null!=_HasShow___(o[0])){var s=evaluate(t.Globals,i[3]);if(null!=s){var a=equals(i[3].Symbol,t.State.PreviewSymbol)?t.State.PreviewID:t.State.PreviewID+1,l=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([text("Loading preview...")])),u=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$1)(ofArray$1([function(e){return function(t){return function(n){return h$$1.delayed(e,t,n)}}}(String(a))(l)(function(e){Log.trace("live","Show: %O",s.Value),s.Value.show(e)})]));return function(){var e=new ShowableEditorState(i[1].Range.End,u,i[3].Symbol,a);return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}()}return null}if(null!=o[1]){var c=o[1];return tryPick(function(e){var n=new Name("preview"),r=e[1].Entity.Type,o=void 0;if(null!=r)if("Object"===r.Case){var s=function(e){return _FindMember___(n,e)}(r.Fields[0]);o=null!=s?[0,s]:[1]}else o=[1];else o=[1];switch(o[0]){case 0:var a=pickMetaByType("http://schema.org","WebPage",o[1].Metadata);if(null!=a){var l=a.url,u=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("iframe")(ofArray$1([op_EqualsGreater("src",l)]))(new List$1),c=t.State.PreviewID+1;return function(){var e=new ShowableEditorState(i[1].Range.End,u,i[3].Symbol,c);return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}()}return null;case 1:return null}},sortWith(function(e,t){return-compare(function(e){return e[0]}(e),function(e){return e[0]}(t))},c.Chain))}return null;case 1:return null}}function updateShowableState(e,t,n){switch(("UpdateLocation"===n.Case?[0]:"InitializeGlobals"===n.Case?[1]:"CustomEvent"===n.Case?[1]:[0])[0]){case 0:return function(t){return updateBody$1(e,t)}(t);case 1:return t}}function renderShowable(e,t){var n=t.Mapper.AbsoluteToLineCol(t.State.EndLocation),i=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","pivot-preview")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray$1([op_EqualsGreater("class","tabs")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray$1([op_EqualsGreater("class","selected")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$1)(ofArray$1([text("preview")]))]))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton(t.State.Preview)})))]));return new LiveEditorZone(n[0],i)}function getEntity(e,t){return function(n){return n.Delay(function(){return n.Bind(e.TypeCheck("let it = "+t),function(e){var i=find(function(e){switch(("Variable"===e[1].Kind.Case&&"it"===e[1].Kind.Fields[0].Name?[0]:[1])[0]){case 0:return!0;case 1:return!1}},e[1].Entities),r=find(function(e){return"Program"===e[1].Kind.Case},e[1].Entities),o=collectTypeErrors(r[1]),s=toList(delay(function(){return map$3(function(e){return[t.substr(e.Range.Start,e.Range.End-e.Range.Start+1),e.Message]},o)}));return n.Return([s,i[1]])})})}(singleton$2)}function getTypeName(e){var t=null!=e.Entity&&null!=e.Entity.Type&&"Object"===e.Entity.Type.Case&&hasInterface(e.Entity.Type.Fields[0],"TheGamma.TypeProviders.FSharpProvider.GenericType")?[0,e.Entity.Type.Fields[0]]:[1];switch(t[0]){case 0:return t[1].TypeDefinition.FullName;case 1:return"object"}}function formatChain(e){return join(".",map$5(function(e){return escapeIdent(e[0])+(null==e[1]?"":"("+join(", ",map$5(function(e){return e[1]},e[1]))+")")},reverse$1(e)))}function updateCompletions(e){return function(t){return t.Delay(function(){return t.Bind(e,function(e){if(null==e.Chain.tail)return t.Return(function(){var t=_Array$from(delay(function(){return map$3(function(e){return Entity_get_Name.bind(e)()},e.Globals)}));return new State(e.CheckingService,e.Globals,e.Chain,t,e.Entity)}());var n=formatChain(e.Chain);return t.Bind(getEntity(e.CheckingService,n),function(n){var i=[n[0],n[1]],r=null==i[0].tail&&null!=i[1].Type&&"Object"===i[1].Type.Case?[0,i[1].Type.Fields[0]]:[1];switch(r[0]){case 0:var o=_Array$from(delay(function(){return collect(function(e){return"preview"!==e.Name?singleton(e.Name):empty()},r[1].Members)}));return t.Return(function(){var t=n[1];return new State(e.CheckingService,e.Globals,e.Chain,o,t)}());case 1:return t.Return(function(){var t=n[1],i=[];return new State(e.CheckingService,e.Globals,e.Chain,i,t)}())}})})})}(singleton$2)}function update(e,t){return updateCompletions(function(n){return n.Delay(function(){var i=[t,e],r="AddElement"===i[0].Case?[2,i[0].Fields[0]]:"UpdateParameter"===i[0].Case?null!=i[1].Chain.tail&&null!=i[1].Chain.head[1]?[3,i[1].Chain.head[0],i[0].Fields[0],i[1].Chain.head[1],i[1].Chain.tail,i[0].Fields[1]]:[4]:null!=i[1].Chain.tail?null==i[1].Chain.tail.tail?[0]:[1,i[1].Chain.tail]:[0];switch(r[0]){case 0:return n.Return(function(){var t=new List$1;return new State(e.CheckingService,e.Globals,t,e.Completions,null)}());case 1:return n.Return(new State(e.CheckingService,e.Globals,r[1],e.Completions,e.Entity));case 2:var o=formatChain(new List$1([r[1],null],e.Chain));return n.Bind(getEntity(e.CheckingService,o),function(t){var i=null!=t[1].Type&&"Method"===t[1].Type.Case?[0,t[1].Type.Fields[0]]:[1];switch(i[0]){case 0:return n.Return(function(){var t=new List$1([r[1],toList(delay(function(){return map$3(function(e){return[e.Name,""]},i[1])}))],e.Chain);return new State(e.CheckingService,e.Globals,t,e.Completions,e.Entity)}());case 1:return n.Return(function(){var t=new List$1([r[1],null],e.Chain);return new State(e.CheckingService,e.Globals,t,e.Completions,e.Entity)}())}});case 3:var s=map$5(function(e){return r[2]===e[0]?[r[2],r[5]]:[e[0],e[1]]},r[3]);return n.Return(function(){var t=new List$1([r[1],s],r[4]);return new State(e.CheckingService,e.Globals,t,e.Completions,e.Entity)}());case 4:return n.Return(e)}})}(singleton$2))}function tryGetPreview(e){if(null==e.Entity)return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$1)(ofArray$1([text("No preview available")]));evaluate(e.Globals,e.Entity);var t=e.Entity.Value,n=void 0;if(null!=t){var i=function(e){return e.value}(t.Preview);n=null!=i?[0,i]:[1]}else n=[1];switch(n[0]){case 0:var r=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("id","blockspreview")]))(ofArray$1([text("Loading preview...")])),o=!1;return function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(table.create(n[1]).render(),function(t){return o?(renderTo(document.getElementById("blockspreview"),t),e.Zero()):(r=t,e.Zero())})})}(singleton$2)),o=!0,r;case 1:return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$1)(ofArray$1([text("Preview has no value")]))}}function render$2(e,t){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","pilleditor")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray$1([op_EqualsGreater("class","pills")]))(toList(delay(function(){var n=function(e){return toList(delay(function(){return collect(function(e){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([text(e[0]+(function(){return null!=e[1]}()?" (...)":""))])))},reverse$1(e))}))},i=function(t){return function(i){var r=[t,i],o=r[0]&&null!=r[1].tail?[0]:[1,r[1]];switch(o[0]){case 0:var s=r[1].tail,a=r[1].head[0];return append$1(n(s),ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([text(a),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",function(t){return function(t){e(new _Event$1("RemoveLast",[]))}})]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-times")]))(new List$1)]))]))]));case 1:return n(o[1])}}};return append(function(){var e=null!=t.Chain.tail&&null!=t.Chain.head[1]?[0,t.Chain.head[0],t.Chain.head[1],t.Chain.tail]:[1,t.Chain];switch(e[0]){case 0:return i(!1)(e[3]);case 1:return i(!0)(e[1])}}(),delay(function(){return append(function(){var n=null!=t.Chain.tail&&null!=t.Chain.head[1]?[0,t.Chain.head[0],t.Chain.head[1],t.Chain.tail]:[1];switch(n[0]){case 0:return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(toList(delay(function(){return append(singleton(text(n[1]+"(")),delay(function(){return append(collect(function(t){return append(singleton(text(t[0]+" = ")),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("input")(ofArray$1([op_EqualsGreater("type","text"),op_EqualsGreater("value",t[1]),op_EqualsBangGreater("input",function(n){return function(i){e(new _Event$1("UpdateParameter",[t[0],n.value]))}})]))(new List$1))}))},n[2]),delay(function(){return append(singleton(text(")")),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray$1([op_EqualsBangGreater("click",function(t){return function(t){e(new _Event$1("RemoveLast",[]))}})]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("class","gfa gfa-times")]))(new List$1)])))}))}))}))}))));case 1:return empty()}}(),delay(function(){return t.Completions.length>0?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$1)(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","selectwrapper")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray$1([op_EqualsBangGreater("change",function(t){return function(n){e(new _Event$1("AddElement",[t.value]))}})]))(toList(delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(new List$1)(ofArray$1([text("(choose an operation to add)")]))),delay(function(){return map$3(function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray$1([op_EqualsGreater("value",e)]))(ofArray$1([text(e)]))},t.Completions)}))})))]))]))):empty()}))}))}))),tryGetPreview(t),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(new List$1)(ofArray$1([text(getTypeName(t))]))]))}function createBlockEditor(e,t,n){!function(e){startImmediate(e)}(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(t),function(t){var r=State.Create(e,t);return i.Bind(fold(function(e,t){return function(n){return n.Delay(function(){return n.Bind(e,function(e){return n.ReturnFrom(update(e,new _Event$1("AddElement",[t])))})})}(singleton$2)},singleton$2.Return(r),ofArray$1(["enigma"])),function(e){return createVirtualDomAsyncApp(n,e,function(e){return function(t){return render$2(e,t)}},function(e){return function(t){return update(e,t)}}),i.Zero()})})}),function(e){return Log.exn("system","Something went wrong: %O",e),i.Zero()})})}(singleton$2))}function getColorClass(e){switch(("String"===e.Case?[0]:"QIdent"===e.Case?[1]:"Ident"===e.Case?[1]:"Dot"===e.Case?[2]:"Let"===e.Case?[3]:"Boolean"===e.Case?[3]:"Fun"===e.Case?[3]:"Arrow"===e.Case?[3]:"Number"===e.Case?[4]:[5])[0]){case 0:return"string";case 1:return"ident";case 2:return"operator";case 3:return"keyword";case 4:return"number";case 5:return""}}function createCompletionProvider(e){return _defineProperty({get triggerCharacters(){return _Array$from(_Array$from(delay(function(){return map$3(function(e){return String.fromCharCode(e)},range(0,255))})))},provideCompletionItems:function(t,n,i){return function(e){return startAsPromise(e)}(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){var r=e(t.uri.toString()),o=t.getValue(1,!1);Log.event("editor","completions","",{source:o,position:n});var s=new LocationMapper(o),a=s.LineColToAbsolute(~~n.lineNumber,~~n.column);return i.Bind(r.TypeCheck(o),function(e){var t=tryPick(function(e){var t="Member"===e[1].Kind.Case&&null!=e[1].Kind.Fields[0].Type&&"MemberName"===e[1].Kind.Fields[1].Kind.Case&&function(){e[1].Kind.Fields[0].Type,e[1].Kind.Fields[1].Kind.Fields[0];return a>=e[0].Start&&a<=e[0].End+1}()?[0,e[1].Kind.Fields[1].Kind.Fields[0],e[1].Kind.Fields[0].Type]:[1];switch(t[0]){case 0:return Log.trace("completions","Antecedant at current location (member '%s'): %O",t[1].Name,t[2]),"Object"===t[2].Case?[t[1].Name,e[0],t[2].Fields[0].Members]:null;case 1:var n="Member"===e[1].Kind.Case&&null!=e[1].Kind.Fields[0].Type&&"MemberName"===e[1].Kind.Fields[1].Kind.Case?[0,e[1].Kind.Fields[1].Kind.Fields[0],e[1].Kind.Fields[0].Type]:[1];switch(n[0]){case 0:return Log.trace("completions","Ignoring '%s' at location %s-%s (current=%s)",n[1].Name,e[0].Start,e[0].End,a),null;case 1:return null}}},e[1].Entities);if(null!=t){var n=t[1],r=t[2],o=t[0],l=function(e){var t=s.AbsoluteToLineCol(e.Start),n=s.AbsoluteToLineCol(e.End),i={};return i.startColumn=t[1],i.startLineNumber=t[0],i.endColumn=n[1]+1,i.endLineNumber=n[0],i}(n);Log.trace("completions","providing %s members at %O",r.length,l);var u=r.filter(function(e){var t=pickMetaByType("http://schema.thegamma.net","CompletionItem",e.Metadata);return null==t||!t.hidden}),c=toList(delay(function(){return map$3(function(e){var t={},n="Method"===e.Type.Case?1:9;if(t.kind=n,t.label=e.Name,t.insertText=escapeIdent(e.Name),t.filterText=escapeIdent(o)+e.Name,"Method"===e.Type.Case){var i=function(){var e=function(e){return function(t){return e[1].length>100?[new List$1(e[1],e[0]),t]:[e[0],""===e[1]?t:e[1]+","+t]}},t=[new List$1,""];return function(n){return fold(function(t,n){return e(t)(n)},[t[0],t[1]],n)}}()(toList(delay(function(){return map$3(function(e){return(e.Optional?"?":"")+e.Name},e.Type.Fields[0])}))),r=join(",\n",reverse$1(new List$1(i[1],i[0])));t.documentation="("+r+")"}var s={};return s.text=escapeIdent(e.Name),s.range=l,t.textEdit=s,t},u)}));return Log.trace("completions","returning %O",_Array$from(c)),i.Return(_Array$from(c))}return Log.trace("completions","no members at %s",a),i.Return(_Array$from(new List$1))})}),function(e){return Log.exn("completions","completions failed %O",e),i.Return([])})})}(singleton$2))},resolveCompletionItem:function(e,t){return e}},_Symbol.reflection,function(){return{interfaces:["Fable.Import.monaco.languages.CompletionItemProvider"]}})}function getService(e){return createdEditors.get(e)}function setupMonacoServices(){var e={};e.id="thegamma",monaco$1.languages.register(e),monaco$1.languages.setTokensProvider("thegamma",tokensProvider),monaco$1.languages.registerCompletionItemProvider("thegamma",createCompletionProvider(function(e){return getService(e)}))}function createMonacoEditor(e,t,n,i){0===createdEditors.size&&setupMonacoServices();var r={},o={},s={};s.vertical="none",s.horizontal="auto",o.scrollbar=s,o.value=t,o.language="thegamma",o.lineNumbersMinChars=3,o.contextmenu=!1,o.scrollBeyondLastLine=!1,o.overviewRulerLanes=0,i(o);var a=monaco$1.editor.create(document.getElementById(e),o,r);return createdEditors.set(a.getModel().uri.toString(),n),a}function buildGlobalsTable(e){return function(e){return function(e){return Async_StartAsNamedFuture_Static("buildGlobalsTable",e)}}()(function(t){return t.Delay(function(){var n=create$6(null,new GenericComparer(compare)),i=function(e){var t=tryFind$1(e,n);if(null==t)throw Log.error("typechecker","Could not find named type '%s'",e),new Error(fsFormat("Could not find named type '%s'")(function(e){return e})(e));return t};return t.Bind(e(i),function(e){var i=toList(delay(function(){return append(singleton(new ProvidedType("NamedType",["value",new Type("Any",[])])),delay(function(){return append(singleton(new ProvidedType("NamedType",["object",new Type("Any",[])])),delay(function(){return append(singleton(new ProvidedType("NamedType",["seq",new Type("Any",[])])),delay(function(){return append(singleton(new ProvidedType("NamedType",["async",new Type("Any",[])])),delay(function(){return e}))}))}))}))}));n=create$6(choose(function(e){return"NamedType"===e.Case?[e.Fields[0],e.Fields[1]]:null},i),new GenericComparer(compare));var r=choose$1(function(e){return"GlobalValue"===e.Case?globalEntity(e.Fields[0],e.Fields[1],e.Fields[3],e.Fields[2]):null},i);return t.Return(r)})})}(singleton$2))}function resolveProvider(e,t,n,i){switch(n){case"rest":var r=provideRestType(e,function(n){return function(i){return resolveProvider(e,t,n,i)}},"anonymous",i,"");if("GlobalValue"===r.Case)return[r.Fields[3],new Emitter(function(e){return r.Fields[2]})];throw new Error("resolveProvider: Expected global value");case"pivot":var o=function(n){return n.Delay(function(){return n.Bind(providePivotType(i,t,"anonymous",e),function(e){return"GlobalValue"===e.Case?n.Return(e.Fields[3]):n.Return(function(){throw new Error("resolveProvider: Expected global value")}())})})}(singleton$2);return[new Type("Delayed",[function(e){return function(t){
return Async_StartAsNamedFuture_Static(e,t)}}("pivotType:"+i)(o)]),new Emitter(function(e){return makePivotExpression(i)})];default:throw Log.error("providers","Cannot resolve provider '%s' (%s)",n,i),new Error("resolveProvider: Cannot resolve type provider")}}function callShowMethod(e,t){var n="Expr"===t.Node.Case&&null!=t.Node.Fields[0].Entity&&null!=t.Node.Fields[0].Entity.Type?[0,t.Node.Fields[0],t.Node.Fields[0].Entity.Type]:[1];switch(n[0]){case 0:if("Object"===n[2].Case){var i=tryPick(function(e){var t="show"===e.Name&&"Method"===e.Type.Case&&null!=e.Type.Fields[0].tail&&"Primitive"===e.Type.Fields[0].head.Type.Case&&"String"===e.Type.Fields[0].head.Type.Fields[0].Case&&null==e.Type.Fields[0].tail.tail?[0,e.Type]:[1];switch(t[0]){case 0:return t[1];case 1:return null}},n[2].Fields[0].Members);if(null!=i){var r=new _Range(t.Range.End,t.Range.End),o=node(r,new Expr("String",[e])),s=ofArray$1([new Argument(null,o)]),a=function(e){return node(r,e)}(new Expr("Member",[n[1],node(r,new Expr("Variable",[node(r,new Name("show"))]))])),l=new Entity(new EntityKind("Root",[]),_Symbol2(),null,new List$1,i,new List$1);a.Entity=l;var u=node(r,new Expr("Call",[a,node(r,s)]));return node(t.Range,new Command("Expr",[u]))}return t}return t;case 1:return t}}function _evaluate(ctx,code,outputId){return function(builder_){return builder_.Delay(function(){return builder_.Bind(ctx.checkingService.TypeCheck(code),function(_arg1){var newBody=null!=outputId?map$5(function(e){return callShowMethod(outputId,e)},_arg1[2].Body.Node):_arg1[2].Body.Node,prog=new Program$$1(new _Node(_arg1[2].Body.WhiteBefore,_arg1[2].Body.WhiteAfter,_arg1[2].Body.Range,newBody,_arg1[2].Body.Entity));return builder_.Bind(compile(ctx.providers.globals,code,prog),function(_arg2){var s=series.create(function(e){return e.Delay(function(){return e.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),date$1.now(),series.values(new Int32Array([1])),placeholder.create(""),Log.trace("interpreter","Main evaluating: %O",_arg2),builder_.Return(eval(_arg2))})})})}(singleton$2)}function serializeType(e){return"Delayed"===e.Case?"delayed":"Primitive"===e.Case?"Bool"===e.Fields[0].Case?"bool":"Date"===e.Fields[0].Case?"date":"Number"===e.Fields[0].Case?"number":"String"===e.Fields[0].Case?"string":"unit":"Method"===e.Case?{kind:"function",arguments:_Array$from(map$5(function(e){return[e.Name,e.Optional,e.Static,serializeType(e.Type)]},e.Fields[0])),result:serializeType(e.Fields[1](toList(delay(function(){return map$3(function(e){return[e.Type,null]},e.Fields[0])}))))}:"List"===e.Case?{kind:"array",type:serializeType(e.Fields[0])}:"Object"===e.Case?createObj(toList(delay(function(){return append(singleton(["kind","object"]),delay(function(){return append(hasInterface(e.Fields[0],"TheGamma.TypeProviders.FSharpProvider.GenericType")?singleton(["generics",_Array$from(map$3(function(e){return serializeType(e)},e.Fields[0].TypeArguments))]):function(){return empty()}(),delay(function(){return singleton(["members",e.Fields[0].Members.map(function(e){return e.Name})])}))}))}))):"any"}function serializeEntity(e,t){var n="Program"===t.Kind.Case?["program",new List$1]:"RunCommand"===t.Kind.Case?["do",new List$1]:"LetCommand"===t.Kind.Case?["let",new List$1]:"Operator"===t.Kind.Case?["operator",new List$1]:"List"===t.Kind.Case?["list",new List$1]:"Constant"===t.Kind.Case?["constant",new List$1]:"Function"===t.Kind.Case?["function",new List$1]:"GlobalValue"===t.Kind.Case?["global",new List$1]:"Variable"===t.Kind.Case?["variable",new List$1]:"Binding"===t.Kind.Case?["binding",new List$1]:"ArgumentList"===t.Kind.Case?["args",new List$1]:"CallSite"===t.Kind.Case?["callsite",new List$1]:"Member"===t.Kind.Case?["member",new List$1]:"MemberAccess"===t.Kind.Case?["access",new List$1]:"MemberName"===t.Kind.Case?["name",ofArray$1([["name",t.Kind.Fields[0].Name]])]:"NamedParam"===t.Kind.Case?["param",ofArray$1([["name",t.Kind.Fields[0].Name]])]:"Placeholder"===t.Kind.Case?["placeholder",ofArray$1([["name",t.Kind.Fields[0].Name]])]:"Call"===t.Kind.Case?["call",new List$1]:["root",new List$1];return createObj(toList(delay(function(){return append(singleton(["kind",n[0]]),delay(function(){return append(function(){return null!=e}()?singleton(["range",{start:e.Start,end:e.End}]):empty(),delay(function(){return append(singleton(["getChildren",function(){return _Array$from(Entity_get_Antecedents.bind(t)()).map(function(){return function(e){return serializeEntity(null,e)}}())}]),delay(function(){return append(singleton(["type",function(){var e=t.Type;return null!=e?serializeType(e):"unknown"}()]),delay(function(){return n[1]}))}))}))}))})))}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_defined=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},defined=_defined,_toObject=function(e){return Object(defined(e))},hasOwnProperty={}.hasOwnProperty,_has=function(e,t){return hasOwnProperty.call(e,t)},toString={}.toString,_cof=function(e){return toString.call(e).slice(8,-1)},cof=_cof,_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)},IObject=_iobject,defined$1=_defined,_toIobject=function(e){return IObject(defined$1(e))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},toInteger=_toInteger,min=Math.min,_toLength=function(e){return e>0?min(toInteger(e),9007199254740991):0},toInteger$1=_toInteger,max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(e,t){return e=toInteger$1(e),e<0?max(e+t,0):min$1(e,t)},toIObject$1=_toIobject,toLength=_toLength,toAbsoluteIndex=_toAbsoluteIndex,_arrayIncludes=function(e){return function(t,n,i){var r,o=toIObject$1(t),s=toLength(o.length),a=toAbsoluteIndex(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},_global=createCommonjsModule(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),global$1=_global,SHARED="__core-js_shared__",store=global$1[SHARED]||(global$1[SHARED]={}),_shared=function(e){return store[e]||(store[e]={})},id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++id+px).toString(36))},shared=_shared("keys"),uid=_uid,_sharedKey=function(e){return shared[e]||(shared[e]=uid(e))},has=_has,toIObject=_toIobject,arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(e,t){var n,i=toIObject(e),r=0,o=[];for(n in i)n!=IE_PROTO&&has(i,n)&&o.push(n);for(;t.length>r;)has(i,n=t[r++])&&(~arrayIndexOf(o,n)||o.push(n));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$keys$1=_objectKeysInternal,enumBugKeys=_enumBugKeys,_objectKeys=Object.keys||function(e){return $keys$1(e,enumBugKeys)},_core=createCommonjsModule(function(e){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)}),_aFunction=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},aFunction=_aFunction,_ctx=function(e,t,n){if(aFunction(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},_isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},isObject=_isObject,_anObject=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch(e){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),isObject$1=_isObject,document$1=_global.document,is=isObject$1(document$1)&&isObject$1(document$1.createElement),_domCreate=function(e){return is?document$1.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),isObject$2=_isObject,_toPrimitive=function(e,t){if(!isObject$2(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!isObject$2(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!isObject$2(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!isObject$2(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},anObject=_anObject,IE8_DOM_DEFINE=_ie8DomDefine,toPrimitive=_toPrimitive,dP$1=Object.defineProperty,f=_descriptors?Object.defineProperty:function(e,t,n){if(anObject(e),t=toPrimitive(t,!0),anObject(n),IE8_DOM_DEFINE)try{return dP$1(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},_objectDp={f:f},_propertyDesc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},dP=_objectDp,createDesc=_propertyDesc,_hide=_descriptors?function(e,t,n){return dP.f(e,t,createDesc(1,n))}:function(e,t,n){return e[t]=n,e},global$2=_global,core$1=_core,ctx=_ctx,hide=_hide,PROTOTYPE="prototype",$export$1=function(e,t,n){var i,r,o,s=e&$export$1.F,a=e&$export$1.G,l=e&$export$1.S,u=e&$export$1.P,c=e&$export$1.B,p=e&$export$1.W,h=a?core$1:core$1[t]||(core$1[t]={}),d=h[PROTOTYPE],f=a?global$2:l?global$2[t]:(global$2[t]||{})[PROTOTYPE];a&&(n=t);for(i in n)(r=!s&&f&&void 0!==f[i])&&i in h||(o=r?f[i]:n[i],h[i]=a&&"function"!=typeof f[i]?n[i]:c&&r?ctx(o,global$2):p&&f[i]==o?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[PROTOTYPE]=e[PROTOTYPE],t}(o):u&&"function"==typeof o?ctx(Function.call,o):o,u&&((h.virtual||(h.virtual={}))[i]=o,e&$export$1.R&&d&&!d[i]&&hide(d,i,o)))};$export$1.F=1,$export$1.G=2,$export$1.S=4,$export$1.P=8,$export$1.B=16,$export$1.W=32,$export$1.U=64,$export$1.R=128;var _export=$export$1,$export=_export,core=_core,fails=_fails,_objectSap=function(e,t){var n=(core.Object||{})[e]||Object[e],i={};i[e]=t(n),$export($export.S+$export.F*fails(function(){n(1)}),"Object",i)},toObject=_toObject,$keys=_objectKeys;_objectSap("keys",function(){return function(e){return $keys(toObject(e))}});var keys$1=_core.Object.keys,keys=createCommonjsModule(function(e){e.exports={default:keys$1,__esModule:!0}}),_Object$keys=unwrapExports(keys),toInteger$2=_toInteger,defined$2=_defined,_stringAt=function(e){return function(t,n){var i,r,o=String(defined$2(t)),s=toInteger$2(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s),i<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536)}},_library=!0,_redefine=_hide,_iterators={},dP$2=_objectDp,anObject$2=_anObject,getKeys=_objectKeys,_objectDps=_descriptors?Object.defineProperties:function(e,t){anObject$2(e);for(var n,i=getKeys(t),r=i.length,o=0;r>o;)dP$2.f(e,n=i[o++],t[n]);return e},document$2=_global.document,_html=document$2&&document$2.documentElement,anObject$1=_anObject,dPs=_objectDps,enumBugKeys$1=_enumBugKeys,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var e,t=_domCreate("iframe"),n=enumBugKeys$1.length;for(t.style.display="none",_html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),createDict=e.F;n--;)delete createDict[PROTOTYPE$1][enumBugKeys$1[n]];return createDict()},_objectCreate=Object.create||function(e,t){var n;return null!==e?(Empty[PROTOTYPE$1]=anObject$1(e),n=new Empty,Empty[PROTOTYPE$1]=null,n[IE_PROTO$1]=e):n=createDict(),void 0===t?n:dPs(n,t)},_wks=createCommonjsModule(function(e){var t=_shared("wks"),n=_uid,i=_global.Symbol,r="function"==typeof i;(e.exports=function(e){return t[e]||(t[e]=r&&i[e]||(r?i:n)("Symbol."+e))}).store=t}),def=_objectDp.f,has$2=_has,TAG=_wks("toStringTag"),_setToStringTag=function(e,t,n){e&&!has$2(e=n?e:e.prototype,TAG)&&def(e,TAG,{configurable:!0,value:t})},create=_objectCreate,descriptor=_propertyDesc,setToStringTag$1=_setToStringTag,IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(e,t,n){e.prototype=create(IteratorPrototype,{next:descriptor(1,n)}),setToStringTag$1(e,t+" Iterator")},has$3=_has,toObject$1=_toObject,IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(e){return e=toObject$1(e),has$3(e,IE_PROTO$2)?e[IE_PROTO$2]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},LIBRARY=_library,$export$2=_export,redefine=_redefine,hide$1=_hide,has$1=_has,Iterators=_iterators,$iterCreate=_iterCreate,setToStringTag=_setToStringTag,getPrototypeOf=_objectGpo,ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(e,t,n,i,r,o,s){$iterCreate(n,t,i);var a,l,u,c=function(e){if(!BUGGY&&e in f)return f[e];switch(e){case KEYS:case VALUES:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",h=r==VALUES,d=!1,f=e.prototype,m=f[ITERATOR]||f[FF_ITERATOR]||r&&f[r],y=m||c(r),g=r?h?c("entries"):y:void 0,v="Array"==t?f.entries||m:m;if(v&&(u=getPrototypeOf(v.call(new e)))!==Object.prototype&&u.next&&(setToStringTag(u,p,!0),LIBRARY||has$1(u,ITERATOR)||hide$1(u,ITERATOR,returnThis)),h&&m&&m.name!==VALUES&&(d=!0,y=function(){return m.call(this)}),LIBRARY&&!s||!BUGGY&&!d&&f[ITERATOR]||hide$1(f,ITERATOR,y),Iterators[t]=y,Iterators[p]=returnThis,r)if(a={values:h?y:c(VALUES),keys:o?y:c(KEYS),entries:g},s)for(l in a)l in f||redefine(f,l,a[l]);else $export$2($export$2.P+$export$2.F*(BUGGY||d),t,a);return a},$at=_stringAt(!0);_iterDefine(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=$at(t,n),this._i+=e.length,{value:e,done:!1})});var anObject$3=_anObject,_iterCall=function(e,t,n,i){try{return i?t(anObject$3(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&anObject$3(r.call(e)),t}},Iterators$1=_iterators,ITERATOR$1=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function(e){return void 0!==e&&(Iterators$1.Array===e||ArrayProto[ITERATOR$1]===e)},$defineProperty=_objectDp,createDesc$1=_propertyDesc,_createProperty=function(e,t,n){t in e?$defineProperty.f(e,t,createDesc$1(0,n)):e[t]=n},cof$1=_cof,TAG$1=_wks("toStringTag"),ARG="Arguments"==cof$1(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},_classof=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=tryGet(t=Object(e),TAG$1))?n:ARG?cof$1(t):"Object"==(i=cof$1(t))&&"function"==typeof t.callee?"Arguments":i},classof=_classof,ITERATOR$2=_wks("iterator"),Iterators$2=_iterators,core_getIteratorMethod=_core.getIteratorMethod=function(e){if(void 0!=e)return e[ITERATOR$2]||e["@@iterator"]||Iterators$2[classof(e)]},ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}var _iterDetect=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var i=[7],r=i[ITERATOR$3]();r.next=function(){return{done:n=!0}},i[ITERATOR$3]=function(){return r},e(i)}catch(e){}return n},ctx$1=_ctx,$export$3=_export,toObject$2=_toObject,call=_iterCall,isArrayIter=_isArrayIter,toLength$1=_toLength,createProperty=_createProperty,getIterFn=core_getIteratorMethod;$export$3($export$3.S+$export$3.F*!_iterDetect(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,r,o=toObject$2(e),s="function"==typeof this?this:Array,a=arguments.length,l=a>1?arguments[1]:void 0,u=void 0!==l,c=0,p=getIterFn(o);if(u&&(l=ctx$1(l,a>2?arguments[2]:void 0,2)),void 0==p||s==Array&&isArrayIter(p))for(t=toLength$1(o.length),n=new s(t);t>c;c++)createProperty(n,c,u?l(o[c],c):o[c]);else for(r=p.call(o),n=new s;!(i=r.next()).done;c++)createProperty(n,c,u?call(r,l,[i.value,c],!0):i.value);return n.length=c,n}});var from$1=_core.Array.from,from=createCommonjsModule(function(e){e.exports={default:from$1,__esModule:!0}}),_Array$from=unwrapExports(from),_meta=createCommonjsModule(function(e){var t=_uid("meta"),n=_isObject,i=_has,r=_objectDp.f,o=0,s=Object.isExtensible||function(){return!0},a=!_fails(function(){return s(Object.preventExtensions({}))}),l=function(e){r(e,t,{value:{i:"O"+ ++o,w:{}}})},u=function(e,r){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,t)){if(!s(e))return"F";if(!r)return"E";l(e)}return e[t].i},c=function(e,n){if(!i(e,t)){if(!s(e))return!0;if(!n)return!1;l(e)}return e[t].w},p=function(e){return a&&h.NEED&&s(e)&&!i(e,t)&&l(e),e},h=e.exports={KEY:t,NEED:!1,fastKey:u,getWeak:c,onFreeze:p}}),f$1=_wks,_wksExt={f:f$1},global$4=_global,core$2=_core,LIBRARY$1=_library,wksExt$1=_wksExt,defineProperty=_objectDp.f,_wksDefine=function(e){var t=core$2.Symbol||(core$2.Symbol=LIBRARY$1?{}:global$4.Symbol||{});"_"==e.charAt(0)||e in t||defineProperty(t,e,{value:wksExt$1.f(e)})},f$2=Object.getOwnPropertySymbols,_objectGops={f:f$2},f$3={}.propertyIsEnumerable,_objectPie={f:f$3},getKeys$1=_objectKeys,gOPS=_objectGops,pIE=_objectPie,_enumKeys=function(e){var t=getKeys$1(e),n=gOPS.f;if(n)for(var i,r=n(e),o=pIE.f,s=0;r.length>s;)o.call(e,i=r[s++])&&t.push(i);return t},cof$2=_cof,_isArray=Array.isArray||function(e){return"Array"==cof$2(e)},$keys$3=_objectKeysInternal,hiddenKeys=_enumBugKeys.concat("length","prototype"),f$5=Object.getOwnPropertyNames||function(e){return $keys$3(e,hiddenKeys)},_objectGopn={f:f$5},toIObject$3=_toIobject,gOPN$1=_objectGopn.f,toString$1={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return gOPN$1(e)}catch(e){return windowNames.slice()}},f$4=function(e){return windowNames&&"[object Window]"==toString$1.call(e)?getWindowNames(e):gOPN$1(toIObject$3(e))},_objectGopnExt={f:f$4},pIE$1=_objectPie,createDesc$3=_propertyDesc,toIObject$4=_toIobject,toPrimitive$2=_toPrimitive,has$5=_has,IE8_DOM_DEFINE$1=_ie8DomDefine,gOPD$1=Object.getOwnPropertyDescriptor,f$6=_descriptors?gOPD$1:function(e,t){if(e=toIObject$4(e),t=toPrimitive$2(t,!0),IE8_DOM_DEFINE$1)try{return gOPD$1(e,t)}catch(e){}if(has$5(e,t))return createDesc$3(!pIE$1.f.call(e,t),e[t])},_objectGopd={f:f$6},global$3=_global,has$4=_has,DESCRIPTORS=_descriptors,$export$4=_export,redefine$1=_redefine,META=_meta.KEY,$fails=_fails,shared$1=_shared,setToStringTag$2=_setToStringTag,uid$1=_uid,wks=_wks,wksExt=_wksExt,wksDefine=_wksDefine,enumKeys=_enumKeys,isArray=_isArray,anObject$4=_anObject,toIObject$2=_toIobject,toPrimitive$1=_toPrimitive,createDesc$2=_propertyDesc,_create=_objectCreate,gOPNExt=_objectGopnExt,$GOPD=_objectGopd,$DP=_objectDp,$keys$2=_objectKeys,gOPD=$GOPD.f,dP$3=$DP.f,gOPN=gOPNExt.f,$Symbol=global$3.Symbol,$JSON=global$3.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE$2="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared$1("symbol-registry"),AllSymbols=shared$1("symbols"),OPSymbols=shared$1("op-symbols"),ObjectProto$1=Object[PROTOTYPE$2],USE_NATIVE="function"==typeof $Symbol,QObject=global$3.QObject,setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP$3({},"a",{get:function(){return dP$3(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=gOPD(ObjectProto$1,t);i&&delete ObjectProto$1[t],dP$3(e,t,n),i&&e!==ObjectProto$1&&dP$3(ObjectProto$1,t,i)}:dP$3,wrap=function(e){var t=AllSymbols[e]=_create($Symbol[PROTOTYPE$2]);return t._k=e,t},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof $Symbol},$defineProperty$1=function(e,t,n){return e===ObjectProto$1&&$defineProperty$1(OPSymbols,t,n),anObject$4(e),t=toPrimitive$1(t,!0),anObject$4(n),has$4(AllSymbols,t)?(n.enumerable?(has$4(e,HIDDEN)&&e[HIDDEN][t]&&(e[HIDDEN][t]=!1),n=_create(n,{enumerable:createDesc$2(0,!1)})):(has$4(e,HIDDEN)||dP$3(e,HIDDEN,createDesc$2(1,{})),e[HIDDEN][t]=!0),setSymbolDesc(e,t,n)):dP$3(e,t,n)},$defineProperties=function(e,t){anObject$4(e);for(var n,i=enumKeys(t=toIObject$2(t)),r=0,o=i.length;o>r;)$defineProperty$1(e,n=i[r++],t[n]);return e},$create=function(e,t){return void 0===t?_create(e):$defineProperties(_create(e),t)},$propertyIsEnumerable=function(e){var t=isEnum.call(this,e=toPrimitive$1(e,!0));return!(this===ObjectProto$1&&has$4(AllSymbols,e)&&!has$4(OPSymbols,e))&&(!(t||!has$4(this,e)||!has$4(AllSymbols,e)||has$4(this,HIDDEN)&&this[HIDDEN][e])||t)},$getOwnPropertyDescriptor=function(e,t){if(e=toIObject$2(e),t=toPrimitive$1(t,!0),e!==ObjectProto$1||!has$4(AllSymbols,t)||has$4(OPSymbols,t)){var n=gOPD(e,t);return!n||!has$4(AllSymbols,t)||has$4(e,HIDDEN)&&e[HIDDEN][t]||(n.enumerable=!0),n}},$getOwnPropertyNames=function(e){for(var t,n=gOPN(toIObject$2(e)),i=[],r=0;n.length>r;)has$4(AllSymbols,t=n[r++])||t==HIDDEN||t==META||i.push(t);return i},$getOwnPropertySymbols=function(e){for(var t,n=e===ObjectProto$1,i=gOPN(n?OPSymbols:toIObject$2(e)),r=[],o=0;i.length>o;)!has$4(AllSymbols,t=i[o++])||n&&!has$4(ObjectProto$1,t)||r.push(AllSymbols[t]);return r};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=uid$1(arguments.length>0?arguments[0]:void 0),t=function(n){this===ObjectProto$1&&t.call(OPSymbols,n),has$4(this,HIDDEN)&&has$4(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,createDesc$2(1,n))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto$1,e,{configurable:!0,set:t}),wrap(e)},redefine$1($Symbol[PROTOTYPE$2],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty$1,_objectGopn.f=gOPNExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,DESCRIPTORS&&!_library&&redefine$1(ObjectProto$1,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(e){return wrap(wks(e))}),$export$4($export$4.G+$export$4.W+$export$4.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys$2(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export$4($export$4.S+$export$4.F*!USE_NATIVE,"Symbol",{for:function(e){return has$4(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){if(!isSymbol(e))throw TypeError(e+" is not a symbol!");for(var t in SymbolRegistry)if(SymbolRegistry[t]===e)return t},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export$4($export$4.S+$export$4.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty$1,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export$4($export$4.S+$export$4.F*(!USE_NATIVE||$fails(function(){var e=$Symbol();return"[null]"!=_stringify([e])||"{}"!=_stringify({a:e})||"{}"!=_stringify(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!isSymbol(e)){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);return t=i[1],"function"==typeof t&&(n=t),!n&&isArray(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!isSymbol(t))return t}),i[1]=t,_stringify.apply($JSON,i)}}}),$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf),setToStringTag$2($Symbol,"Symbol"),setToStringTag$2(Math,"Math",!0),setToStringTag$2(global$3.JSON,"JSON",!0),_wksDefine("asyncIterator"),_wksDefine("observable");var index=_core.Symbol,symbol=createCommonjsModule(function(e){e.exports={default:index,__esModule:!0}}),_Symbol2=unwrapExports(symbol),classCallCheck=createCommonjsModule(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),_classCallCheck=unwrapExports(classCallCheck),$export$5=_export;$export$5($export$5.S+$export$5.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty$3=function(e,t,n){return $Object.defineProperty(e,t,n)},defineProperty$1=createCommonjsModule(function(e){e.exports={default:defineProperty$3,__esModule:!0}}),createClass=createCommonjsModule(function(e,t){t.__esModule=!0;var n=defineProperty$1,i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()}),_createClass=unwrapExports(createClass),_addToUnscopables=function(){},_iterStep=function(e,t){return{value:t,done:!!e}},addToUnscopables=_addToUnscopables,step=_iterStep,Iterators$4=_iterators,toIObject$5=_toIobject,es6_array_iterator=_iterDefine(Array,"Array",function(e,t){this._t=toIObject$5(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,n):"values"==t?step(0,e[n]):step(0,[n,e[n]])},"values");Iterators$4.Arguments=Iterators$4.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");for(var global$5=_global,hide$2=_hide,Iterators$3=_iterators,TO_STRING_TAG=_wks("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global$5[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide$2(proto,TO_STRING_TAG,NAME),Iterators$3[NAME]=Iterators$3.Array}var iterator$2=_wksExt.f("iterator"),iterator=createCommonjsModule(function(e){e.exports={default:iterator$2,__esModule:!0}}),_typeof_1=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=iterator,r=n(i),o=symbol,s=n(o),a="function"==typeof s.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":a(e)}}),_typeof=unwrapExports(_typeof_1),hide$3=_hide,_redefineAll=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:hide$3(e,i,t[i]);return e},_anInstance=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e},_forOf=createCommonjsModule(function(e){var t=_ctx,n=_iterCall,i=_isArrayIter,r=_anObject,o=_toLength,s=core_getIteratorMethod,a={},l={},u=e.exports=function(e,u,c,p,h){var d,f,m,y,g=h?function(){return e}:s(e),v=t(c,p,u?2:1),C=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=o(e.length);d>C;C++)if((y=u?v(r(f=e[C])[0],f[1]):v(e[C]))===a||y===l)return y}else for(m=g.call(e);!(f=m.next()).done;)if((y=n(m,v,f.value,u))===a||y===l)return y};u.BREAK=a,u.RETURN=l}),global$6=_global,core$3=_core,dP$5=_objectDp,DESCRIPTORS$2=_descriptors,SPECIES=_wks("species"),_setSpecies=function(e){var t="function"==typeof core$3[e]?core$3[e]:global$6[e];DESCRIPTORS$2&&t&&!t[SPECIES]&&dP$5.f(t,SPECIES,{configurable:!0,get:function(){return this}})},isObject$3=_isObject,_validateCollection=function(e,t){if(!isObject$3(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e},dP$4=_objectDp.f,create$1=_objectCreate,redefineAll=_redefineAll,ctx$2=_ctx,anInstance=_anInstance,forOf=_forOf,$iterDefine=_iterDefine,step$1=_iterStep,setSpecies=_setSpecies,DESCRIPTORS$1=_descriptors,fastKey$1=_meta.fastKey,validate$1=_validateCollection,SIZE=DESCRIPTORS$1?"_s":"size",getEntry=function(e,t){var n,i=fastKey$1(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n},_collectionStrong={getConstructor:function(e,t,n,i){var r=e(function(e,o){anInstance(e,r,t,"_i"),e._t=t,e._i=create$1(null),e._f=void 0,e._l=void 0,e[SIZE]=0,void 0!=o&&forOf(o,n,e[i],e)});return redefineAll(r.prototype,{clear:function(){for(var e=validate$1(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[SIZE]=0},delete:function(e){var n=validate$1(this,t),i=getEntry(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[SIZE]--}return!!i},forEach:function(e){validate$1(this,t);for(var n,i=ctx$2(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!getEntry(validate$1(this,t),e)}}),DESCRIPTORS$1&&dP$4(r.prototype,"size",{get:function(){return validate$1(this,t)[SIZE]}}),r},def:function(e,t,n){var i,r,o=getEntry(e,t);return o?o.v=n:(e._l=o={i:r=fastKey$1(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[SIZE]++,"F"!==r&&(e._i[r]=o)),e},getEntry:getEntry,setStrong:function(e,t,n){$iterDefine(e,t,function(e,n){this._t=validate$1(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?step$1(0,n.k):"values"==t?step$1(0,n.v):step$1(0,[n.k,n.v]):(e._t=void 0,step$1(1))},n?"entries":"values",!n,!0),setSpecies(t)}},isObject$5=_isObject,isArray$1=_isArray,SPECIES$1=_wks("species"),_arraySpeciesConstructor=function(e){var t;return isArray$1(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!isArray$1(t.prototype)||(t=void 0),isObject$5(t)&&null===(t=t[SPECIES$1])&&(t=void 0)),void 0===t?Array:t},speciesConstructor=_arraySpeciesConstructor,_arraySpeciesCreate=function(e,t){return new(speciesConstructor(e))(t)},ctx$3=_ctx,IObject$1=_iobject,toObject$3=_toObject,toLength$2=_toLength,asc=_arraySpeciesCreate,_arrayMethods=function(e,t){var n=1==e,i=2==e,r=3==e,o=4==e,s=6==e,a=5==e||s,l=t||asc;return function(t,u,c){for(var p,h,d=toObject$3(t),f=IObject$1(d),m=ctx$3(u,c,3),y=toLength$2(f.length),g=0,v=n?l(t,y):i?l(t,0):void 0;y>g;g++)if((a||g in f)&&(p=f[g],h=m(p,g,d),e))if(n)v[g]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:v.push(p)}else if(o)return!1;return s?-1:r||o?o:v}},global$7=_global,$export$6=_export,meta=_meta,fails$1=_fails,hide$4=_hide,redefineAll$1=_redefineAll,forOf$1=_forOf,anInstance$1=_anInstance,isObject$4=_isObject,setToStringTag$3=_setToStringTag,dP$6=_objectDp.f,each=_arrayMethods(0),DESCRIPTORS$3=_descriptors,_collection=function(e,t,n,i,r,o){var s=global$7[e],a=s,l=r?"set":"add",u=a&&a.prototype,c={};return DESCRIPTORS$3&&"function"==typeof a&&(o||u.forEach&&!fails$1(function(){(new a).entries().next()}))?(a=t(function(t,n){anInstance$1(t,a,e,"_c"),t._c=new s,void 0!=n&&forOf$1(n,r,t[l],t)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in u&&(!o||"clear"!=e)&&hide$4(a.prototype,e,function(n,i){if(anInstance$1(this,a,e),!t&&o&&!isObject$4(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r})}),
o||dP$6(a.prototype,"size",{get:function(){return this._c.size}})):(a=i.getConstructor(t,e,r,l),redefineAll$1(a.prototype,n),meta.NEED=!0),setToStringTag$3(a,e),c[e]=a,$export$6($export$6.G+$export$6.W+$export$6.F,c),o||i.setStrong(a,e,r),a},strong=_collectionStrong,validate=_validateCollection,MAP="Map",es6_map=_collection(MAP,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=strong.getEntry(validate(this,MAP),e);return t&&t.v},set:function(e,t){return strong.def(validate(this,MAP),0===e?0:e,t)}},strong,!0),forOf$2=_forOf,_arrayFromIterable=function(e,t){var n=[];return forOf$2(e,!1,n.push,n,t),n},classof$1=_classof,from$3=_arrayFromIterable,_collectionToJson=function(e){return function(){if(classof$1(this)!=e)throw TypeError(e+"#toJSON isn't generic");return from$3(this)}},$export$7=_export;$export$7($export$7.P+$export$7.R,"Map",{toJSON:_collectionToJson("Map")});var $export$8=_export,_setCollectionOf=function(e){$export$8($export$8.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})};_setCollectionOf("Map");var $export$9=_export,aFunction$1=_aFunction,ctx$4=_ctx,forOf$3=_forOf,_setCollectionFrom=function(e){$export$9($export$9.S,e,{from:function(e){var t,n,i,r,o=arguments[1];return aFunction$1(this),t=void 0!==o,t&&aFunction$1(o),void 0==e?new this:(n=[],t?(i=0,r=ctx$4(o,arguments[2],2),forOf$3(e,!1,function(e){n.push(r(e,i++))})):forOf$3(e,!1,n.push,n),new this(n))}})};_setCollectionFrom("Map");var map$1=_core.Map,map=createCommonjsModule(function(e){e.exports={default:map$1,__esModule:!0}}),_Map=unwrapExports(map),defineProperty$5=createCommonjsModule(function(e,t){t.__esModule=!0;var n=defineProperty$1,i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}),_defineProperty=unwrapExports(defineProperty$5),anObject$5=_anObject,get=core_getIteratorMethod,core_getIterator=_core.getIterator=function(e){var t=get(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return anObject$5(t.call(e))},getIterator$1=core_getIterator,getIterator=createCommonjsModule(function(e){e.exports={default:getIterator$1,__esModule:!0}}),_getIterator=unwrapExports(getIterator),fableGlobal=function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};return void 0===e.__FABLE_CORE__&&(e.__FABLE_CORE__={types:new Map,symbols:{reflection:Symbol("reflection")}}),e.__FABLE_CORE__}(),_Symbol=fableGlobal.symbols,NonDeclaredType=function(){function e(e,t,n){this.kind=e,this.definition=t,this.generics=n}return e.prototype.Equals=function(e){return this.kind===e.kind&&this.definition===e.definition&&("object"==typeof this.generics?equalsRecords(this.generics,e.generics):this.generics===e.generics)},e}(),Any=new NonDeclaredType("Any"),Unit=new NonDeclaredType("Unit"),List$1=function(){function e(e,t){this.head=e,this.tail=t}return e.prototype.ToString=function(){return"["+Array.from(this).map(toString$2).join("; ")+"]"},e.prototype.Equals=function(e){if(this===e)return!0;for(var t=this[Symbol.iterator](),n=e[Symbol.iterator]();;){var i=t.next(),r=n.next();if(i.done)return!!r.done;if(r.done)return!1;if(!equals(i.value,r.value))return!1}},e.prototype.CompareTo=function(e){if(this===e)return 0;for(var t=0,n=this[Symbol.iterator](),i=e[Symbol.iterator]();;){var r=n.next(),o=i.next();if(r.done)return o.done?t:-1;if(o.done)return 1;if(0!=(t=compare(r.value,o.value)))return t}},Object.defineProperty(e.prototype,"length",{get:function(){for(var e=this,t=0;null!=e.tail;)e=e.tail,t++;return t},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e;return e=e.tail,{done:null==t.tail,value:t.head}}}},e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Collections.FSharpList",interfaces:["System.IEquatable","System.IComparable"]}},e}(),Enumerator=function(){function e(e){this.iter=e}return e.prototype.MoveNext=function(){var e=this.iter.next();return this.current=e.value,!e.done},Object.defineProperty(e.prototype,"Current",{get:function(){return this.current},enumerable:!0,configurable:!0}),e.prototype.Reset=function(){throw new Error("JS iterators cannot be reset")},e.prototype.Dispose=function(){},e}(),Long=function(){function e(e,t,n){this.eq=this.equals,this.neq=this.notEquals,this.lt=this.lessThan,this.lte=this.lessThanOrEqual,this.gt=this.greaterThan,this.gte=this.greaterThanOrEqual,this.comp=this.compare,this.neg=this.negate,this.abs=this.absolute,this.sub=this.subtract,this.mul=this.multiply,this.div=this.divide,this.mod=this.modulo,this.shl=this.shiftLeft,this.shr=this.shiftRight,this.shru=this.shiftRightUnsigned,this.Equals=this.equals,this.CompareTo=this.compare,this.ToString=this.toString,this.low=0|e,this.high=0|t,this.unsigned=!!n}return e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},e.prototype.toString=function(e){if(void 0===e&&(e=10),(e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var t=fromNumber(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=fromNumber(pow_dbl(e,6),this.unsigned),o=this,s="";;){var a=o.div(r),l=o.sub(a.mul(r)).toInt()>>>0,u=l.toString(e);if(o=a,o.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.equals=function(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},e.prototype.notEquals=function(e){return!this.eq(e)},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},e.prototype.absolute=function(){return!this.unsigned&&this.isNegative()?this.negate():this},e.prototype.add=function(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,l=65535&e.low,u=0,c=0,p=0,h=0;return h+=r+l,p+=h>>>16,h&=65535,p+=i+a,c+=p>>>16,p&=65535,c+=n+s,u+=c>>>16,c&=65535,u+=t+o,u&=65535,fromBits(p<<16|h,u<<16|c,this.unsigned)},e.prototype.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},e.prototype.multiply=function(e){if(this.isZero())return ZERO;if(isLong(e)||(e=fromValue(e)),e.isZero())return ZERO;if(this.eq(MIN_VALUE))return e.isOdd()?MIN_VALUE:ZERO;if(e.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TWO_PWR_24)&&e.lt(TWO_PWR_24))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,l=65535&e.low,u=0,c=0,p=0,h=0;return h+=r*l,p+=h>>>16,h&=65535,p+=i*l,c+=p>>>16,p&=65535,p+=r*a,c+=p>>>16,p&=65535,c+=n*l,u+=c>>>16,c&=65535,c+=i*a,u+=c>>>16,c&=65535,c+=r*s,u+=c>>>16,c&=65535,u+=t*l+n*a+i*s+r*o,u&=65535,fromBits(p<<16|h,u<<16|c,this.unsigned)},e.prototype.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?UZERO:ZERO;var t=0,n=ZERO,i=ZERO;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return UZERO;if(e.gt(this.shru(1)))return UONE;i=UZERO}else{if(this.eq(MIN_VALUE)){if(e.eq(ONE)||e.eq(NEG_ONE))return MIN_VALUE;if(e.eq(MIN_VALUE))return ONE;var r=this.shr(1),o=r.div(e).shl(1);return o.eq(ZERO)?e.isNegative()?ONE:NEG_ONE:(n=this.sub(e.mul(o)),i=o.add(n.div(e)))}if(e.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=ZERO}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),a=s<=48?1:pow_dbl(2,s-48),l=fromNumber(t),u=l.mul(e);u.isNegative()||u.gt(n);)t-=a,l=fromNumber(t,this.unsigned),u=l.mul(e);l.isZero()&&(l=ONE),i=i.add(l),n=n.sub(u)}return i},e.prototype.modulo=function(e){return isLong(e)||(e=fromValue(e)),this.sub(this.div(e).mul(e))},e.prototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},e.prototype.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},e.prototype.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},e.prototype.shiftLeft=function(e){return isLong(e)&&(e=e.toInt()),e&=63,0===e?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},e.prototype.shiftRight=function(e){return isLong(e)&&(e=e.toInt()),e&=63,0===e?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shiftRightUnsigned=function(e){if(isLong(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;if(e<32){return fromBits(this.low>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?fromBits(t,0,this.unsigned):fromBits(t>>>e-32,0,this.unsigned)},e.prototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e.prototype[_Symbol.reflection]=function(){return{type:"System.Int64",interfaces:["FSharpRecord","System.IComparable"],properties:{low:"number",high:"number",unsigned:"boolean"}}},e}(),INT_CACHE={},UINT_CACHE={},pow_dbl=Math.pow,TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0),UZERO=fromInt(0,!0),ONE=fromInt(1),UONE=fromInt(1,!0),NEG_ONE=fromInt(-1),MAX_VALUE=fromBits(-1,2147483647,!1),MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0),MIN_VALUE=fromBits(0,-2147483648,!1),fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,GenericComparer=function(){function e(e){this.Compare=e||compare}return e.prototype[_Symbol.reflection]=function(){return{interfaces:["System.IComparer"]}},e}(),MapTree=function(){function e(e,t){this.Case=e,this.Fields=t}return e}(),FableMap=function(){function e(){}return e.prototype.ToString=function(){return"map ["+Array.from(this).map(toString$2).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){var t=this;return this===e?0:compareWith(function(e,n){var i=t.comparer.Compare(e[0],n[0]);return 0!==i?i:compare(e[1],n[1])},this,e)},e.prototype[Symbol.iterator]=function(){var e=tree_mkIterator$1(this.tree);return{next:function(){return tree_moveNext$1(e)}}},e.prototype.entries=function(){return this[Symbol.iterator]()},e.prototype.keys=function(){return map$3(function(e){return e[0]},this)},e.prototype.values=function(){return map$3(function(e){return e[1]},this)},e.prototype.get=function(e){return tree_find(this.comparer,e,this.tree)},e.prototype.has=function(e){return tree_mem$1(this.comparer,e,this.tree)},e.prototype.set=function(e,t){throw new Error("not supported")},e.prototype.delete=function(e){throw new Error("not supported")},e.prototype.clear=function(){throw new Error("not supported")},Object.defineProperty(e.prototype,"size",{get:function(){return tree_size(this.tree)},enumerable:!0,configurable:!0}),e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Collections.FSharpMap",interfaces:["System.IEquatable","System.IComparable","System.Collections.Generic.IDictionary"]}},e}(),SetTree=function(){function e(e,t){this.Case=e,this.Fields=t}return e}(),tree_tolerance=2,FableSet=function(){function e(){}return e.prototype.ToString=function(){return"set ["+Array.from(this).map(toString$2).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){return this===e?0:tree_compare(this.comparer,this.tree,e.tree)},e.prototype[Symbol.iterator]=function(){var e=tree_mkIterator(this.tree);return{next:function(){return tree_moveNext(e)}}},e.prototype.values=function(){return this[Symbol.iterator]()},e.prototype.has=function(e){return tree_mem(this.comparer,e,this.tree)},e.prototype.add=function(e){throw new Error("not supported")},e.prototype.delete=function(e){throw new Error("not supported")},e.prototype.clear=function(){throw new Error("not supported")},Object.defineProperty(e.prototype,"size",{get:function(){return tree_count(this.tree)},enumerable:!0,configurable:!0}),e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Collections.FSharpSet",interfaces:["System.IEquatable","System.IComparable"]}},e}(),Trampoline=function(){function e(){this.callCount=0}return Object.defineProperty(e,"maxTrampolineCallCount",{get:function(){return 2e3},enumerable:!0,configurable:!0}),e.prototype.incrementAndCheck=function(){return this.callCount++>e.maxTrampolineCallCount},e.prototype.hijack=function(e){this.callCount=0,setTimeout(e,0)},e}(),AsyncBuilder=function(){function e(){}return e.prototype.Bind=function(e,t){return protectedBind(e,t)},e.prototype.Combine=function(e,t){return this.Bind(e,function(){return t})},e.prototype.Delay=function(e){return protectedCont(function(t){return e()(t)})},e.prototype.For=function(e,t){var n=e[Symbol.iterator](),i=n.next();return this.While(function(){return!i.done},this.Delay(function(){var e=t(i.value);return i=n.next(),e}))},e.prototype.Return=function(e){return protectedReturn(e)},e.prototype.ReturnFrom=function(e){return e},e.prototype.TryFinally=function(e,t){return protectedCont(function(n){e({onSuccess:function(e){t(),n.onSuccess(e)},onError:function(e){t(),n.onError(e)},onCancel:function(e){t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})},e.prototype.TryWith=function(e,t){return protectedCont(function(n){e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:function(e){try{t(e)(n)}catch(e){n.onError(e)}}})})},e.prototype.Using=function(e,t){return this.TryFinally(t(e),function(){return e.Dispose()})},e.prototype.While=function(e,t){var n=this;return e()?this.Bind(t,function(){return n.While(e,t)}):this.Return(void 0)},e.prototype.Zero=function(){return protectedCont(function(e){return e.onSuccess(void 0)})},e}(),singleton$2=new AsyncBuilder,Choice=function(){function e(e,t){this.Case=e,this.Fields=t}return Object.defineProperty(e.prototype,"valueIfChoice1",{get:function(){return"Choice1Of2"===this.Case?this.Fields[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueIfChoice2",{get:function(){return"Choice2Of2"===this.Case?this.Fields[0]:null},enumerable:!0,configurable:!0}),e.prototype.Equals=function(e){return equalsUnions(this,e)},e.prototype.CompareTo=function(e){return compareUnions(this,e)},e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Core.FSharpChoice",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"]}},e}(),Async$1=function(){function e(){}return e}(),defaultCancellationToken={isCancelled:!1},enabledCategories=isLocalHost()?create$5(ofArray$1(["*"]),new GenericComparer(compare)):create$5(new List$1,new GenericComparer(compare)),Log=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.Log",properties:{}}}}],[{key:"setEnabled",value:function(e){enabledCategories=e}},{key:"event",value:function(e,t,n,i){"undefined"!=typeof logEvent&&logEvent(e,t,n,i)}},{key:"message",value:function(e,t,n){for(var i=arguments.length,r=Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var s=null==r?[]:r,a=t.toLocaleUpperCase();if(isLocalHost()||"EXCEPTION"!==e||"undefined"!=typeof logEvent&&logEvent("system","exception","",{category:a,msg:n,args:s}),"EXCEPTION"===e||"ERROR"===e||enabledCategories.has("*")||enabledCategories.has(a)){var l=now(),u=function(e){return padLeft(String(e),2,"0")},c=fsFormat("[%s:%s:%s:%s] %s: ")(function(e){return e})(u(hour(l)))(u(minute(l)))(u(second(l)))(function(e){return padLeft(String(e),4,"0")}(millisecond(l)))(a),p=void 0;switch(e){case"TRACE":p="color:#808080";break;case"EXCEPTION":p="color:#c00000";break;case"ERROR":p="color:#900000";break;default:p=""}console.log.apply(console,_Array$from(append(["%c"+c+n,p],s)))}}},{key:"trace",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["TRACE",t,n].concat(r))}},{key:"exn",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["EXCEPTION",t,n].concat(r))}},{key:"error",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["ERROR",t,n].concat(r))}}]),e}();setType("TheGamma.Common.Log",Log);var Http=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.Http",properties:{}}}}],[{key:"Request",value:function(e,t,n,i){return fromContinuations(function(r){var o=new XMLHttpRequest;o.open(e,t,!0);var s=null!=i&&""!==i?[0,i]:[1];switch(s[0]){case 0:o.setRequestHeader("X-Cookie",s[1])}o.onreadystatechange=function(n){return o.readyState>3&&200===o.status&&r[0](o.responseText),o.readyState>3&&0===o.status&&r[1](new Error(e+" "+t+" failed: "+o.statusText)),{}},o.send(null!=n?n:"")})}}]),e}();setType("TheGamma.Common.Http",Http);var Async=function(e){var t=(e.Array=function(e){e.Parallel=function(e){e.map=function(e,t){return function(n){return n.Delay(function(){var i=new Array(t.length).fill(null),r=parallel(toList(delay(function(){return map$3(function(n){return function(r){return r.Delay(function(){return r.Bind(e(t[n]),function(e){return i[n]=e,r.Zero()})})}(singleton$2)},range(0,t.length-1))})));return n.Bind(r,function(e){return n.Return(i)})})}(singleton$2)};return e}({}),e.map=function(e,t){return function(n){return n.Delay(function(){var i=new Array(t.length).fill(null);return n.Combine(n.For(range(0,t.length-1),function(r){return n.Bind(e(t[r]),function(e){return i[r]=e,n.Zero()})}),n.Delay(function(){return n.Return(i)}))})}(singleton$2)};return e}({}),e.collect=function(e,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(new List$1):i.Bind(e(n.head),function(r){return i.Bind(t(e,n.tail),function(e){return i.Return(append$1(r,e))})})})}(singleton$2)}),n=e.choose=function(e,t){return function(i){return i.Delay(function(){return null==t.tail?i.Return(new List$1):i.Bind(e(t.head),function(r){return i.Bind(n(e,t.tail),function(e){return i.Return(null!=r?new List$1(r,e):e)})})})}(singleton$2)},i=e.map=function(e,t){return function(n){return n.Delay(function(){return null==t.tail?n.Return(new List$1):n.Bind(e(t.head),function(r){return n.Bind(i(e,t.tail),function(e){return n.Return(new List$1(r,e))})})})}(singleton$2)},r=e.foldMap=function(e,t,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return([t,new List$1]):i.Bind(e(t)(n.head),function(t){return i.Bind(r(e,t[1],n.tail),function(e){return i.Return([e[0],new List$1(t[0],e[1])])})})})}(singleton$2)},o=e.fold=function(e,t,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(t):i.Bind(e(t)(n.head),function(t){return i.ReturnFrom(o(e,t,n.tail))})})}(singleton$2)};return e}({}),ListDictionaryNode=function(){function e(t,n){_classCallCheck(this,e),this.Result=t,this.Nested=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.ListDictionaryNode",interfaces:["FSharpRecord","System.IEquatable"],properties:{Result:Option(GenericParam("T")),Nested:makeGeneric(_Map,{TKey:GenericParam("K"),TValue:makeGeneric(e,{K:GenericParam("K"),T:GenericParam("T")})})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Common.ListDictionaryNode",ListDictionaryNode);var ListDictionaryModule=function(e){e.tryFind=function(e,t){return function(e){return function(t){e:for(;;){var n=function(){var n=[e,t],i=null!=n[0].tail?function(){var e=(n[0].tail,n[0].head);return n[1].Nested.has(e)}()?[1,n[1].Nested,n[0].head,n[0].tail]:[2]:null!=n[1].Result?[0,n[1].Result]:[2];switch(i[0]){case 0:return{v:i[1]};case 1:return e=i[3],t=i[1].get(i[2]),"continue|loop";case 2:return{v:null}}}();switch(n){case"continue|loop":continue e;default:if("object"===(void 0===n?"undefined":_typeof(n)))return n.v}}}}(e)(new ListDictionaryNode(null,t))},e.set=function(e,t,n){!function e(n){return function(i){if(null==n.tail)throw new Error("Empty key not supported");i.has(n.head)||i.set(n.head,function(){var e=new _Map;return new ListDictionaryNode(null,e)}()),null==n.tail.tail?i.get(n.head).Result=t:e(n.tail)(i.get(n.head).Nested)}}(e)(n)},e.count=function(e){var t=function e(t){var n=sumBy(function(t){return e(t[1])},t.Nested);return function(){return null!=t.Result}()?1+n:n};return sumBy(function(e){return t(e[1])},e)};return e}({}),List=function(e){e.groupWith=function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(t);!(i=(s=a.next()).done);i=!0){for(var l=s.value,u=!1,c=0;!u&&c<n.length;)e(l)(n[c][0])&&(n[c][1].push(l),u=!0),c+=1;u||n.push([l,_Array$from(ofArray$1([l]))])}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return toList(map$3(function(e){return toList(e[1])},n))},e.unreduce=function(e,t){return toList(unfold(function(t){return defaultArg(e(t),null,function(e){return[e,e]})},t))};return e}({}),Position=function(){function e(t,n){_classCallCheck(this,e),this.line=t,this.column=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Position",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{line:"number",column:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.Position",Position);var SourceLocation=function(){function e(t,n){_classCallCheck(this,e),this.start=t,this.end=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.SourceLocation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{start:Position,end:Position}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.SourceLocation",SourceLocation);var AssignmentOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.AssignmentOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AssignAndBitwise:[],AssignDivide:[],AssignEqual:[],AssignMinus:[],AssignModulus:[],AssignMultiply:[],AssignOrBitwise:[],AssignPlus:[],AssignShiftLeft:[],AssignShiftRightSignPropagating:[],AssignShiftRightZeroFill:[],AssignXorBitwise:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.AssignmentOperator",AssignmentOperator);var BinaryOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.BinaryOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{BinaryAndBitwise:[],BinaryDivide:[],BinaryEqual:[],BinaryEqualStrict:[],BinaryExponent:[],BinaryGreater:[],BinaryGreaterOrEqual:[],BinaryIn:[],BinaryInstanceOf:[],BinaryLess:[],BinaryLessOrEqual:[],BinaryMinus:[],BinaryModulus:[],BinaryMultiply:[],BinaryOrBitwise:[],BinaryPlus:[],BinaryShiftLeft:[],BinaryShiftRightSignPropagating:[],BinaryShiftRightZeroFill:[],BinaryUnequal:[],BinaryUnequalStrict:[],BinaryXorBitwise:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.BinaryOperator",BinaryOperator);var Pattern=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Pattern",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{IdentifierPattern:["string",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Pattern",Pattern);var VariableDeclarationKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.VariableDeclarationKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Const:[],Let:[],Var:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.VariableDeclarationKind",VariableDeclarationKind);var VariableDeclarator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.VariableDeclarator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{VariableDeclarator:[Pattern,Option(Expression),Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.VariableDeclarator",VariableDeclarator);var ObjectMember=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.ObjectMember",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ObjectProperty:[Expression,Expression,"boolean",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.ObjectMember",ObjectMember);var Expression=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Expression",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ArrayExpression:[makeGeneric(List$1,{T:e}),Option(SourceLocation)],AssignmentExpression:[AssignmentOperator,e,e,Option(SourceLocation)],BinaryExpression:[BinaryOperator,e,e,Option(SourceLocation)],BooleanLiteral:["boolean",Option(SourceLocation)],CallExpression:[e,makeGeneric(List$1,{T:e}),Option(SourceLocation)],FunctionExpression:[Option("string"),makeGeneric(List$1,{T:Pattern}),Statement,"boolean","boolean",Option(SourceLocation)],IdentifierExpression:["string",Option(SourceLocation)],MemberExpression:[e,e,"boolean",Option(SourceLocation)],NewExpression:[e,makeGeneric(List$1,{T:e}),Option(SourceLocation)],NullLiteral:[Option(SourceLocation)],NumericLiteral:["number",Option(SourceLocation)],ObjectExpression:[makeGeneric(List$1,{T:ObjectMember}),Option(SourceLocation)],StringLiteral:["string",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Expression",Expression);var Statement=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Statement",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{BlockStatement:[makeGeneric(List$1,{T:e}),Option(SourceLocation)],EmptyStatement:[Option(SourceLocation)],ExpressionStatement:[Expression,Option(SourceLocation)],ReturnStatement:[Expression,Option(SourceLocation)],VariableDeclaration:[VariableDeclarationKind,makeGeneric(List$1,{T:VariableDeclarator}),Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Statement",Statement);var Program$1=function(){function e(t,n){_classCallCheck(this,e),this.location=t,this.body=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Program",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{location:Option(SourceLocation),body:makeGeneric(List$1,{T:Statement})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.Program",Program$1);var Serializer=function(e){var t=e.createObj=function(e){return createObj(concat$1(e))},n=e.serializeBinaryOperator=function(e){return"BinaryUnequal"===e.Case?"!=":"BinaryEqualStrict"===e.Case?"===":"BinaryUnequalStrict"===e.Case?"!==":"BinaryLess"===e.Case?"<":"BinaryLessOrEqual"===e.Case?"<=":"BinaryGreater"===e.Case?">":"BinaryGreaterOrEqual"===e.Case?">=":"BinaryShiftLeft"===e.Case?"<<":"BinaryShiftRightSignPropagating"===e.Case?">>":"BinaryShiftRightZeroFill"===e.Case?">>>":"BinaryMinus"===e.Case?"-":"BinaryPlus"===e.Case?"+":"BinaryMultiply"===e.Case?"*":"BinaryDivide"===e.Case?"/":"BinaryModulus"===e.Case?"%":"BinaryExponent"===e.Case?"**":"BinaryOrBitwise"===e.Case?"|":"BinaryXorBitwise"===e.Case?"^":"BinaryAndBitwise"===e.Case?"&":"BinaryIn"===e.Case?"in":"BinaryInstanceOf"===e.Case?"instanceof":"=="},i=e.serializeAssignOperator=function(e){
return"AssignMinus"===e.Case?"-=":"AssignPlus"===e.Case?"+=":"AssignMultiply"===e.Case?"*=":"AssignDivide"===e.Case?"/=":"AssignModulus"===e.Case?"%=":"AssignShiftLeft"===e.Case?"<<=":"AssignShiftRightSignPropagating"===e.Case?">>=":"AssignShiftRightZeroFill"===e.Case?">>>=":"AssignOrBitwise"===e.Case?"|=":"AssignXorBitwise"===e.Case?"^=":"AssignAndBitwise"===e.Case?"&=":"="},r=e.serializePattern=function(e){return t(ofArray$1([ofArray$1([["type","Identifier"]]),ofArray$1([["name",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]))},o=e.serializeMember=function(e){return t(ofArray$1([ofArray$1([["type","ObjectProperty"]]),ofArray$1([["key",a(e.Fields[0])]]),ofArray$1([["value",a(e.Fields[1])]]),ofArray$1([["computed",e.Fields[2]]]),function(){var t=e.Fields[3];return null!=t?ofArray$1([["loc",t]]):new List$1}()]))},s=e.serializeDeclarator=function(e){return t(ofArray$1([ofArray$1([["type","VariableDeclarator"]]),ofArray$1([["id",r(e.Fields[0])]]),function(){var t=defaultArg(e.Fields[1],null,function(e){return a(e)});return null!=t?ofArray$1([["init",t]]):new List$1}(),function(){var t=e.Fields[2];return null!=t?ofArray$1([["loc",t]]):new List$1}()]))},a=e.serializeExpression=function(e){return t("NewExpression"===e.Case?ofArray$1([ofArray$1([["type","NewExpression"]]),ofArray$1([["callee",a(e.Fields[0])]]),ofArray$1([["arguments",_Array$from(map$5(function(e){return a(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"FunctionExpression"===e.Case?ofArray$1([ofArray$1([["type","FunctionExpression"]]),function(){var t=e.Fields[0];return null!=t?ofArray$1([["id",t]]):new List$1}(),ofArray$1([["params",_Array$from(map$5(function(e){return r(e)},e.Fields[1]))]]),ofArray$1([["body",l(e.Fields[2])]]),ofArray$1([["generator",e.Fields[3]]]),ofArray$1([["async",e.Fields[4]]]),function(){var t=e.Fields[5];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"AssignmentExpression"===e.Case?ofArray$1([ofArray$1([["type","AssignmentExpression"]]),ofArray$1([["left",a(e.Fields[1])]]),ofArray$1([["right",a(e.Fields[2])]]),ofArray$1([["operator",i(e.Fields[0])]]),function(){var t=e.Fields[3];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"CallExpression"===e.Case?ofArray$1([ofArray$1([["type","CallExpression"]]),ofArray$1([["callee",a(e.Fields[0])]]),ofArray$1([["arguments",_Array$from(map$5(function(e){return a(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"MemberExpression"===e.Case?ofArray$1([ofArray$1([["type","MemberExpression"]]),ofArray$1([["object",a(e.Fields[0])]]),ofArray$1([["property",a(e.Fields[1])]]),ofArray$1([["computed",e.Fields[2]]]),function(){var t=e.Fields[3];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"BinaryExpression"===e.Case?ofArray$1([ofArray$1([["type","BinaryExpression"]]),ofArray$1([["left",a(e.Fields[1])]]),ofArray$1([["right",a(e.Fields[2])]]),ofArray$1([["operator",n(e.Fields[0])]]),function(){var t=e.Fields[3];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"ObjectExpression"===e.Case?ofArray$1([ofArray$1([["type","ObjectExpression"]]),ofArray$1([["properties",_Array$from(map$5(function(e){return o(e)},e.Fields[0]))]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"ArrayExpression"===e.Case?ofArray$1([ofArray$1([["type","ArrayExpression"]]),ofArray$1([["elements",_Array$from(map$5(function(e){return a(e)},e.Fields[0]))]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"NullLiteral"===e.Case?ofArray$1([ofArray$1([["type","NullLiteral"]]),function(){var t=e.Fields[0];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"StringLiteral"===e.Case?ofArray$1([ofArray$1([["type","StringLiteral"]]),ofArray$1([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"BooleanLiteral"===e.Case?ofArray$1([ofArray$1([["type","BooleanLiteral"]]),ofArray$1([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):"NumericLiteral"===e.Case?ofArray$1([ofArray$1([["type","NumericLiteral"]]),ofArray$1([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]):ofArray$1([ofArray$1([["type","Identifier"]]),ofArray$1([["name",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}()]))},l=e.serializeStatement=function(e){if("BlockStatement"===e.Case)return t(ofArray$1([ofArray$1([["type","BlockStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}(),ofArray$1([["body",_Array$from(map$5(function(e){return l(e)},e.Fields[0]))]])]));if("EmptyStatement"===e.Case)return t(ofArray$1([ofArray$1([["type","EmptyStatement"]]),function(){var t=e.Fields[0];return null!=t?ofArray$1([["loc",t]]):new List$1}()]));if("ReturnStatement"===e.Case)return t(ofArray$1([ofArray$1([["type","ReturnStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}(),ofArray$1([["argument",a(e.Fields[0])]])]));if("VariableDeclaration"===e.Case){var n="Let"===e.Fields[0].Case?"let":"Const"===e.Fields[0].Case?"const":"var";return t(ofArray$1([ofArray$1([["type","VariableDeclaration"]]),ofArray$1([["kind",n]]),ofArray$1([["declarations",_Array$from(map$5(function(e){return s(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray$1([["loc",t]]):new List$1}()]))}return t(ofArray$1([ofArray$1([["type","ExpressionStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray$1([["loc",t]]):new List$1}(),ofArray$1([["expression",a(e.Fields[0])]])]))};e.serializeProgram=function(e){return t(ofArray$1([ofArray$1([["type","Program"]]),function(){var t=e.location;return null!=t?ofArray$1([["loc",t]]):new List$1}(),ofArray$1([["sourceType","module"]]),ofArray$1([["body",_Array$from(map$5(function(e){return l(e)},e.body))]]),ofArray$1([["directives",[]]])]))};return e}({}),BabelOperators=function(e){var t=e.ident=function(e){return new Expression("IdentifierExpression",[e,null])};e.str=function(e){return new Expression("StringLiteral",[e,null])},e.num=function(e){return new Expression("NumericLiteral",[e,null])},e.bool=function(e){return new Expression("BooleanLiteral",[e,null])},e.arr=function(e){return new Expression("ArrayExpression",[e,null])},e.op_Dynamic=function(e,t){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null])},e.op_DivideQmarkDivide=function(e,t){return new Expression("MemberExpression",[e,t,!0,null])},e.op_DivideAtDivide=function(e,t){return new Expression("CallExpression",[e,t,null])},e.func=function(e,n){var i=new Statement("BlockStatement",[ofArray$1([new Statement("ReturnStatement",[n(t(e)),null])]),null]);return new Expression("FunctionExpression",[null,ofArray$1([new Pattern("IdentifierPattern",[e,null])]),i,!1,!1,null])},e.funcN=function(e,n){var i=initialize$2(e,function(e){return"_arg"+String(e)}),r=new Statement("BlockStatement",[ofArray$1([new Statement("ReturnStatement",[n(map$5(function(e){return t(e)},i)),null])]),null]);return new Expression("FunctionExpression",[null,map$5(function(e){return new Pattern("IdentifierPattern",[e,null])},i),r,!1,!1,null])};return e}({}),_Range=function(){function e(t,n){_classCallCheck(this,e),this.Start=t,this.End=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Range",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Start:"number",End:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Range",_Range);var _Error=function(){function e(t,n,i){_classCallCheck(this,e),this.Number=t,this.Message=n,this.Range=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Error",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Number:"number",Message:"string",Range:GenericParam("Range")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Error",_Error);var Operator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Operator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Divide:[],Equals:[],GreaterThan:[],GreaterThanOrEqual:[],LessThan:[],LessThanOrEqual:[],Minus:[],Modulo:[],Multiply:[],Plus:[],Power:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Operator",Operator);var TokenKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TokenKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Arrow:[],Boolean:["boolean"],Colon:[],Comma:[],Dot:[],EndOfFile:[],Equals:[],Error:["string"],Fun:[],Ident:["string"],LParen:[],LSquare:[],Let:[],Newline:[],Number:["string","number"],Operator:[Operator],QIdent:["string"],RParen:[],RSquare:[],String:["string"],White:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TokenKind",TokenKind);var Token=function(){function e(t,n){_classCallCheck(this,e),this.Token=t,this.Range=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Token",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Token:TokenKind,Range:_Range}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Token",Token);var Emitter=function(){function e(t){_classCallCheck(this,e),this.Emit=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Emitter",interfaces:["FSharpRecord"],properties:{Emit:"function"}}}}]),e}();setType("TheGamma.Emitter",Emitter);var Metadata=function(){function e(t,n,i){_classCallCheck(this,e),this.Context=t,this.Type=n,this.Data=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Metadata",interfaces:["FSharpRecord","System.IEquatable"],properties:{Context:"string",Type:"string",Data:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Metadata",Metadata);var Documentation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Documentation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Details:["string","string"],None:[],Text:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Documentation",Documentation);var Member=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Name=t,this.Type=n,this.Metadata=i,this.Emitter=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Member",interfaces:["FSharpRecord"],properties:{Name:"string",Type:Type,Metadata:makeGeneric(List$1,{T:Metadata}),Emitter:Emitter}}}}]),e}();setType("TheGamma.Member",Member);var PrimitiveType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.PrimitiveType",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Bool:[],Date:[],Number:[],String:[],Unit:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.PrimitiveType",PrimitiveType);var MethodArgument=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Name=t,this.Optional=n,this.Static=i,this.Type=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.MethodArgument",interfaces:["FSharpRecord"],properties:{Name:"string",Optional:"boolean",Static:"boolean",Type:Type}}}}]),e}();setType("TheGamma.MethodArgument",MethodArgument);var Type=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Type",interfaces:["FSharpUnion"],cases:{Any:[],Delayed:[Interface("TheGamma.Common.Future")],List:[e],Method:[makeGeneric(List$1,{T:MethodArgument}),"function"],Object:[Interface("TheGamma.ObjectType")],Primitive:[PrimitiveType]}}}}]),e}();setType("TheGamma.Type",Type);var Name=function(){function e(t){_classCallCheck(this,e),this.Name=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Name",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Name",Name);var Constant=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Constant",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Boolean:["boolean"],Empty:[],Number:["number"],String:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Constant",Constant);var EntityKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.EntityKind",interfaces:["FSharpUnion"],cases:{ArgumentList:[makeGeneric(List$1,{T:Entity})],Binding:[Name,Entity],Call:[Entity,Entity],CallSite:[Entity,Choice],Constant:[Constant],Function:[Entity,Entity],GlobalValue:[Name,Option(Expression)],LetCommand:[Entity,Entity],List:[makeGeneric(List$1,{T:Entity})],Member:[Entity,Entity],MemberAccess:[Entity],MemberName:[Name],NamedParam:[Name,Entity],Operator:[Entity,Operator,Entity],Placeholder:[Name,Entity],Program:[makeGeneric(List$1,{T:Entity})],Root:[],RunCommand:[Entity],Variable:[Name,Entity]}}}}]),e}();setType("TheGamma.EntityKind",EntityKind);var Entity=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.Kind=t,this.Symbol=n,this.Value=i,this.Meta=r,this.Type=o,this.Errors=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Entity",interfaces:["FSharpRecord"],properties:{Kind:EntityKind,Symbol:Interface("TheGamma.Common.Symbol"),Value:Option(EntityValue),Meta:makeGeneric(List$1,{T:Metadata}),Type:Option(Type),Errors:makeGeneric(List$1,{T:makeGeneric(_Error,{Range:_Range})})}}}}]),e}();setType("TheGamma.Entity",Entity);var EntityValue=function(){function e(t,n){_classCallCheck(this,e),this.Value=t,this.Preview=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.EntityValue",interfaces:["FSharpRecord","System.IEquatable"],properties:{Value:Any,Preview:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.EntityValue",EntityValue);var _Node=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.WhiteBefore=t,this.WhiteAfter=n,this.Range=i,this.Node=r,this.Entity=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Node",interfaces:["FSharpRecord"],properties:{WhiteBefore:makeGeneric(List$1,{T:Token}),WhiteAfter:makeGeneric(List$1,{T:Token}),Range:_Range,Node:GenericParam("T"),Entity:Option(Entity)}}}}]),e}();setType("TheGamma.Node",_Node);var Argument=function(){function e(t,n){_classCallCheck(this,e),this.Name=t,this.Value=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Argument",interfaces:["FSharpRecord"],properties:{Name:Option(makeGeneric(_Node,{T:Name})),Value:makeGeneric(_Node,{T:Expr})}}}}]),e}();setType("TheGamma.Argument",Argument);var Program$$1=function(){function e(t){_classCallCheck(this,e),this.Body=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Program",interfaces:["FSharpRecord"],properties:{Body:makeGeneric(_Node,{T:makeGeneric(List$1,{T:makeGeneric(_Node,{T:Command})})})}}}}]),e}();setType("TheGamma.Program",Program$$1);var Command=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Command",interfaces:["FSharpUnion"],cases:{Expr:[makeGeneric(_Node,{T:Expr})],Let:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Expr})]}}}}]),e}();setType("TheGamma.Command",Command);var Expr=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Expr",interfaces:["FSharpUnion"],cases:{Binary:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:Operator}),makeGeneric(_Node,{T:e})],Boolean:["boolean"],Call:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:makeGeneric(List$1,{T:Argument})})],Empty:[],Function:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:e})],List:[makeGeneric(List$1,{T:makeGeneric(_Node,{T:e})})],Member:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:e})],Number:["number"],Placeholder:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:e})],String:["string"],Variable:[makeGeneric(_Node,{T:Name})]}}}}]),e}();setType("TheGamma.Expr",Expr);var ProvidedType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.ProvidedType",interfaces:["FSharpUnion"],cases:{GlobalValue:["string",makeGeneric(List$1,{T:Metadata}),Expression,Type],NamedType:["string",Type]}}}}]),e}();setType("TheGamma.TypeProviders.ProvidedType",ProvidedType);var ProviderHelpers=function(e){e.docMeta=function(e){return new Metadata("http://thegamma.net","Documentation",e)};return e}({}),BabelOptions=function(){function e(t){_classCallCheck(this,e),this.presets=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Fable.Helpers.Babel.BabelOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{presets:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("Fable.Helpers.Babel.BabelOptions",BabelOptions);var BabelResult=function(){function e(t){_classCallCheck(this,e),this.code=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Fable.Helpers.Babel.BabelResult",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{code:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("Fable.Helpers.Babel.BabelResult",BabelResult);var math=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.General.math",properties:{}}}}],[{key:"sqrt",value:function(e){return Math.sqrt(e)}},{key:"pow",value:function(e,t){return Math.pow(e,t)}},{key:"log",value:function(e,t){return null!=t?Math.log(e)/Math.log(t):Math.log(e)}},{key:"min",value:function(e,t){return e<t?e:t}},{key:"max",value:function(e,t){return e>t?e:t}},{key:"round",value:function(e,t){return round(e,t)}},{key:"ceil",value:function(e){return Math.ceil(e)}},{key:"floor",value:function(e){return Math.floor(e)}}]),e}();setType("TheGamma.General.math",math);var date$1=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.General.date",properties:{}}}}],[{key:"now",value:function(){return now()}},{key:"date",value:function(e,t,n){return create$3(e,t,n)}},{key:"time",value:function(e,t,n,i,r,o){return create$3(e,t,n,i,r,o)}}]),e}();setType("TheGamma.General.date",date$1);var dateformat=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.General.dateformat",properties:{}}}}],[{key:"longDate",value:function(e){return e.toLocaleString("en-GB",{day:"numeric",year:"numeric",month:"long"})}}]),e}();setType("TheGamma.General.dateformat",dateformat);var number=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.General.number",properties:{}}}}],[{key:"format",value:function(e,t){return niceNumber(e,null!=t?t:999)}}]),e}();setType("TheGamma.General.number",number);var pair=function(){function e(t,n){_classCallCheck(this,e),this.v1=t,this.v2=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.General.pair",properties:{first:GenericParam("t1"),second:GenericParam("t2")}}}}]),_createClass(e,[{key:"first",get:function(){return this.v1}},{key:"second",get:function(){return this.v2}}]),e}();setType("TheGamma.General.pair",pair);var SeriesInternals=function(e){var t=(e.slice=function(e,t,n){return _Array$from(initialize(t-e+1,function(t){return n[e+t]}))},e.dictAny=function(e){return new _Map(e)}),n=e.zipUnsorted=function(e,n){var i=t(e),r=t(n),o=[],s=!0,a=!1,l=void 0;try{for(var u,c=_getIterator(i);!(s=(u=c.next()).done);s=!0){var p=u.value,h=r.has(p[0])?r.get(p[0]):null;o.push([p[0],[p[1],h]])}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var d=!0,f=!1,m=void 0;try{for(var y,g=_getIterator(r);!(d=(y=g.next()).done);d=!0){var v=y.value;i.has(v[0])||o.push([v[0],[null,v[1]]])}}catch(e){f=!0,m=e}finally{try{!d&&g.return&&g.return()}finally{if(f)throw m}}return _Array$from(o)},i=e.isSortedUsing=function(e,t,n){return 0===n.length||function(i){for(;;){if(i===n.length)return!0;{if(!e(t(n[i-1]))(t(n[i])))return!1;i+=1}}}(1)},r=e.zipSorted=function(e,t){for(var n=0,i=0,r=[];n<e.length&&i<t.length;){var o=[e[n],t[i]],s=o[1][1],a=o[0][1],l=o[1][0],u=o[0][0];!function(e){return function(t){return 0==(e<t?-1:e==t?0:1)}}(u)(l)?!function(e){return function(t){return(e<t?-1:e==t?0:1)<0}}(u)(l)?function(e){return function(t){return(e<t?-1:e==t?0:1)<0}}(l)(u)&&(r.push([l,[null,s]]),i+=1):(r.push([u,[a,null]]),n+=1):(r.push([u,[a,s]]),n+=1,i+=1)}for(;n<e.length;){var c=e[n];r.push([c[0],[c[1],null]]),n+=1}for(;i<t.length;){var p=t[i];r.push([p[0],[null,p[1]]]),i+=2}return _Array$from(r)};e.zipAny=function(e,t){var o=function(e){return function(t){return(e<t?-1:e==t?0:1)<=0}},s=function(e){return function(t){return(e<t?-1:e==t?0:1)>=0}};return i(o,function(e){return e[0]},e)&&i(o,function(e){return e[0]},t)?r(e,t):i(s,function(e){return e[0]},e)&&i(s,function(e){return e[0]},t)?r(e.slice().reverse(),t.slice().reverse()).slice().reverse():n(e,t)};return e}({}),val=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.val",interfaces:["FSharpRecord"],properties:{value:Async$1}}}},{key:"map",value:function(t){var n=this;return new e(function(e){return e.Delay(function(){return e.Bind(n.value,function(n){return e.Return(t(n))})})}(singleton$2))}}]),e}();setType("TheGamma.Series.val",val);var helpers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.helpers",properties:{}}}}]),e}();setType("TheGamma.Series.helpers",helpers);var series=function(){function e(t,n,i,r){_classCallCheck(this,e),this.data=t,this.keyName=n,this.valueName=i,this.seriesName=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.series",interfaces:["FSharpRecord","System.IEquatable"],properties:{data:Interface("TheGamma.Common.Future"),keyName:"string",valueName:"string",seriesName:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"set",value:function(t,n,i,r){return new e(t,null!=n?n:this.keyName,null!=i?i:this.valueName,null!=r?r:this.seriesName)}},{key:"setProperties",value:function(t,n,i){var r=null!=t?t:this.keyName,o=null!=n?n:this.valueName,s=null!=i?i:this.seriesName;return new e(this.data,r,o,s)}},{key:"sortKeys",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(t,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1},e)))})(this)}},{key:"sortValues",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(t,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,t){return e[1]<t[1]?-1:e[1]==t[1]?0:1},e)))})(this)}},{key:"sortBy",value:function(t,n){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(n,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,n){return t(e[1])<t(n[1])?-1:t(e[1])==t(n[1])?0:1},e)))})(this)}},{key:"reverse",value:function(){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return e.slice().reverse()})(this)}},{key:"take",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return SeriesInternals.slice(0,(e.length<t?e.length:t)-1,e)})(this)}},{key:"skip",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return SeriesInternals.slice(e.length<t?e.length:t,e.length-1,e)})(this)}},{key:"shuffle",value:function(){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return _Array$from(sortWith(function(e,t){return compare(function(e){return randomNext(0,2147483647)}(),function(e){return randomNext(0,2147483647)}())},e))})(this)}},{key:"map",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[e[0],t(e[1])]};return function(t){return t.map(e)}}())(this)}},{key:"mapKeys",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[t(e[0]),e[1]]};return function(t){return t.map(e)}}())(this)}},{key:"mapPairs",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[e[0],t(e[0])(e[1])]};return function(t){return t.map(e)}}())(this)}},{key:"filter",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return t(function(e){return e[1]}(e))};return function(t){return t.filter(e)}}())(this)}},{key:"filterIndex",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return function(){var e=function(e){return e[1]};return function(t){return t.map(e)}}()(function(e){return _Array$from(mapIndexed(function(e,n){return[t(e),n]},e)).filter(function(e){return e[0]})}(e))})(this)}},{key:"choose",value:function(t){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){var n=t(e[1]);return null!=n?[e[0],n]:null};return function(t){return _Array$from(choose(e,t))}}())(this)}},{key:"joinOuter",value:function(t){var n=this,i=function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(n.data),function(n){return e.Bind(Async_AwaitFuture_Static(t.data),function(t){return e.Return(SeriesInternals.zipAny(n,t))})})})}(singleton$2);return e.create(i,this.keyName,"Values",this.seriesName+" and "+t.seriesName)}},{key:"joinInner",value:function(e){return this.joinOuter(e).choose(function(e){var t=null!=e[0]&&null!=e[1]?[0,e[0],e[1]]:[1];switch(t[0]){case 0:return new pair(t[1],t[2]);case 1:return null}})}},{key:"appendScalar",value:function(t,n){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return e.concat([[t,n]])})(this)}},{key:"append",value:function(e){var t=this;return this.set(Async_StartAsFuture_Static(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Bind(Async_AwaitFuture_Static(e.data),function(e){return n.Return(t.concat(e))})})})}(singleton$2)))}},{key:"count",value:function(){return function(e){return function(t){return new val(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e(t))})})}(singleton$2))}}(function(e){return e.length})(this)}},{key:"last",value:function(){return function(e){return function(t){return new val(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e(t))})})}(singleton$2))}
}(function(e){return e[e.length-1][1]})(this)}},{key:"first",value:function(){return function(e){return function(t){return new val(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e(t))})})}(singleton$2))}}(function(e){return e[0][1]})(this)}},{key:"sumBy",value:function(e){return function(e){return function(t){return new val(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e(t))})})}(singleton$2))}}(function(){var t=function(t){return e(t[1])};return function(e){return sumBy(t,e)}}())(this)}},{key:"minBy",value:function(e){return function(e){return function(t){return new val(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e(t))})})}(singleton$2))}}(function(){var t=function(t){return e(t[1])};return function(e){return minBy(t,e)}}())(this)}},{key:"maxBy",value:function(e){return function(e){return function(t){return new val(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e(t))})})}(singleton$2))}}(function(){var t=function(t){return e(t[1])};return function(e){return maxBy(t,e)}}())(this)}},{key:"realign",value:function(t,n){return function(t){return function(n){var i=n;return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.ReturnFrom(t(n))})})}(singleton$2)),i.keyName,i.valueName,i.seriesName)}}(function(e){return function(i){return i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(t.data),function(t){var r=t.map(function(e){return e[1]}),o=create$6(e,new GenericComparer(compare));return i.Return(r.map(function(e){var t=tryFind$1(e,o);return null==t?[e,n]:[e,t]}))})})}(singleton$2)})(this)}},{key:"preview",value:function(){return this.take(10)}}],[{key:"create",value:function(t,n,i,r){return new e(Async_StartAsFuture_Static(t),n,i,r)}},{key:"values",value:function(t){return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Return(_Array$from(mapIndexed(function(e,t){return[e,t]},t)))})}(singleton$2)),"key","value","")}},{key:"range",value:function(t,n){return e.values(Int32Array.from(range(t,n)))}},{key:"rangeBy",value:function(t,n,i){return e.values(Int32Array.from(rangeStep(t,i,n)))}},{key:"ordinal",value:function(t,n,i,r){return new e(Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(t,function(t){return e.Return(_Array$from(mapIndexed(function(e,t){return[e,t]},t)))})})}(singleton$2)),n,i,r)}}]),e}();setType("TheGamma.Series.series",series);var inline=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.inline",interfaces:["FSharpRecord"],properties:{value:makeGeneric(val,{k:Any})}}}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Bind(t.value.value,function(t){return document.getElementById(e).innerText=toString$2(t),n.Zero()})})}(singleton$2))}}],[{key:"create",value:function(t){return new e(t)}}]),e}();setType("TheGamma.Series.inline",inline);var RuntimeContext=function(){function e(t,n,i){_classCallCheck(this,e),this["root@19"]=t,this.cookies=n,this["trace@19"]=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProvidersRuntime.RuntimeContext",properties:{root:"string",trace:"string"}}}}]),_createClass(e,[{key:"addTrace",value:function(t){var n=this,i=toList(delay(function(){return append(isNullOrEmpty(n["trace@19"])?empty():singleton(n["trace@19"]),delay(function(){return isNullOrEmpty(t)?empty():singleton(t)}))}));return new e(this["root@19"],this.cookies,join("&",i))}},{key:"getValue",value:function(e){var t=this;return function(n){return n.Delay(function(){return n.Bind(Http.Request("POST",concatUrl(t["root@19"],e),t["trace@19"],t.cookies),function(e){return n.Return(JSON.parse(e))})})}(singleton$2)}},{key:"root",get:function(){return this["root@19"]}},{key:"trace",get:function(){return this["trace@19"]}}]),e}();setType("TheGamma.TypeProvidersRuntime.RuntimeContext",RuntimeContext);var PivotContext=function(){function e(t,n){_classCallCheck(this,e),this.root=t,this.calls=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProvidersRuntime.PivotContext",properties:{}}}}]),_createClass(e,[{key:"addCall",value:function(t,n){var i=_Array$from(map$3(function(e){return e instanceof Date?e.toISOString():e},n));return new e(this.root,[[t,i]].concat(this.calls))}},{key:"getData",value:function(e,t,n){var i=this;return function(r){return r.Delay(function(){var o=function(){var e=function(e){return function(t){var n=join(",",map$3(function(e){return toString$2(e)},t[1]));return replace$$1(e,t[0],n)}};return function(n){return fold(function(t,n){return e(t)(n)},t,n)}}()(i.calls),s=encodeURIComponent(o),a=i.root+"?"+s+(n?"&preview":"");return Log.trace("runtime","Pivot: %s",a),r.Bind(Http.Request("GET",a),function(t){return r.Return(_Array$from(map$3(e,JSON.parse(t))))})})}(singleton$2)}}]),e}();setType("TheGamma.TypeProvidersRuntime.PivotContext",PivotContext);var ChartData=function(){function e(t){_classCallCheck(this,e),this.data=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.ChartData",interfaces:["FSharpRecord"],properties:{data:Async$1}}}}]),e}();setType("TheGamma.GoogleCharts.ChartData",ChartData);var LazyCharting=function(e){var t=e.chartsToDraw=[],n=(Object.defineProperty(e,"googleLoaded",{get:function(){return n},set:function(e){return n=e}}),!1);e.drawChartOnLoad=function(e){n?e(null):t.push(e)};return"undefined"!=typeof google&&google.load("visualization","1",{packages:["corechart"],callback:function(){!function(){n=!0;var e=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(t);!(e=(o=s.next()).done);e=!0){(0,o.value)(null)}}catch(e){i=!0,r=e}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}}()}}),e}({}),Helpers=function(__exports){var copy=__exports.copy=function(e,t){return null==e?void 0:e[t]},orDefault=__exports.orDefault=function(e){return null!=e?e:void 0},right=__exports.right=function(e,t,n){return null!=n?n:null==e?void 0:e[t]},showChart=__exports.showChart=function(chart,outputId){LazyCharting.drawChartOnLoad(function(){!function(e){startImmediate(e)}(function(builder_){return builder_.Delay(function(){return builder_.TryWith(builder_.Delay(function(){return builder_.Bind(chart.data.data,function(_arg1){var ctor=eval("(function(a) { return new google.visualization."+chart.typeName+" (a); })"),ch=ctor(document.getElementById(outputId));return void 0==chart.options.height&&(chart.options.height=400),ch.draw(_arg1,chart.options),builder_.Zero()})}),function(e){return Log.error("google","Error when getting data or rendering chart: %O",e),builder_.Zero()})})}(singleton$2))})};return __exports}({}),ChartDataOperations=function(e){var t=e.collect=function(e,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(new List$1):i.Bind(e(n.head),function(r){return i.Bind(t(e,n.tail),function(e){return i.Return(append$1(r,e))})})})}(singleton$2)};e.oneKeyValue=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn(e,t.keyName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(t.mapPairs(function(e){return function(t){return[e,t]}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))},e.oneKeyTwoValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn(e,t.keyName),i.addColumn("number",t.seriesName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(t.mapPairs(function(e){return function(t){return[e,t[0],t[1]]}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))},e.oneKeyAppendValues=function(e,n,i){return new ChartData(function(r){return r.Delay(function(){var o=new google.visualization.DataTable;return o.addColumn(e,n[0].keyName),o.addColumn("number",n[0].valueName),o.addColumn({type:"string",role:"style"}),r.Bind(t(function(e){return function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(e[0].mapPairs(function(t){return function(n){return[t,n,e[1]]}}).data),function(e){return t.Return(ofArray$1(e.map(function(e){return e[1]})))})})}(singleton$2)},ofArray$1(_Array$from(zip(n,i)))),function(e){return function(e){o.addRows(e)}(_Array$from(toList(sortWith(function(e,t){return-compare(function(e){return e[1]}(e),function(e){return e[1]}(t))},e))).map(function(e){return[e[0],e[1],e[2]]})),r.Return(o)})})}(singleton$2))},e.oneKeyNValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return n.Bind(Async_AwaitFuture_Static(t.data),function(t){var r=t.map(function(e){return e[1]});return i.addColumn(e,r[0].keyName),n.Combine(n.For(range(0,r.length-1),function(e){return i.addColumn("number",r[e].seriesName),n.Zero()}),n.Delay(function(){var e=r[0].map(function(e){return create$6(ofArray$1([[0,e]]),new GenericComparer(compare))}),t=_Array$from(mapIndexed(function(e,t){return[e+1,t]},SeriesInternals.slice(1,r.length-1,r))),o=fold(function(e,t){return e.joinOuter(t[1]).map(function(e){var n=[defaultArg(e[0],create$6(null,new GenericComparer(compare))),e[1]];if(null==n[1])return n[0];var i=n[1];return add$3(t[0],i,n[0])})},e,t);return n.Bind(Async_AwaitFuture_Static(o.mapPairs(function(e){return function(t){var n=_Array$from(initialize(r.length,function(e){return defaultArg(tryFind$1(e,t),void 0)}));return _Array$from(append([e],n))}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})}))})})}(singleton$2))},e.twoValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn("number",e.seriesName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(e.joinInner(t).map(function(e){return[e.first,e.second]}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))};return e}({}),ChartSizeAxis=function(){function e(t,n,i,r){_classCallCheck(this,e),this.maxSize=t,this.maxValue=n,this.minSize=i,this.minValue=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartSizeAxis",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{maxSize:"number",maxValue:"number",minSize:"number",minValue:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartSizeAxis",ChartSizeAxis);var ChartTextStyle=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.fontName=t,this.fontSize=n,this.bold=i,this.italic=r,this.color=o,this.auraColor=s,this.opacity=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartTextStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{fontName:"string",fontSize:"number",bold:"boolean",italic:"boolean",color:"string",auraColor:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartTextStyle",ChartTextStyle);var ChartTooltip=function(){function e(t,n,i,r){_classCallCheck(this,e),this.isHtml=t,this.showColorCode=n,this.textStyle=i,this.trigger=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartTooltip",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{isHtml:"boolean",showColorCode:"boolean",textStyle:ChartTextStyle,trigger:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartTooltip",ChartTooltip);var ChartLegend=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.alignment=t,this.maxLines=n,this.position=i,this.textStyle=r,this.numberFormat=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartLegend",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{alignment:"string",maxLines:"number",position:"string",textStyle:ChartTextStyle,numberFormat:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartLegend",ChartLegend);var ChartColorAxis=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.minValue=t,this.maxValue=n,this.values=i,this.colors=r,this.legend=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartColorAxis",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{minValue:"number",maxValue:"number",values:FableArray(Float64Array,!0),colors:FableArray("string"),legend:ChartLegend}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartColorAxis",ChartColorAxis);var GeoChartMagnifyingGlass=function(){function e(t,n){_classCallCheck(this,e),this.enable=t,this.zoomFactor=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{enable:"boolean",zoomFactor:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass",GeoChartMagnifyingGlass);var GeoChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){_classCallCheck(this,e),this.backgroundColor=t,this.colorAxis=n,this.datalessRegionColor=i,this.displayMode=r,this.enableRegionInteractivity=o,this.height=s,this.keepAspectRatio=a,this.legend=l,this.region=u,this.magnifyingGlass=c,this.markerOpacity=p,this.resolution=h,this.sizeAxis=d,this.tooltip=f,this.width=m}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GeoChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{backgroundColor:Any,colorAxis:ChartColorAxis,datalessRegionColor:"string",displayMode:"string",enableRegionInteractivity:"boolean",height:"number",keepAspectRatio:"boolean",legend:ChartLegend,region:"string",magnifyingGlass:GeoChartMagnifyingGlass,markerOpacity:"number",resolution:"string",sizeAxis:ChartSizeAxis,tooltip:ChartTooltip,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GeoChartOptions",GeoChartOptions);var ChartBoxStyleGradient=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.color1=t,this.color2=n,this.x1=i,this.y1=r,this.x2=o,this.y2=s,this.useObjectBoundingBoxUnits=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoxStyleGradient",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color1:"string",color2:"string",x1:"string",y1:"string",x2:"string",y2:"string",useObjectBoundingBoxUnits:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoxStyleGradient",ChartBoxStyleGradient);var ChartBoxStyle=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.stroke=t,this.strokeWidth=n,this.rx=i,this.ry=r,this.gradient=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoxStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{stroke:"string",strokeWidth:"number",rx:"number",ry:"number",gradient:ChartBoxStyleGradient}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoxStyle",ChartBoxStyle);var ChartAnnotations=function(){function e(t,n){_classCallCheck(this,e),this.boxStyle=t,this.textStyle=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartAnnotations",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{boxStyle:ChartBoxStyle,textStyle:ChartTextStyle}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartAnnotations",ChartAnnotations);var ChartCrosshairFocused=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.opacity=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshairFocused",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshairFocused",ChartCrosshairFocused);var ChartCrosshairSelected=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.opacity=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshairSelected",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshairSelected",ChartCrosshairSelected);var ChartCrosshair=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.color=t,this.focused=n,this.opacity=i,this.orientation=r,this.selected=o,this.trigger=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshair",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",focused:ChartCrosshairFocused,opacity:"number",orientation:"string",selected:ChartCrosshairSelected,trigger:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshair",ChartCrosshair);var ChartExplorer=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.actions=t,this.axis=n,this.keepInBounds=i,this.maxZoomIn=r,this.maxZoomOut=o,this.zoomDelta=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartExplorer",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{actions:FableArray("string"),axis:"string",keepInBounds:"boolean",maxZoomIn:"number",maxZoomOut:"number",zoomDelta:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartExplorer",ChartExplorer);var ChartStroke=function(){function e(t,n,i){_classCallCheck(this,e),this.stroke=t,this.strokeWidth=n,this.fill=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartStroke",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{stroke:"string",strokeWidth:"number",fill:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartStroke",ChartStroke);var ChartArea=function(){function e(t,n,i,r){_classCallCheck(this,e),this.top=t,this.left=n,this.width=i,this.height=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartArea",interfaces:["FSharpRecord","System.IEquatable"],properties:{top:Any,left:Any,width:Any,height:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartArea",ChartArea);var TransitionAnimation=function(){function e(t,n){_classCallCheck(this,e),this.duration=t,this.easing=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TransitionAnimation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{duration:"number",easing:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TransitionAnimation",TransitionAnimation);var ChartGridlines=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.count=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartGridlines",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",count:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartGridlines",ChartGridlines);var ChartViewWindow=function(){function e(t,n){_classCallCheck(this,e),this.max=t,this.min=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartViewWindow",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{max:"number",min:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartViewWindow",ChartViewWindow);var ChartAxis=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T){_classCallCheck(this,e),this.baseline=t,this.baselineColor=n,this.direction=i,this.format=r,this.gridlines=o,this.minorGridlines=s,this.logScale=a,this.textPosition=l,this.textStyle=u,this.ticks=c,this.title=p,this.titleTextStyle=h,this.allowContainerBoundaryTextCufoff=d,this.slantedText=f,this.slantedTextAngle=m,this.maxAlternation=y,this.maxTextLines=g,this.minTextSpacing=v,this.showTextEvery=C,this.maxValue=w,this.minValue=b,this.viewWindowMode=S,this.viewWindow=T}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartAxis",interfaces:["FSharpRecord","System.IEquatable"],properties:{baseline:"number",baselineColor:"string",direction:"number",format:"string",gridlines:ChartGridlines,minorGridlines:ChartGridlines,logScale:"boolean",textPosition:"string",textStyle:ChartTextStyle,ticks:FableArray(Any),title:"string",titleTextStyle:ChartTextStyle,allowContainerBoundaryTextCufoff:"boolean",slantedText:"boolean",slantedTextAngle:"number",maxAlternation:"number",maxTextLines:"number",minTextSpacing:"number",showTextEvery:"number",maxValue:"number",minValue:"number",viewWindowMode:"string",viewWindow:ChartViewWindow}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartAxis",ChartAxis);var ChartBoundingBox=function(){function e(t,n,i,r){_classCallCheck(this,e),this.left=t,this.top=n,this.width=i,this.height=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoundingBox",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{left:"number",top:"number",width:"number",height:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoundingBox",ChartBoundingBox);var GroupWidth=function(){function e(t){_classCallCheck(this,e),this.groupWidth=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GroupWidth",interfaces:["FSharpRecord","System.IEquatable"],properties:{groupWidth:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GroupWidth",GroupWidth);var Trendline=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.color=t,this.lineWidth=n,this.labelInLegend=i,this.opacity=r,this.pointSize=o,this.pointsVisible=s,this.showR2=a,this.type=l,this.visibleInLegend=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.Trendline",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",lineWidth:"number",labelInLegend:"string",opacity:"number",pointSize:"number",pointsVisible:"boolean",showR2:"boolean",type:"string",visibleInLegend:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.Trendline",Trendline);var ScatterChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k,F,E,_){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.curveType=u,this.dataOpacity=c,this.enableInteractivity=p,this.explorer=h,this.fontSize=d,this.fontName=f,this.forceIFrame=m,this.hAxis=y,this.height=g,this.legend=v,this.lineWidth=C,this.pointSize=w,this.selectionMode=b,this.series=S,this.theme=T,this.title=A,this.titlePosition=x,this.titleTextStyle=$,this.tooltip=k,this.trendlines=F,this.vAxis=E,this.width=_}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ScatterChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,lineWidth:"number",pointSize:"number",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,trendlines:FableArray(Trendline),vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ScatterChartOptions",ScatterChartOptions);var ColumnChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=d,this.height=f,this.isStacked=m,this.legend=y,this.reverseCategories=g,this.selectionMode=v,this.series=C,this.theme=w,this.title=b,this.titlePosition=S,this.titleTextStyle=T,this.tooltip=A,this.vAxes=x,this.vAxis=$,this.width=k}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ColumnChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FableArray("string"),enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ColumnChartOptions",ColumnChartOptions);var LineChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k,F,E,_,O,P,L){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.curveType=u,this.dataOpacity=c,this.enableInteractivity=p,this.explorer=h,this.focusTarget=d,this.fontSize=f,this.fontName=m,this.hAxis=y,this.height=g,this.interpolateNulls=v,this.legend=C,this.lineWidth=w,this.orientation=b,this.pointSize=S,this.reverseCategories=T,this.selectionMode=A,this.series=x,this.theme=$,this.title=k,this.titlePosition=F,this.titleTextStyle=E,this.tooltip=_,this.vAxes=O,this.vAxis=P,this.width=L}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.LineChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.LineChartOptions",LineChartOptions);var BarChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k,F){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=l,this.dataOpacity=u,this.enableInteractivity=c,this.focusTarget=p,this.fontSize=h,this.fontName=d,this.hAxes=f,this.hAxis=m,this.height=y,this.isStacked=g,this.legend=v,this.reverseCategories=C,this.series=w,this.theme=b,this.title=S,this.titlePosition=T,this.titleTextStyle=A,this.tooltip=x,this.vAxes=$,this.vAxis=k,this.width=F}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.BarChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FableArray("string"),dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxes:Any,hAxis:ChartAxis,height:"number",
isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.BarChartOptions",BarChartOptions);var HistogramHistogram=function(){function e(t,n,i){_classCallCheck(this,e),this.bucketSize=t,this.hideBucketItems=n,this.lastBucketPercentile=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.HistogramHistogram",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{bucketSize:"number",hideBucketItems:"boolean",lastBucketPercentile:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.HistogramHistogram",HistogramHistogram);var HistogramOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k,F){_classCallCheck(this,e),this.animation=t,this.axisTitlesPosition=n,this.backgroundColor=i,this.bar=r,this.chartArea=o,this.colors=s,this.dataOpacity=a,this.enableInteractivity=l,this.focusTarget=u,this.fontSize=c,this.fontName=p,this.hAxis=h,this.histogram=d,this.height=f,this.interpolateNulls=m,this.isStacked=y,this.legend=g,this.orientation=v,this.reverseCategories=C,this.series=w,this.theme=b,this.title=S,this.titlePosition=T,this.titleTextStyle=A,this.tooltip=x,this.vAxes=$,this.vAxis=k,this.width=F}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.HistogramOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FableArray("string"),dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,histogram:HistogramHistogram,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.HistogramOptions",HistogramOptions);var AreaChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k,F,E,_,O,P,L){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.areaOpacity=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.dataOpacity=u,this.enableInteractivity=c,this.explorer=p,this.focusTarget=h,this.fontSize=d,this.fontName=f,this.hAxis=m,this.height=y,this.interpolateNulls=g,this.isStacked=v,this.legend=C,this.lineWidth=w,this.orientation=b,this.pointSize=S,this.reverseCategories=T,this.selectionMode=A,this.series=x,this.theme=$,this.title=k,this.titlePosition=F,this.titleTextStyle=E,this.tooltip=_,this.vAxes=O,this.vAxis=P,this.width=L}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.AreaChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),crosshair:ChartCrosshair,dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.AreaChartOptions",AreaChartOptions);var AnnotationChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A){_classCallCheck(this,e),this.allowHtml=t,this.allValuesSuffix=n,this.annotationsWidth=i,this.colors=r,this.dateFormat=o,this.displayAnnotations=s,this.displayAnnotationsFilter=a,this.displayDateTimeBarSeparator=l,this.displayExactValues=u,this.displayLegendDots=c,this.displayLegendValues=p,this.displayRangeSelector=h,this.displayZoomButtons=d,this.fill=f,this.legendPosition=m,this.max=y,this.min=g,this.numberFormats=v,this.scaleColumns=C,this.scaleFormat=w,this.scaleType=b,this.thickness=S,this.zoomEndTime=T,this.zoomStartTime=A}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.AnnotationChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{allowHtml:"boolean",allValuesSuffix:"string",annotationsWidth:"number",colors:FableArray("string"),dateFormat:"string",displayAnnotations:"boolean",displayAnnotationsFilter:"boolean",displayDateTimeBarSeparator:"boolean",displayExactValues:"boolean",displayLegendDots:"boolean",displayLegendValues:"boolean",displayRangeSelector:"boolean",displayZoomButtons:"boolean",fill:"number",legendPosition:"string",max:"number",min:"number",numberFormats:Any,scaleColumns:FableArray(Float64Array,!0),scaleFormat:"string",scaleType:"string",thickness:"number",zoomEndTime:Date,zoomStartTime:Date}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.AnnotationChartOptions",AnnotationChartOptions);var SteppedAreaChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k,F){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.areaOpacity=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.connectSteps=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=d,this.height=f,this.interpolateNulls=m,this.isStacked=y,this.legend=g,this.reverseCategories=v,this.selectionMode=C,this.series=w,this.theme=b,this.title=S,this.titlePosition=T,this.titleTextStyle=A,this.tooltip=x,this.vAxes=$,this.vAxis=k,this.width=F}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.SteppedAreaChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),connectSteps:"boolean",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.SteppedAreaChartOptions",SteppedAreaChartOptions);var PieChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T){_classCallCheck(this,e),this.backgroundColor=t,this.chartArea=n,this.colors=i,this.enableInteractivity=r,this.fontSize=o,this.fontName=s,this.height=a,this.is3D=l,this.legend=u,this.pieHole=c,this.pieSliceBorderColor=p,this.pieSliceText=h,this.pieSliceTextStyle=d,this.pieStartAngle=f,this.reverseCategories=m,this.pieResidueSliceColor=y,this.pieResidueSliceLabel=g,this.slices=v,this.sliceVisibilityThreshold=C,this.title=w,this.titleTextStyle=b,this.tooltip=S,this.width=T}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.PieChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),enableInteractivity:"boolean",fontSize:"number",fontName:"string",height:"number",is3D:"boolean",legend:ChartLegend,pieHole:"number",pieSliceBorderColor:"string",pieSliceText:"string",pieSliceTextStyle:ChartTextStyle,pieStartAngle:"number",reverseCategories:"boolean",pieResidueSliceColor:"string",pieResidueSliceLabel:"string",slices:Any,sliceVisibilityThreshold:"number",title:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.PieChartOptions",PieChartOptions);var ChartBubble=function(){function e(t,n,i){_classCallCheck(this,e),this.opacity=t,this.stroke=n,this.textStyle=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBubble",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{opacity:"number",stroke:"string",textStyle:ChartTextStyle}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBubble",ChartBubble);var BubbleChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$){_classCallCheck(this,e),this.animation=t,this.axisTitlesPosition=n,this.backgroundColor=i,this.bubble=r,this.chartArea=o,this.colors=s,this.colorAxis=a,this.enableInteractivity=l,this.explorer=u,this.fontSize=c,this.fontName=p,this.forceIFrame=h,this.hAxis=d,this.height=f,this.legend=m,this.selectionMode=y,this.series=g,this.sizeAxis=v,this.sortBubblesBySize=C,this.theme=w,this.title=b,this.titlePosition=S,this.titleTextStyle=T,this.tooltip=A,this.vAxis=x,this.width=$}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.BubbleChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bubble:ChartBubble,chartArea:ChartArea,colors:FableArray("string"),colorAxis:ChartColorAxis,enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,selectionMode:"string",series:Any,sizeAxis:ChartSizeAxis,sortBubblesBySize:"boolean",theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.BubbleChartOptions",BubbleChartOptions);var TreeMapOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A){_classCallCheck(this,e),this.fontColor=t,this.fontFamily=n,this.fontSize=i,this.forceIFrame=r,this.headerColor=o,this.headerHeight=s,this.headerHighlightColor=a,this.hintOpacity=l,this.maxColor=u,this.maxDepth=c,this.maxHighlightColor=p,this.maxPostDepth=h,this.maxColorValue=d,this.midColor=f,this.midHighlightColor=m,this.minColor=y,this.minHighlightColor=g,this.minColorValue=v,this.showScale=C,this.showTooltips=w,this.textStyle=b,this.title=S,this.titleTextStyle=T,this.useWeightedAverageForAggregation=A}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TreeMapOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{fontColor:"string",fontFamily:"string",fontSize:"number",forceIFrame:"boolean",headerColor:"string",headerHeight:"number",headerHighlightColor:"string",hintOpacity:"number",maxColor:"string",maxDepth:"number",maxHighlightColor:"string",maxPostDepth:"number",maxColorValue:"number",midColor:"string",midHighlightColor:"string",minColor:"string",minHighlightColor:"string",minColorValue:"number",showScale:"boolean",showTooltips:"boolean",textStyle:ChartTextStyle,title:"string",titleTextStyle:ChartTextStyle,useWeightedAverageForAggregation:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TreeMapOptions",TreeMapOptions);var CssClassNames=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.headerRow=t,this.tableRow=n,this.oddTableRow=i,this.selectedTableRow=r,this.hoverTableRow=o,this.headerCell=s,this.tableCell=a,this.rowNumberCell=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CssClassNames",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{headerRow:"string",tableRow:"string",oddTableRow:"string",selectedTableRow:"string",hoverTableRow:"string",headerCell:"string",tableCell:"string",rowNumberCell:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CssClassNames",CssClassNames);var TableOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){_classCallCheck(this,e),this.allowHtml=t,this.alternatingRowStyle=n,this.cssClassName=i,this.firstRowNumber=r,this.height=o,this.page=s,this.pageSize=a,this.rtlTable=l,this.scrollLeftStartPosition=u,this.showRowNumber=c,this.sort=p,this.sortAscending=h,this.sortColumn=d,this.startPage=f,this.width=m}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TableOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{allowHtml:"boolean",alternatingRowStyle:"boolean",cssClassName:CssClassNames,firstRowNumber:"number",height:"string",page:"string",pageSize:"number",rtlTable:"boolean",scrollLeftStartPosition:"number",showRowNumber:"boolean",sort:"string",sortAscending:"boolean",sortColumn:"number",startPage:"number",width:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TableOptions",TableOptions);var LabelStyle=function(){function e(t,n,i){_classCallCheck(this,e),this.color=t,this.fontName=n,this.fontSize=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.LabelStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",fontName:"string",fontSize:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.LabelStyle",LabelStyle);var TimelineTimeline=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.barLabelStyle=t,this.colorByRowLabel=n,this.groupByRowLabel=i,this.rowLabelStyle=r,this.showRowLabels=o,this.singleColor=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TimelineTimeline",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{barLabelStyle:LabelStyle,colorByRowLabel:"boolean",groupByRowLabel:"boolean",rowLabelStyle:LabelStyle,showRowLabels:"boolean",singleColor:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TimelineTimeline",TimelineTimeline);var TimelineOptions=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.avoidOverlappingGridLines=t,this.backgroundColor=n,this.colors=i,this.enableInteractivity=r,this.forceIFrame=o,this.height=s,this.timeline=a,this.width=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TimelineOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{avoidOverlappingGridLines:"boolean",backgroundColor:Any,colors:FableArray("string"),enableInteractivity:"boolean",forceIFrame:"boolean",height:"number",timeline:TimelineTimeline,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TimelineOptions",TimelineOptions);var CandlestickCandlestick=function(){function e(t,n,i){_classCallCheck(this,e),this.hollowIsRising=t,this.fallingColor=n,this.risingColor=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CandlestickCandlestick",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{hollowIsRising:"boolean",fallingColor:ChartStroke,risingColor:ChartStroke}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CandlestickCandlestick",CandlestickCandlestick);var CandlestickChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A,x,$,k){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.axisTitlesPosition=i,this.backgroundColor=r,this.bar=o,this.candlestick=s,this.chartArea=a,this.colors=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=d,this.height=f,this.legend=m,this.orientation=y,this.reverseCategories=g,this.selectionMode=v,this.series=C,this.theme=w,this.title=b,this.titlePosition=S,this.titleTextStyle=T,this.tooltip=A,this.vAxes=x,this.vAxis=$,this.width=k}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CandlestickChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,candlestick:CandlestickCandlestick,chartArea:ChartArea,colors:FableArray("string"),enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CandlestickChartOptions",CandlestickChartOptions);var Geo=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Geo",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:GeoChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c){var p=void 0,h=Helpers.right(this.options,"backgroundColor",t),d=Helpers.right(this.options,"datalessRegionColor",n),f=Helpers.right(this.options,"displayMode",i),m=Helpers.right(this.options,"enableRegionInteractivity",r),y=Helpers.right(this.options,"height",o),g=Helpers.right(this.options,"keepAspectRatio",s),v=Helpers.right(this.options,"region",a),C=Helpers.right(this.options,"markerOpacity",l),w=Helpers.right(this.options,"resolution",u),b=Helpers.right(this.options,"width",c);return p=new GeoChartOptions(h,this.options.colorAxis,d,f,m,y,g,this.options.legend,v,this.options.magnifyingGlass,C,w,this.options.sizeAxis,this.options.tooltip,b),new e(this.data,this.typeName,p)}},{key:"colorAxis",value:function(t,n,i,r){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",defaultArg(i,null,function(e){return Float64Array.from(e)})),Helpers.right(o,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),Helpers.copy(o,"legend")),a=new GeoChartOptions(this.options.backgroundColor,s,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,s,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,p)}},{key:"magnifyingGlass",value:function(t,n){var i=this.options.magnifyingGlass,r=new GeoChartMagnifyingGlass(Helpers.right(i,"enable",t),Helpers.right(i,"zoomFactor",n)),o=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,r,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,o)}},{key:"sizeAxis",value:function(t,n,i,r){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",i),Helpers.right(o,"minValue",r)),a=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,s,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,o,this.options.width);return new e(this.data,this.typeName,u)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Geo",Geo);var Scatter=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Scatter",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:ScatterChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C){var w=void 0,b=Helpers.right(this.options,"aggregationTarget",t),S=Helpers.right(this.options,"axisTitlesPosition",n),T=Helpers.right(this.options,"backgroundColor",i),A=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),x=Helpers.right(this.options,"curveType",o),$=Helpers.right(this.options,"dataOpacity",s),k=Helpers.right(this.options,"enableInteractivity",a),F=Helpers.right(this.options,"fontSize",l),E=Helpers.right(this.options,"fontName",u),_=Helpers.right(this.options,"forceIFrame",c),O=Helpers.right(this.options,"height",p),P=Helpers.right(this.options,"lineWidth",h),L=Helpers.right(this.options,"pointSize",d),N=Helpers.right(this.options,"selectionMode",f),H=Helpers.right(this.options,"series",m),G=Helpers.right(this.options,"theme",y),I=Helpers.right(this.options,"title",g),D=Helpers.right(this.options,"titlePosition",v),R=Helpers.right(this.options,"width",C);return w=new ScatterChartOptions(b,this.options.animation,this.options.annotations,S,T,this.options.chartArea,A,this.options.crosshair,x,$,k,this.options.explorer,F,E,_,this.options.hAxis,O,this.options.legend,P,L,N,H,G,I,D,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,R),new e(this.data,this.typeName,w)}},{key:"trendlines",value:function(t){var n=void 0,i=Helpers.right(this.options,"trendlines",defaultArg(t,null,function(e){return _Array$from(e)}));return n=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,i,this.options.vAxis,this.options.width),new e(this.data,this.typeName,n)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new ScatterChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=void 0,a=Helpers.right(o,"color",t),l=Helpers.right(o,"opacity",n),u=Helpers.right(o,"orientation",i),c=Helpers.right(o,"trigger",r);s=new ChartCrosshair(a,Helpers.copy(o,"focused"),l,u,Helpers.copy(o,"selected"),c);var p=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,w,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c)
;var p=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Scatter",Scatter);var Column=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Column",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:ColumnChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=void 0,w=Helpers.right(this.options,"aggregationTarget",t),b=Helpers.right(this.options,"axisTitlesPosition",n),S=Helpers.right(this.options,"backgroundColor",i),T=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),A=Helpers.right(this.options,"enableInteractivity",o),x=Helpers.right(this.options,"focusTarget",s),$=Helpers.right(this.options,"fontSize",a),k=Helpers.right(this.options,"fontName",l),F=Helpers.right(this.options,"height",u),E=Helpers.right(this.options,"isStacked",c),_=Helpers.right(this.options,"reverseCategories",p),O=Helpers.right(this.options,"selectionMode",h),P=Helpers.right(this.options,"series",d),L=Helpers.right(this.options,"theme",f),N=Helpers.right(this.options,"title",m),H=Helpers.right(this.options,"titlePosition",y),G=Helpers.right(this.options,"vAxes",g),I=Helpers.right(this.options,"width",v);return C=new ColumnChartOptions(w,this.options.animation,this.options.annotations,b,S,this.options.bar,this.options.chartArea,T,A,x,$,k,this.options.hAxis,F,E,this.options.legend,_,O,P,L,N,H,this.options.titleTextStyle,this.options.tooltip,G,this.options.vAxis,I),new e(this.data,this.typeName,C)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new ColumnChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Column",Column);var Line=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Line",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:LineChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T){var A=void 0,x=Helpers.right(this.options,"aggregationTarget",t),$=Helpers.right(this.options,"axisTitlesPosition",n),k=Helpers.right(this.options,"backgroundColor",i),F=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),E=Helpers.right(this.options,"curveType",o),_=Helpers.right(this.options,"dataOpacity",s),O=Helpers.right(this.options,"enableInteractivity",a),P=Helpers.right(this.options,"focusTarget",l),L=Helpers.right(this.options,"fontSize",u),N=Helpers.right(this.options,"fontName",c),H=Helpers.right(this.options,"height",p),G=Helpers.right(this.options,"interpolateNulls",h),I=Helpers.right(this.options,"lineWidth",d),D=Helpers.right(this.options,"orientation",f),R=Helpers.right(this.options,"pointSize",m),M=Helpers.right(this.options,"reverseCategories",y),B=Helpers.right(this.options,"selectionMode",g),V=Helpers.right(this.options,"series",v),q=Helpers.right(this.options,"theme",C),z=Helpers.right(this.options,"title",w),j=Helpers.right(this.options,"titlePosition",b),K=Helpers.right(this.options,"vAxes",S),W=Helpers.right(this.options,"width",T);return A=new LineChartOptions(x,this.options.animation,this.options.annotations,$,k,this.options.chartArea,F,this.options.crosshair,E,_,O,this.options.explorer,P,L,N,this.options.hAxis,H,G,this.options.legend,I,D,R,M,B,V,q,z,j,this.options.titleTextStyle,this.options.tooltip,K,this.options.vAxis,W),new e(this.data,this.typeName,A)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new LineChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=void 0,a=Helpers.right(o,"color",t),l=Helpers.right(o,"opacity",n),u=Helpers.right(o,"orientation",i),c=Helpers.right(o,"trigger",r);s=new ChartCrosshair(a,Helpers.copy(o,"focused"),l,u,Helpers.copy(o,"selected"),c);var p=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Line",Line);var Bar=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Bar",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:BarChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C){var w=void 0,b=Helpers.right(this.options,"aggregationTarget",t),S=Helpers.right(this.options,"axisTitlesPosition",n),T=Helpers.right(this.options,"backgroundColor",i),A=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),x=Helpers.right(this.options,"dataOpacity",o),$=Helpers.right(this.options,"enableInteractivity",s),k=Helpers.right(this.options,"focusTarget",a),F=Helpers.right(this.options,"fontSize",l),E=Helpers.right(this.options,"fontName",u),_=Helpers.right(this.options,"hAxes",c),O=Helpers.right(this.options,"height",p),P=Helpers.right(this.options,"isStacked",h),L=Helpers.right(this.options,"reverseCategories",d),N=Helpers.right(this.options,"series",f),H=Helpers.right(this.options,"theme",m),G=Helpers.right(this.options,"title",y),I=Helpers.right(this.options,"titlePosition",g),D=Helpers.right(this.options,"vAxes",v),R=Helpers.right(this.options,"width",C);return w=new BarChartOptions(b,this.options.animation,this.options.annotations,S,T,this.options.bar,this.options.chartArea,A,x,$,k,F,E,_,this.options.hAxis,O,P,this.options.legend,L,N,H,G,I,this.options.titleTextStyle,this.options.tooltip,D,this.options.vAxis,R),new e(this.data,this.typeName,w)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new BarChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){
var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,w,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Bar",Bar);var Histogram=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Histogram",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:HistogramOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C){var w=void 0,b=Helpers.right(this.options,"axisTitlesPosition",t),S=Helpers.right(this.options,"backgroundColor",n),T=Helpers.right(this.options,"colors",defaultArg(i,null,function(e){return _Array$from(e)})),A=Helpers.right(this.options,"dataOpacity",r),x=Helpers.right(this.options,"enableInteractivity",o),$=Helpers.right(this.options,"focusTarget",s),k=Helpers.right(this.options,"fontSize",a),F=Helpers.right(this.options,"fontName",l),E=Helpers.right(this.options,"height",u),_=Helpers.right(this.options,"interpolateNulls",c),O=Helpers.right(this.options,"isStacked",p),P=Helpers.right(this.options,"orientation",h),L=Helpers.right(this.options,"reverseCategories",d),N=Helpers.right(this.options,"series",f),H=Helpers.right(this.options,"theme",m),G=Helpers.right(this.options,"title",y),I=Helpers.right(this.options,"titlePosition",g),D=Helpers.right(this.options,"vAxes",v),R=Helpers.right(this.options,"width",C);return w=new HistogramOptions(this.options.animation,b,S,this.options.bar,this.options.chartArea,T,A,x,$,k,F,this.options.hAxis,this.options.histogram,E,_,O,this.options.legend,P,L,N,H,G,I,this.options.titleTextStyle,this.options.tooltip,D,this.options.vAxis,R),new e(this.data,this.typeName,w)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new HistogramOptions(r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"histogram",value:function(t,n,i){var r=this.options.histogram,o=new HistogramHistogram(Helpers.right(r,"bucketSize",t),Helpers.right(r,"hideBucketItems",n),Helpers.right(r,"lastBucketPercentile",i)),s=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,o,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Histogram",Histogram);var Area=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Area",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:AreaChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A){var x=void 0,$=Helpers.right(this.options,"aggregationTarget",t),k=Helpers.right(this.options,"areaOpacity",n),F=Helpers.right(this.options,"axisTitlesPosition",i),E=Helpers.right(this.options,"backgroundColor",r),_=Helpers.right(this.options,"colors",defaultArg(o,null,function(e){return _Array$from(e)})),O=Helpers.right(this.options,"dataOpacity",s),P=Helpers.right(this.options,"enableInteractivity",a),L=Helpers.right(this.options,"focusTarget",l),N=Helpers.right(this.options,"fontSize",u),H=Helpers.right(this.options,"fontName",c),G=Helpers.right(this.options,"height",p),I=Helpers.right(this.options,"interpolateNulls",h),D=Helpers.right(this.options,"isStacked",d),R=Helpers.right(this.options,"lineWidth",f),M=Helpers.right(this.options,"orientation",m),B=Helpers.right(this.options,"pointSize",y),V=Helpers.right(this.options,"reverseCategories",g),q=Helpers.right(this.options,"selectionMode",v),z=Helpers.right(this.options,"series",C),j=Helpers.right(this.options,"theme",w),K=Helpers.right(this.options,"title",b),W=Helpers.right(this.options,"titlePosition",S),U=Helpers.right(this.options,"vAxes",T),Y=Helpers.right(this.options,"width",A);return x=new AreaChartOptions($,this.options.animation,k,F,E,this.options.chartArea,_,this.options.crosshair,O,P,this.options.explorer,L,N,H,this.options.hAxis,G,I,D,this.options.legend,R,M,B,V,q,z,j,K,W,this.options.titleTextStyle,this.options.tooltip,U,this.options.vAxis,Y),new e(this.data,this.typeName,x)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new AreaChartOptions(this.options.aggregationTarget,r,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=void 0,a=Helpers.right(o,"color",t),l=Helpers.right(o,"opacity",n),u=Helpers.right(o,"orientation",i),c=Helpers.right(o,"trigger",r);s=new ChartCrosshair(a,Helpers.copy(o,"focused"),l,u,Helpers.copy(o,"selected"),c);var p=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Area",Area)
;var Annotation=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Annotation",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:AnnotationChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S,T,A){var x=new AnnotationChartOptions(Helpers.right(this.options,"allowHtml",t),Helpers.right(this.options,"allValuesSuffix",n),Helpers.right(this.options,"annotationsWidth",i),Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),Helpers.right(this.options,"dateFormat",o),Helpers.right(this.options,"displayAnnotations",s),Helpers.right(this.options,"displayAnnotationsFilter",a),Helpers.right(this.options,"displayDateTimeBarSeparator",l),Helpers.right(this.options,"displayExactValues",u),Helpers.right(this.options,"displayLegendDots",c),Helpers.right(this.options,"displayLegendValues",p),Helpers.right(this.options,"displayRangeSelector",h),Helpers.right(this.options,"displayZoomButtons",d),Helpers.right(this.options,"fill",f),Helpers.right(this.options,"legendPosition",m),Helpers.right(this.options,"max",y),Helpers.right(this.options,"min",g),Helpers.right(this.options,"numberFormats",v),Helpers.right(this.options,"scaleColumns",defaultArg(C,null,function(e){return Float64Array.from(e)})),Helpers.right(this.options,"scaleFormat",w),Helpers.right(this.options,"scaleType",b),Helpers.right(this.options,"thickness",S),Helpers.right(this.options,"zoomEndTime",T),Helpers.right(this.options,"zoomStartTime",A));return new e(this.data,this.typeName,x)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Annotation",Annotation);var SteppedArea=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.SteppedArea",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:SteppedAreaChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b){var S=void 0,T=Helpers.right(this.options,"aggregationTarget",t),A=Helpers.right(this.options,"areaOpacity",n),x=Helpers.right(this.options,"axisTitlesPosition",i),$=Helpers.right(this.options,"backgroundColor",r),k=Helpers.right(this.options,"colors",defaultArg(o,null,function(e){return _Array$from(e)})),F=Helpers.right(this.options,"connectSteps",s),E=Helpers.right(this.options,"enableInteractivity",a),_=Helpers.right(this.options,"focusTarget",l),O=Helpers.right(this.options,"fontSize",u),P=Helpers.right(this.options,"fontName",c),L=Helpers.right(this.options,"height",p),N=Helpers.right(this.options,"interpolateNulls",h),H=Helpers.right(this.options,"isStacked",d),G=Helpers.right(this.options,"reverseCategories",f),I=Helpers.right(this.options,"selectionMode",m),D=Helpers.right(this.options,"series",y),R=Helpers.right(this.options,"theme",g),M=Helpers.right(this.options,"title",v),B=Helpers.right(this.options,"titlePosition",C),V=Helpers.right(this.options,"vAxes",w),q=Helpers.right(this.options,"width",b);return S=new SteppedAreaChartOptions(T,this.options.animation,A,x,$,this.options.chartArea,k,F,E,_,O,P,this.options.hAxis,L,N,H,this.options.legend,G,I,D,R,M,B,this.options.titleTextStyle,this.options.tooltip,V,this.options.vAxis,q),new e(this.data,this.typeName,S)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new SteppedAreaChartOptions(this.options.aggregationTarget,r,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.SteppedArea",SteppedArea);var Pie=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Pie",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:PieChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=void 0,w=Helpers.right(this.options,"backgroundColor",t),b=Helpers.right(this.options,"colors",defaultArg(n,null,function(e){return _Array$from(e)})),S=Helpers.right(this.options,"enableInteractivity",i),T=Helpers.right(this.options,"fontSize",r),A=Helpers.right(this.options,"fontName",o),x=Helpers.right(this.options,"height",s),$=Helpers.right(this.options,"is3D",a),k=Helpers.right(this.options,"pieHole",l),F=Helpers.right(this.options,"pieSliceBorderColor",u),E=Helpers.right(this.options,"pieSliceText",c),_=Helpers.right(this.options,"pieStartAngle",p),O=Helpers.right(this.options,"reverseCategories",h),P=Helpers.right(this.options,"pieResidueSliceColor",d),L=Helpers.right(this.options,"pieResidueSliceLabel",f),N=Helpers.right(this.options,"slices",m),H=Helpers.right(this.options,"sliceVisibilityThreshold",y),G=Helpers.right(this.options,"title",g),I=Helpers.right(this.options,"width",v);return C=new PieChartOptions(w,this.options.chartArea,b,S,T,A,x,$,this.options.legend,k,F,E,this.options.pieSliceTextStyle,_,O,P,L,N,H,G,this.options.titleTextStyle,this.options.tooltip,I),new e(this.data,this.typeName,C)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new PieChartOptions(this.options.backgroundColor,s,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,s,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,p)}},{key:"pieSliceTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.pieSliceTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,u,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,c)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,u,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,o,this.options.width);return new e(this.data,this.typeName,u)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Pie",Pie);var Bubble=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Bubble",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:BubbleChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){var y=void 0,g=Helpers.right(this.options,"axisTitlesPosition",t),v=Helpers.right(this.options,"backgroundColor",n),C=Helpers.right(this.options,"colors",defaultArg(i,null,function(e){return _Array$from(e)})),w=Helpers.right(this.options,"enableInteractivity",r),b=Helpers.right(this.options,"fontSize",o),S=Helpers.right(this.options,"fontName",s),T=Helpers.right(this.options,"forceIFrame",a),A=Helpers.right(this.options,"height",l),x=Helpers.right(this.options,"selectionMode",u),$=Helpers.right(this.options,"series",c),k=Helpers.right(this.options,"sortBubblesBySize",p),F=Helpers.right(this.options,"theme",h),E=Helpers.right(this.options,"title",d),_=Helpers.right(this.options,"titlePosition",f),O=Helpers.right(this.options,"width",m);return y=new BubbleChartOptions(this.options.animation,g,v,this.options.bubble,this.options.chartArea,C,this.options.colorAxis,w,this.options.explorer,b,S,T,this.options.hAxis,A,this.options.legend,x,$,this.options.sizeAxis,k,F,E,_,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,O),new e(this.data,this.typeName,y)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new BubbleChartOptions(r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bubble",value:function(t,n){var i=this.options.bubble,r=new ChartBubble(Helpers.right(i,"opacity",t),Helpers.right(i,"stroke",n),Helpers.copy(i,"textStyle")),o=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,s,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"colorAxis",value:function(t,n,i,r){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",defaultArg(i,null,function(e){return Float64Array.from(e)})),Helpers.right(o,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),Helpers.copy(o,"legend")),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,s,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,l,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,w,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"sizeAxis",value:function(t,n,i,r){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",i),Helpers.right(o,"minValue",r)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,s,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Bubble",Bubble);var TreeMap=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.TreeMap",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TreeMapOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S){
var T=void 0,A=Helpers.right(this.options,"fontColor",t),x=Helpers.right(this.options,"fontFamily",n),$=Helpers.right(this.options,"fontSize",i),k=Helpers.right(this.options,"forceIFrame",r),F=Helpers.right(this.options,"headerColor",o),E=Helpers.right(this.options,"headerHeight",s),_=Helpers.right(this.options,"headerHighlightColor",a),O=Helpers.right(this.options,"hintOpacity",l),P=Helpers.right(this.options,"maxColor",u),L=Helpers.right(this.options,"maxDepth",c),N=Helpers.right(this.options,"maxHighlightColor",p),H=Helpers.right(this.options,"maxPostDepth",h),G=Helpers.right(this.options,"maxColorValue",d),I=Helpers.right(this.options,"midColor",f),D=Helpers.right(this.options,"midHighlightColor",m),R=Helpers.right(this.options,"minColor",y),M=Helpers.right(this.options,"minHighlightColor",g),B=Helpers.right(this.options,"minColorValue",v),V=Helpers.right(this.options,"showScale",C),q=Helpers.right(this.options,"showTooltips",w),z=Helpers.right(this.options,"title",b),j=Helpers.right(this.options,"useWeightedAverageForAggregation",S);return T=new TreeMapOptions(A,x,$,k,F,E,_,O,P,L,N,H,G,I,D,R,M,B,V,q,this.options.textStyle,z,this.options.titleTextStyle,j),new e(this.data,this.typeName,T)}},{key:"textStyle",value:function(t,n,i,r,o,s,a){var l=this.options.textStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,u,this.options.title,this.options.titleTextStyle,this.options.useWeightedAverageForAggregation);return new e(this.data,this.typeName,c)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,this.options.textStyle,this.options.title,u,this.options.useWeightedAverageForAggregation);return new e(this.data,this.typeName,c)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.TreeMap",TreeMap);var Table=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Table",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TableOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f){var m=void 0,y=Helpers.right(this.options,"allowHtml",t),g=Helpers.right(this.options,"alternatingRowStyle",n),v=Helpers.right(this.options,"firstRowNumber",i),C=Helpers.right(this.options,"height",r),w=Helpers.right(this.options,"page",o),b=Helpers.right(this.options,"pageSize",s),S=Helpers.right(this.options,"rtlTable",a),T=Helpers.right(this.options,"scrollLeftStartPosition",l),A=Helpers.right(this.options,"showRowNumber",u),x=Helpers.right(this.options,"sort",c),$=Helpers.right(this.options,"sortAscending",p),k=Helpers.right(this.options,"sortColumn",h),F=Helpers.right(this.options,"startPage",d),E=Helpers.right(this.options,"width",f);return m=new TableOptions(y,g,this.options.cssClassName,v,C,w,b,S,T,A,x,$,k,F,E),new e(this.data,this.typeName,m)}},{key:"cssClassName",value:function(t,n,i,r,o,s,a,l){var u=this.options.cssClassName,c=new CssClassNames(Helpers.right(u,"headerRow",t),Helpers.right(u,"tableRow",n),Helpers.right(u,"oddTableRow",i),Helpers.right(u,"selectedTableRow",r),Helpers.right(u,"hoverTableRow",o),Helpers.right(u,"headerCell",s),Helpers.right(u,"tableCell",a),Helpers.right(u,"rowNumberCell",l)),p=new TableOptions(this.options.allowHtml,this.options.alternatingRowStyle,c,this.options.firstRowNumber,this.options.height,this.options.page,this.options.pageSize,this.options.rtlTable,this.options.scrollLeftStartPosition,this.options.showRowNumber,this.options.sort,this.options.sortAscending,this.options.sortColumn,this.options.startPage,this.options.width);return new e(this.data,this.typeName,p)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Table",Table);var Timeline=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Timeline",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TimelineOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a){var l=void 0,u=Helpers.right(this.options,"avoidOverlappingGridLines",t),c=Helpers.right(this.options,"backgroundColor",n),p=Helpers.right(this.options,"colors",defaultArg(i,null,function(e){return _Array$from(e)})),h=Helpers.right(this.options,"enableInteractivity",r),d=Helpers.right(this.options,"forceIFrame",o),f=Helpers.right(this.options,"height",s),m=Helpers.right(this.options,"width",a);return l=new TimelineOptions(u,c,p,h,d,f,this.options.timeline,m),new e(this.data,this.typeName,l)}},{key:"timeline",value:function(t,n,i,r){var o=this.options.timeline,s=void 0,a=Helpers.right(o,"colorByRowLabel",t),l=Helpers.right(o,"groupByRowLabel",n),u=Helpers.right(o,"showRowLabels",i),c=Helpers.right(o,"singleColor",r);s=new TimelineTimeline(Helpers.copy(o,"barLabelStyle"),a,l,Helpers.copy(o,"rowLabelStyle"),u,c);var p=new TimelineOptions(this.options.avoidOverlappingGridLines,this.options.backgroundColor,this.options.colors,this.options.enableInteractivity,this.options.forceIFrame,this.options.height,s,this.options.width);return new e(this.data,this.typeName,p)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Timeline",Timeline);var Candlestick=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Candlestick",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:CandlestickChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=void 0,w=Helpers.right(this.options,"aggregationTarget",t),b=Helpers.right(this.options,"axisTitlesPosition",n),S=Helpers.right(this.options,"backgroundColor",i),T=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),A=Helpers.right(this.options,"enableInteractivity",o),x=Helpers.right(this.options,"focusTarget",s),$=Helpers.right(this.options,"fontSize",a),k=Helpers.right(this.options,"fontName",l),F=Helpers.right(this.options,"height",u),E=Helpers.right(this.options,"orientation",c),_=Helpers.right(this.options,"reverseCategories",p),O=Helpers.right(this.options,"selectionMode",h),P=Helpers.right(this.options,"series",d),L=Helpers.right(this.options,"theme",f),N=Helpers.right(this.options,"title",m),H=Helpers.right(this.options,"titlePosition",y),G=Helpers.right(this.options,"vAxes",g),I=Helpers.right(this.options,"width",v);return C=new CandlestickChartOptions(w,this.options.animation,b,S,this.options.bar,this.options.candlestick,this.options.chartArea,T,A,x,$,k,this.options.hAxis,F,this.options.legend,E,_,O,P,L,N,H,this.options.titleTextStyle,this.options.tooltip,G,this.options.vAxis,I),new e(this.data,this.typeName,C)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new CandlestickChartOptions(this.options.aggregationTarget,r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"candlestick",value:function(t){var n=this.options.candlestick,i=new CandlestickCandlestick(Helpers.right(n,"hollowIsRising",t),Helpers.copy(n,"fallingColor"),Helpers.copy(n,"risingColor")),r=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,i,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,R)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,s,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,b=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),T=Helpers.right(C,"direction",i),A=Helpers.right(C,"format",r),x=Helpers.right(C,"logScale",o),$=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),F=Helpers.right(C,"title",l),E=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),_=Helpers.right(C,"slantedText",c),O=Helpers.right(C,"slantedTextAngle",p),P=Helpers.right(C,"maxAlternation",h),L=Helpers.right(C,"maxTextLines",d),N=Helpers.right(C,"minTextSpacing",f),H=Helpers.right(C,"showTextEvery",m),G=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),D=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(b,S,T,A,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),x,$,Helpers.copy(C,"textStyle"),k,F,Helpers.copy(C,"titleTextStyle"),E,_,O,P,L,N,H,G,I,D,Helpers.copy(C,"viewWindow"));var R=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,R)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Candlestick",Candlestick);var options$1=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.options",properties:{}}}}],[{key:"chartSizeAxis",value:function(e,t,n,i){return new ChartSizeAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"chartTextStyle",value:function(e,t,n,i,r,o,s){return new ChartTextStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s))}},{key:"chartTooltip",value:function(e,t,n,i){return new ChartTooltip(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"chartLegend",value:function(e,t,n,i,r){return new ChartLegend(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r))}},{key:"chartColorAxis",value:function(e,t,n,i,r){return new ChartColorAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(defaultArg(n,null,function(e){return Float64Array.from(e)})),Helpers.orDefault(defaultArg(i,null,function(e){return _Array$from(e)})),Helpers.orDefault(r))}},{key:"geoChartMagnifyingGlass",value:function(e,t){return new GeoChartMagnifyingGlass(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartBoxStyleGradient",value:function(e,t,n,i,r,o,s){return new ChartBoxStyleGradient(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s))}},{key:"chartBoxStyle",value:function(e,t,n,i,r){return new ChartBoxStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r))}},{key:"chartAnnotations",value:function(e,t){return new ChartAnnotations(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshairFocused",value:function(e,t){return new ChartCrosshairFocused(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshairSelected",value:function(e,t){return new ChartCrosshairSelected(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshair",value:function(e,t,n,i,r,o){return new ChartCrosshair(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"chartExplorer",value:function(e,t,n,i,r,o){return new ChartExplorer(Helpers.orDefault(defaultArg(e,null,function(e){return _Array$from(e)})),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"chartStroke",value:function(e,t,n){return new ChartStroke(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"chartArea",value:function(e,t,n,i){return new ChartArea(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"transitionAnimation",value:function(e,t){return new TransitionAnimation(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartGridlines",value:function(e,t){return new ChartGridlines(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartViewWindow",value:function(e,t){return new ChartViewWindow(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartAxis",value:function(e,t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,b,S){return new ChartAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(l),Helpers.orDefault(defaultArg(u,null,function(e){return _Array$from(e)})),Helpers.orDefault(c),Helpers.orDefault(p),Helpers.orDefault(h),Helpers.orDefault(d),Helpers.orDefault(f),Helpers.orDefault(m),Helpers.orDefault(y),Helpers.orDefault(g),Helpers.orDefault(v),Helpers.orDefault(C),Helpers.orDefault(w),Helpers.orDefault(b),Helpers.orDefault(S))}},{key:"chartBoundingBox",value:function(e,t,n,i){return new ChartBoundingBox(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"groupWidth",value:function(e){return new GroupWidth(Helpers.orDefault(e))}},{key:"trendline",value:function(e,t,n,i,r,o,s,a,l){return new Trendline(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(l))}},{key:"histogramHistogram",value:function(e,t,n){return new HistogramHistogram(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"chartBubble",value:function(e,t,n){return new ChartBubble(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"cssClassNames",value:function(e,t,n,i,r,o,s,a){return new CssClassNames(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a))}},{key:"labelStyle",value:function(e,t,n){return new LabelStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"timelineTimeline",value:function(e,t,n,i,r,o){return new TimelineTimeline(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"candlestickCandlestick",value:function(e,t,n){return new CandlestickCandlestick(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}}]),e}();setType("TheGamma.GoogleCharts.Extensions.options",options$1);var chart=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.chart",properties:{}}}}],[{key:"scatter",value:function(e,t){return new Scatter(ChartDataOperations.twoValues(e,t),"ScatterChart",ScatterChartOptions_get_empty_Static())}},{key:"geo",value:function(e){return new Geo(ChartDataOperations.oneKeyValue("string",e),"GeoChart",GeoChartOptions_get_empty_Static())}},{key:"pie",value:function(e){return new Pie(ChartDataOperations.oneKeyValue("string",e),"PieChart",PieChartOptions_get_empty_Static())}},{key:"bar",value:function(e){return new Bar(ChartDataOperations.oneKeyValue("string",e),"BarChart",BarChartOptions_get_empty_Static())}},{key:"column",value:function(e){return new Column(ChartDataOperations.oneKeyValue("string",e),"ColumnChart",ColumnChartOptions_get_empty_Static())}},{key:"columns",value:function(e,t){return new Line(ChartDataOperations.oneKeyAppendValues("string",e,t),"ColumnChart",LineChartOptions_get_empty_Static())}},{key:"line",value:function(e){return new Line(ChartDataOperations.oneKeyValue("number",e),"LineChart",LineChartOptions_get_empty_Static())}},{key:"lines",value:function(e){return new Line(ChartDataOperations.oneKeyNValues("number",e),"LineChart",LineChartOptions_get_empty_Static())}},{key:"area",value:function(e){return new Area(ChartDataOperations.oneKeyValue("number",e),"AreaChart",AreaChartOptions_get_empty_Static())}},{key:"areas",value:function(e,t){var n={contents:0},i=null==t?e:e.map(function(e){return n.contents++,e.setProperties(null,null,t[n.contents-1])});return new Area(ChartDataOperations.oneKeyNValues("number",i),"AreaChart",AreaChartOptions_get_empty_Static())}},{key:"show",value:function(e){return function(t){Helpers.showChart(e,t)}}}]),e}();setType("TheGamma.GoogleCharts.chart",chart);var nativeIsArray=Array.isArray,toString$3=Object.prototype.toString,index$4=nativeIsArray||isArray$4,version$2="2",version$1=version$2;VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8;var vpatch=VirtualPatch;VirtualPatch.prototype.version=version$1,VirtualPatch.prototype.type="VirtualPatch";var version$4=version$2,isVnode=isVirtualNode,version$5=version$2,isVtext=isVirtualText,isWidget_1=isWidget$1,isThunk_1=isThunk$1,isVNode$1=isVnode,isVText$1=isVtext,isWidget$2=isWidget_1,isThunk$2=isThunk_1,handleThunk_1=handleThunk$1,index$6=function(e){return"object"==typeof e&&null!==e},isVhook=isHook$1,isObject$6=index$6,isHook=isVhook,diffProps_1=diffProps$1,isArray$3=index$4,VPatch=vpatch,isVNode=isVnode,isVText=isVtext,isWidget=isWidget_1,isThunk=isThunk_1,handleThunk=handleThunk_1,diffProps=diffProps_1,diff_1$2=diff$2,diff$1=diff_1$2,diff_1=diff$1,slice$1=Array.prototype.slice,index$10=iterativelyWalk,domComment=Comment$1;Comment$1.prototype.nodeType=8,Comment$1.prototype.nodeName="#comment",Comment$1.prototype.toString=function(){return"[object Comment]"};var domText=DOMText$1;DOMText$1.prototype.type="DOMTextNode",DOMText$1.prototype.nodeType=3,DOMText$1.prototype.nodeName="#text",DOMText$1.prototype.toString=function(){return this.data},DOMText$1.prototype.replaceData=function(e,t,n){var i=this.data,r=i.substring(0,e),o=i.substring(e+t,i.length);this.data=r+n+o,this.length=this.data.length};var dispatchEvent_1=dispatchEvent$2,addEventListener_1=addEventListener$2,removeEventListener_1=removeEventListener$2,serialize=serializeNode$1,voidElements=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],domWalk$1=index$10,dispatchEvent$1=dispatchEvent_1,addEventListener$1=addEventListener_1,removeEventListener$1=removeEventListener_1,serializeNode=serialize,htmlns="http://www.w3.org/1999/xhtml",domElement=DOMElement$1;DOMElement$1.prototype.type="DOMElement",DOMElement$1.prototype.nodeType=1,DOMElement$1.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e},DOMElement$1.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[n]=e,e.parentNode=this,t},DOMElement$1.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e},DOMElement$1.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=null===t||void 0===t?-1:this.childNodes.indexOf(t);return n>-1?this.childNodes.splice(n,0,e):this.childNodes.push(e),e.parentNode=this,e},DOMElement$1.prototype.setAttributeNS=function(e,t,n){var i=null,r=t,o=t.indexOf(":");if(o>-1&&(i=t.substr(0,o),r=t.substr(o+1)),"INPUT"===this.tagName&&"type"===t)this.type=n;else{(this._attributes[e]||(this._attributes[e]={}))[r]={value:n,prefix:i}}},DOMElement$1.prototype.getAttributeNS=function(e,t){var n=this._attributes[e],i=n&&n[t]&&n[t].value;return"INPUT"===this.tagName&&"type"===t?this.type:"string"!=typeof i?null:i},DOMElement$1.prototype.removeAttributeNS=function(e,t){var n=this._attributes[e];n&&delete n[t]},DOMElement$1.prototype.hasAttributeNS=function(e,t){var n=this._attributes[e];return!!n&&t in n},DOMElement$1.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)},DOMElement$1.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)},DOMElement$1.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)},DOMElement$1.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)},DOMElement$1.prototype.removeEventListener=removeEventListener$1,DOMElement$1.prototype.addEventListener=addEventListener$1,DOMElement$1.prototype.dispatchEvent=dispatchEvent$1,DOMElement$1.prototype.focus=function(){},DOMElement$1.prototype.toString=function(){return serializeNode(this)},DOMElement$1.prototype.getElementsByClassName=function(e){var t=e.split(" "),n=[];return domWalk$1(this,function(e){if(1===e.nodeType){var i=e.className||"",r=i.split(" ");t.every(function(e){return-1!==r.indexOf(e)})&&n.push(e)}}),n},DOMElement$1.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return domWalk$1(this.childNodes,function(n){1!==n.nodeType||"*"!==e&&n.tagName.toLowerCase()!==e||t.push(n)}),t},DOMElement$1.prototype.contains=function(e){return domWalk$1(this,function(t){return e===t})||!1};var DOMElement$2=domElement,domFragment=DocumentFragment$1;DocumentFragment$1.prototype.type="DocumentFragment",DocumentFragment$1.prototype.nodeType=11,DocumentFragment$1.prototype.nodeName="#document-fragment",DocumentFragment$1.prototype.appendChild=DOMElement$2.prototype.appendChild,DocumentFragment$1.prototype.replaceChild=DOMElement$2.prototype.replaceChild,DocumentFragment$1.prototype.removeChild=DOMElement$2.prototype.removeChild,DocumentFragment$1.prototype.toString=function(){return this.childNodes.map(function(e){return String(e)}).join("")};var event$1=Event$1;Event$1.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},Event$1.prototype.preventDefault=function(){};var domWalk=index$10,Comment=domComment,DOMText=domText,DOMElement=domElement,DocumentFragment=domFragment,Event=event$1,dispatchEvent=dispatchEvent_1,addEventListener=addEventListener_1,removeEventListener=removeEventListener_1,document$4=Document$1,proto$1=Document$1.prototype;proto$1.createTextNode=function(e){return new DOMText(e,this)},proto$1.createElementNS=function(e,t){var n=null===e?null:String(e);return new DOMElement(t,this,n)},proto$1.createElement=function(e){return new DOMElement(e,this)},proto$1.createDocumentFragment=function(){return new DocumentFragment(this)},proto$1.createEvent=function(e){return new Event(e)},proto$1.createComment=function(e){return new Comment(e,this)},proto$1.getElementById=function(e){return e=String(e),domWalk(this.childNodes,function(t){if(String(t.id)===e)return t})||null},proto$1.getElementsByClassName=DOMElement.prototype.getElementsByClassName,proto$1.getElementsByTagName=DOMElement.prototype.getElementsByTagName,proto$1.contains=DOMElement.prototype.contains,
proto$1.removeEventListener=removeEventListener,proto$1.addEventListener=addEventListener,proto$1.dispatchEvent=dispatchEvent;var Document=document$4,index$8=new Document,topLevel=void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:{},minDoc=index$8,doccy;"undefined"!=typeof document?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"])||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc);var document_1=doccy,isObject$7=index$6,isHook$2=isVhook,applyProperties_1=applyProperties$1,document$6=document_1,applyProperties=applyProperties_1,isVNode$2=isVnode,isVText$2=isVtext,isWidget$3=isWidget_1,handleThunk$2=handleThunk_1,createElement_1=createElement,noChild={},domIndex_1=domIndex$1,isWidget$5=isWidget_1,updateWidget_1=updateWidget$1,applyProperties$2=applyProperties_1,isWidget$4=isWidget_1,VPatch$1=vpatch,updateWidget=updateWidget_1,patchOp$1=applyPatch$1,document$3=document_1,isArray$5=index$4,render$1=createElement_1,domIndex=domIndex_1,patchOp=patchOp$1,patch_1$2=patch$2,patch$1=patch_1$2,patch_1=patch$1,version$6=version$2,isVNode$4=isVnode,isWidget$7=isWidget_1,isThunk$3=isThunk_1,isVHook=isVhook,vnode=VirtualNode,noProperties={},noChildren=[];VirtualNode.prototype.version=version$6,VirtualNode.prototype.type="VirtualNode";var version$7=version$2,vtext=VirtualText;VirtualText.prototype.version=version$7,VirtualText.prototype.type="VirtualText";var index$14=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(i,r,o){if("[object RegExp]"!==Object.prototype.toString.call(r))return t.call(i,r,o);var s,a,l,u,c=[],p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),h=0,r=new RegExp(r.source,p+"g");for(i+="",n||(s=new RegExp("^"+r.source+"$(?!\\s)",p)),o=o===e?-1>>>0:o>>>0;(a=r.exec(i))&&!((l=a.index+a[0].length)>h&&(c.push(i.slice(h,a.index)),!n&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<i.length&&Array.prototype.push.apply(c,a.slice(1)),u=a[0].length,h=l,c.length>=o));)r.lastIndex===a.index&&r.lastIndex++;return h===i.length?!u&&r.test("")||c.push(""):c.push(i.slice(h)),c.length>o?c.slice(0,o):c}}(),split$2=index$14,classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,notClassId=/^\.|#/,parseTag_1=parseTag$1,softSetHook$1=SoftSetHook;SoftSetHook.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)};var root="undefined"!=typeof window?window:void 0!==commonjsGlobal?commonjsGlobal:{},index$18=Individual$1,Individual=index$18,oneVersion=OneVersion,OneVersionConstraint=oneVersion,MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION,index$16=EvStore$1,EvStore=index$16,evHook$1=EvHook;EvHook.prototype.hook=function(e,t){EvStore(e)[t.substr(3)]=this.value},EvHook.prototype.unhook=function(e,t){EvStore(e)[t.substr(3)]=void 0};var isArray$6=index$4,VNode$1=vnode,VText$1=vtext,isVNode$3=isVnode,isVText$3=isVtext,isWidget$6=isWidget_1,isHook$3=isVhook,isVThunk=isThunk_1,parseTag=parseTag_1,softSetHook=softSetHook$1,evHook=evHook$1,index$12=h$3,h$2=index$12,h_1=h$2,createElement$1=createElement_1,createElement_1$2=createElement$1,diff=diff_1,patch=patch_1,h$1=h_1,create$7=createElement_1$2,VNode=vnode,VText=vtext,index$2={diff:diff,patch:patch,h:h$1,create:create$7,VNode:VNode,VText:VText},h$1=index$2.h,create$7=index$2.create,diff=index$2.diff,patch=index$2.patch,Observer=function(){function e(e,t,n){this.OnNext=e,this.OnError=t||function(e){},this.OnCompleted=n||function(){}}return e.prototype[_Symbol.reflection]=function(){return{interfaces:["System.IObserver"]}},e}(),Event$2=function(){function e(e,t){this._subscriber=e,this.delegates=t||new Array}return e.prototype.Add=function(e){this._addHandler(e)},Object.defineProperty(e.prototype,"Publish",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.Trigger=function(e){iterate(function(t){return t(e)},this.delegates)},e.prototype._addHandler=function(e){this.delegates.push(e)},e.prototype._removeHandler=function(e){var t=this.delegates.indexOf(e);t>-1&&this.delegates.splice(t,1)},e.prototype.AddHandler=function(e){null==this._dotnetDelegates&&(this._dotnetDelegates=new Map);var t=function(t){e(null,t)};this._dotnetDelegates.set(e,t),this._addHandler(t)},e.prototype.RemoveHandler=function(e){if(null!=this._dotnetDelegates){var t=this._dotnetDelegates.get(e);null!=t&&(this._dotnetDelegates.delete(e),this._removeHandler(t))}},e.prototype._subscribeFromObserver=function(e){var t=this;if(this._subscriber)return this._subscriber(e);var n=e.OnNext;return this._addHandler(n),createDisposable(function(){return t._removeHandler(n)})},e.prototype._subscribeFromCallback=function(e){var t=this;return this._addHandler(e),createDisposable(function(){return t._removeHandler(e)})},e.prototype.Subscribe=function(e){return"function"==typeof e?this._subscribeFromCallback(e):this._subscribeFromObserver(e)},e}(),DomAttribute=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.DomAttribute",interfaces:["FSharpUnion"],cases:{Attribute:["string"],Event:["function"],Property:[Any]}}}}]),e}();setType("TheGamma.Html.DomAttribute",DomAttribute);var DomNode=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.DomNode",interfaces:["FSharpUnion"],cases:{Delayed:["string",e,"function"],Element:["string","string",FableArray(Tuple(["string",DomAttribute])),FableArray(e),Option("function")],Part:["function"],Text:["string"]}}}}]),e}();setType("TheGamma.Html.DomNode",DomNode);var counter=0,El=function(){function e(t){_classCallCheck(this,e),this.ns=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.El",properties:{Namespace:"string"}}}}]),_createClass(e,[{key:"delayed",value:function(e,t,n){return new DomNode("Delayed",[e,t,n])}},{key:"part",value:function(e,t){var n=new Event$2,i=e,r=null,o=null,s=function(){var e=[r,o],t=null!=e[0]&&null!=e[1]?[0,e[0],e[1]]:[1];switch(t[0]){case 0:!function(e){renderTo(t[1],e)}(t[2](i))}};return add$5(function(e){i=t(i)(e),s()},n.Publish),[function(e){n.Trigger(e)},function(e){return o=e,new DomNode("Part",[function(e){r=e,s()}])}]}},{key:"Namespace",get:function(){return this.ns}}],[{key:"op_Dynamic",value:function(e,t){return function(n){return function(i){var r="chosen"!==t?[t,null]:["select",function(e){jQuery(e).chosen();var t=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(n);!(t=(o=s.next()).done);t=!0){var a=o.value;"Event"===a[1].Case&&jQuery(e).on(a[0],function(){a[1].Fields[0](e)(event)})}}catch(e){i=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(i)throw r}}}];return new DomNode("Element",[e.Namespace,r[0],_Array$from(n),_Array$from(i),r[1]])}}}}]),e}();setType("TheGamma.Html.El",El);var h$$1=new El(null),s=new El("http://www.w3.org/2000/svg"),html=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.html",properties:{}}}}],[{key:"img",value:function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("img")(ofArray$1([op_EqualsGreater("src",e)]))(new List$1)}}]),e}();setType("TheGamma.html",html);var list=function(){function e(t,n,i,r){_classCallCheck(this,e),this.data=t,this.listTag=n,this.elementTag=i,this.itemFormat=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.list",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:GenericParam("k"),v:GenericParam("v")}),listTag:"string",elementTag:"string",itemFormat:"function"}}}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data.data),function(i){var r=toList(delay(function(){return collect(function(e){return singleton(fsFormat("<%s>%s</%s>")(function(e){return e})(t.elementTag)(toString$2(t.itemFormat(e[1])))(t.elementTag))},i)}));return document.getElementById(e).innerHTML=fsFormat("<%s>%s</%s>")(function(e){return e})(t.listTag)(join("",r))(t.listTag),n.Zero()})})}(singleton$2))}},{key:"setTags",value:function(t,n){return new e(this.data,t,n,this.itemFormat)}},{key:"setFormat",value:function(t){return new e(this.data,this.listTag,this.elementTag,t)}}],[{key:"create",value:function(t){return new e(t,"ol","li",function(e){return e})}}]),e}();setType("TheGamma.list",list);var table=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.data=t,this.showKey=n,this.emptyText=i,this.columnFormatters=r,this.hiddenColumns=o,this.addedColumns=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.table",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:GenericParam("k"),v:GenericParam("v")}),showKey:Option("boolean"),emptyText:"string",columnFormatters:makeGeneric(FableMap,{Key:"string",Value:Any}),hiddenColumns:makeGeneric(FableSet,{T:"string"}),addedColumns:makeGeneric(List$1,{T:Tuple(["string","function"])})}}}},{key:"set",value:function(t,n,i){var r=this.data.set(this.data.data,null,null,null!=t?t:this.data.seriesName),o=null!=i?i:this.emptyText;return new e(r,null==n?this.showKey:n,o,this.columnFormatters,this.hiddenColumns,this.addedColumns)}},{key:"setFormat",value:function(t,n){var i=add$3(t,n,this.columnFormatters);return new e(this.data,this.showKey,this.emptyText,i,this.hiddenColumns,this.addedColumns)}},{key:"hideColumns",value:function(t){var n=create$5(t,new GenericComparer(compare));return new e(this.data,this.showKey,this.emptyText,this.columnFormatters,n,this.addedColumns)}},{key:"addColumn",value:function(t,n){var i=new List$1([t,n],this.addedColumns);return new e(this.data,this.showKey,this.emptyText,this.columnFormatters,this.hiddenColumns,i)}},{key:"render",value:function(){var e=this,t=function(e){return function(t){return function(n){return function(i){var r=function(e){return"Text"===e.Case?function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("title",e.Fields[0])]))(ofArray$1([text(e.Fields[0])])):e};return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("tr")(new List$1)(toList(delay(function(){return append(e?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)(t)(new List$1)(ofArray$1([r(text(n))]))):empty(),delay(function(){return map$3(function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)(t)(new List$1)(ofArray$1([r(e)]))},i)}))})))}}}},n=function(n){return function(i){return function(r){return function(o){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("table")(ofArray$1([op_EqualsGreater("class","thegamma-table")]))(toList(delay(function(){return append(isNullOrWhiteSpace(e.data.seriesName)?empty():singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("caption")(new List$1)(ofArray$1([text(e.data.seriesName)]))),delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("thead")(new List$1)(ofArray$1([t(n)("th")(i)(r)]))),delay(function(){return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("tbody")(new List$1)(o))}))}))})))}}}},i=function(e){if(toList(delay(function(){return map$3(function(e){return e.key},function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(e))})).Equals(ofArray$1(["data","keyName","valueName","seriesName"]))){var t=null;return e.data.Then(function(e){t=e}),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$1)(ofArray$1(t.map(function(e){return e[1]})))}return text(toString$2(e))};return function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){return r.Bind(Async_AwaitFuture_Static(e.data.data),function(o){if(0===o.length)return r.Return(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(new List$1)(ofArray$1([text(e.emptyText)]))])));var s=function(t){return function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(t).filter(function(t){return!e.hiddenColumns.has(t.key)})},a=head(o),l=toList(delay(function(){return append("object"==_typeof(a[1])?map$3(function(e){return text(e.key)},s(a[1])):singleton(text(e.data.valueName)),delay(function(){return collect(function(e){return singleton(text(e[0]))},e.addedColumns)}))})),u=null!=e.showKey?e.showKey:!("object"==_typeof(a[1]));return r.Return(function(e){var t=n(e);return function(e){var n=t(e);return function(e){var t=n(e);return function(e){return t(e)}}}}(u)(e.data.keyName)(l)(toList(delay(function(){return collect(function(n){return singleton(function(){var r=toList(delay(function(){return append("object"==_typeof(n[1])?collect(function(t){return singleton(e.columnFormatters.has(t.key)?text(e.columnFormatters.get(t.key)(t.value)):t.value instanceof Date?text(t.value.toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric"})+", "+t.value.toLocaleString("en-US",{day:"numeric",year:"numeric",month:"short"})):"number"!=typeof t.value?text(toString$2(t.value)):isNaN(t.value)?text(""):text(niceNumber(t.value,2)))},s(n[1])):singleton(n[1]instanceof Date?text(n[1].toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric"})+", "+n[1].toLocaleString("en-US",{day:"numeric",year:"numeric",month:"short"})):"number"!=typeof n[1]?text(toString$2(n[1])):isNaN(n[1])?text(""):text(niceNumber(n[1],2))),delay(function(){return collect(function(e){return singleton(i(e[1](n[1])))},e.addedColumns)}))}));return function(e){var n=t(e);return function(e){var t=n(e);return function(e){var n=t(e);return function(e){return n(e)}}}}(u)("td")(n[0])(r)}())},o)}))))})}),function(e){return Log.exn("live","Getting data for table failed: %O",e),r.Return(function(){throw e}())})})}(singleton$2)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Bind(t.render(),function(t){return renderTo(document.getElementById(e),t),n.Zero()})})}(singleton$2))}}],[{key:"create",value:function(t){var n=create$5(null,new GenericComparer(compare));return new e(t,null,"No data available",create$6(null,new GenericComparer(compare)),n,new List$1)}}]),e}();setType("TheGamma.table",table);var placeholder=function(){function e(t){_classCallCheck(this,e),this.message=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.placeholder",properties:{}}}}]),_createClass(e,[{key:"show",value:function(e){renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(new List$1)(ofArray$1([text(this.message)]))])))}}],[{key:"create",value:function(t){return new e(t)}}]),e}();setType("TheGamma.placeholder",placeholder);var $export$10=_export;$export$10($export$10.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}});var log10$1=_core.Math.log10,log10=createCommonjsModule(function(e){e.exports={default:log10$1,__esModule:!0}}),_Math$log=unwrapExports(log10),Color=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Color",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{HTML:["string"],RGB:["number","number","number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Color",Color);var Width=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Width",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Pixels:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Width",Width);var FillStyle=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.FillStyle",interfaces:["FSharpUnion","System.IEquatable"],cases:{LinearGradient:[Interface("System.Collections.Generic.IEnumerable")],Solid:[Tuple(["number",Color])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.FillStyle",FillStyle);var _Number=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Number",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Integer:["number"],Percentage:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Number",_Number);var HorizontalAlign=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.HorizontalAlign",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Center:[],End:[],Start:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.HorizontalAlign",HorizontalAlign);var VerticalAlign=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.VerticalAlign",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Baseline:[],Hanging:[],Middle:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.VerticalAlign",VerticalAlign);var continuous=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.continuous",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{CO:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.continuous",continuous);var categorical=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.categorical",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{CA:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.categorical",categorical);var Value=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Value",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{CAR:[makeGeneric(categorical,{u:GenericParam("u")}),"number"],COV:[makeGeneric(continuous,{u:GenericParam("u")})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Value",Value);var Scale=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Scale",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Categorical:[FableArray(makeGeneric(categorical,{u:GenericParam("v")}))],Continuous:[makeGeneric(continuous,{u:GenericParam("v")}),makeGeneric(continuous,{u:GenericParam("v")})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Scale",Scale);var Style=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.StrokeColor=t,this.StrokeWidth=n,this.StrokeDashArray=i,this.Fill=r,this.Animation=o,this.Font=s,this.Cursor=a,this.FormatAxisXLabel=l,this.FormatAxisYLabel=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Style",interfaces:["FSharpRecord"],properties:{StrokeColor:Tuple(["number",Color]),StrokeWidth:Width,StrokeDashArray:Interface("System.Collections.Generic.IEnumerable"),Fill:FillStyle,Animation:Option(Tuple(["number","string","function"])),Font:"string",Cursor:"string",FormatAxisXLabel:"function",FormatAxisYLabel:"function"}}}}]),e}();setType("TheGamma.Interactive.Compost.Style",Style);var EventHandler=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.EventHandler",interfaces:["FSharpUnion"],cases:{Click:["function"],MouseDown:["function"],MouseLeave:["function"],MouseMove:["function"],MouseUp:["function"],TouchEnd:["function"],TouchMove:["function"],TouchStart:["function"]}}}}]),e}();setType("TheGamma.Interactive.Compost.EventHandler",EventHandler);var Orientation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Orientation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Horizontal:[],Vertical:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Orientation",Orientation);var Shape=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Shape",interfaces:["FSharpUnion"],cases:{AutoScale:["boolean","boolean",makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Axes:["boolean","boolean","boolean","boolean",makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Bubble:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),"number","number"],InnerScale:[Option(Tuple([makeGeneric(continuous,{u:GenericParam("vx")}),makeGeneric(continuous,{u:GenericParam("vx")})])),Option(Tuple([makeGeneric(continuous,{u:GenericParam("vy")}),makeGeneric(continuous,{u:GenericParam("vy")})])),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Interactive:[Interface("System.Collections.Generic.IEnumerable"),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Layered:[Interface("System.Collections.Generic.IEnumerable")],Line:[Interface("System.Collections.Generic.IEnumerable")],Offset:[Tuple(["number","number"]),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],OuterScale:[Option(makeGeneric(Scale,{v:GenericParam("vx")})),Option(makeGeneric(Scale,{v:GenericParam("vy")})),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Padding:[Tuple(["number","number","number","number"]),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Shape:[Interface("System.Collections.Generic.IEnumerable")],Stack:[Orientation,Interface("System.Collections.Generic.IEnumerable")],Style:["function",makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Text:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),VerticalAlign,HorizontalAlign,"number","string"]}}}}]),e}();setType("TheGamma.Interactive.Compost.Shape",Shape);var Svg=function(e){var t=e.StringBuilder=function(){function e(){_classCallCheck(this,e),this.strs=new List$1}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.StringBuilder",properties:{}}}}]),_createClass(e,[{key:"Append",value:function(e){this.strs=new List$1(e,this.strs)}},{key:"ToString",value:function(){return join("",reverse$1(this.strs))}}]),e}();setType("TheGamma.Interactive.Compost.Svg.StringBuilder",t);var n=e.PathSegment=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.PathSegment",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{LineTo:[Tuple(["number","number"])],MoveTo:[Tuple(["number","number"])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Svg.PathSegment",n);var i=e.Svg=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.Svg",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Combine:[FableArray(e)],Ellipse:[Tuple(["number","number"]),Tuple(["number","number"]),"string"],Empty:[],Path:[FableArray(n),"string"],Rect:[Tuple(["number","number"]),Tuple(["number","number"]),"string"],Text:[Tuple(["number","number"]),"string","number","string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Svg.Svg",i);var r=e.mapSvg=function(e,t){return"Combine"===t.Case?new i("Combine",[t.Fields[0].map(function(t){return r(e,t)})]):e(t)},o=e.formatPath=function(e){var n=new t,i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(e);!(i=(s=a.next()).done);i=!0){var l=s.value;if("LineTo"===l.Case){var u=l.Fields[0][1],c=l.Fields[0][0];n.Append("L"+String(c)+" "+String(u)+" ")}else{var p=l.Fields[0][1],h=l.Fields[0][0];n.Append("M"+String(h)+" "+String(p)+" ")}}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return toString$2(n)};setType("TheGamma.Interactive.Compost.Svg.RenderingContext",e.RenderingContext=function(){function e(t){_classCallCheck(this,e),this.Definitions=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.RenderingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Definitions:FableArray(DomNode)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}());var a=e.renderSvg=function(e,t){return delay(function(){if("Text"===t.Case){var n=t.Fields[0][1],i=t.Fields[0][0],r=toList(delay(function(){return append(singleton(op_EqualsGreater("style",t.Fields[3])),delay(function(){return 0===t.Fields[2]?append(singleton(op_EqualsGreater("x",String(i))),delay(function(){return singleton(op_EqualsGreater("y",String(n)))})):append(singleton(op_EqualsGreater("x","0")),delay(function(){return append(singleton(op_EqualsGreater("y","0")),delay(function(){return singleton(op_EqualsGreater("transform",fsFormat("translate(%f,%f) rotate(%f)")(function(e){return e})(i)(n)(t.Fields[2])))}))}))}))}));return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("text")(r)(ofArray$1([text(t.Fields[1])])))}if("Combine"===t.Case)return collect(function(t){return a(e,t)},t.Fields[0]);if("Ellipse"===t.Case){var l=t.Fields[1][1],u=t.Fields[1][0],c=t.Fields[0][1],p=t.Fields[0][0],h=ofArray$1([op_EqualsGreater("cx",String(p)),op_EqualsGreater("cy",String(c)),op_EqualsGreater("rx",String(u)),op_EqualsGreater("ry",String(l)),op_EqualsGreater("style",t.Fields[2])]);return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("ellipse")(h)(new List$1))}if("Rect"===t.Case){var d=t.Fields[1][1],f=t.Fields[0][1],m=t.Fields[1][0],y=t.Fields[0][0],g=[y<m?y:m,f<d?f:d],v=[Math.abs(y-m),Math.abs(f-d)],C=ofArray$1([op_EqualsGreater("x",String(g[0])),op_EqualsGreater("y",String(g[1])),op_EqualsGreater("width",String(v[0])),op_EqualsGreater("height",String(v[1])),op_EqualsGreater("style",t.Fields[2])]);return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("rect")(C)(new List$1))}if("Path"===t.Case){var w=ofArray$1([op_EqualsGreater("d",o(t.Fields[0])),op_EqualsGreater("style",t.Fields[1])]);return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("path")(w)(new List$1))}return empty()})},l=e.formatColor=function(e){return"HTML"===e.Case?e.Fields[0]:fsFormat("rgb(%d, %d, %d)")(function(e){return e})(e.Fields[0])(e.Fields[1])(e.Fields[2])},u=e.formatNumber=function(e){return"Percentage"===e.Case?String(e.Fields[0])+"%":String(e.Fields[0])},c=e.formatStyle=function(e,t){var n=void 0;if(null==t.Animation)n=[t,""];else{var i=t.Animation[0],r=t.Animation[1],o=t.Animation[2],a="anim_"+replace$$1(function(){return newGuid()}(),"-",""),p=c(e,function(){return new Style(t.StrokeColor,t.StrokeWidth,t.StrokeDashArray,t.Fill,null,t.Font,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)}()),h=c(e,function(){var e=o(t);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,null,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)}());!function(t){e.push(t)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("style")(new List$1)(ofArray$1([text(fsFormat("@keyframes %s { from { %s } to { %s } }")(function(e){return e})(a)(p)(h))]))),n=[o(t),fsFormat("animation: %s %dms %s; ")(function(e){return e})(a)(i)(r)]}return n[1]+join("",toList(delay(function(){return map$3(function(e){return"cursor:"+e+";"},split$$1(n[0].Cursor,","))})))+"font:"+n[0].Font+";"+fsFormat("stroke-opacity:%f; stroke-width:%dpx; stroke:%s; ")(function(e){return e})(n[0].StrokeColor[0])(n[0].StrokeWidth.Fields[0])(l(n[0].StrokeColor[1]))+(isEmpty(n[0].StrokeDashArray)?"":"stroke-dasharray:"+join(",",map$3(function(e){return u(e)},n[0].StrokeDashArray))+";")+("Solid"===n[0].Fill.Case?function(){var e=n[0].Fill.Fields[0][0],t=n[0].Fill.Fields[0][1];return fsFormat("fill-opacity:%f; fill:%s; ")(function(e){return e})(e)(l(t))}():function(){var t="gradient_"+replace$$1(function(){return newGuid()}(),"-","");return function(t){e.push(t)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("linearGradient")(ofArray$1([op_EqualsGreater("id",t)]))(toList(delay(function(){return collect(function(e){var t=e[1][0],n=e[1][1];return singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("stop")(ofArray$1([op_EqualsGreater("offset",String(e[0])+"%"),op_EqualsGreater("stop-color",l(n)),op_EqualsGreater("stop-opacity",String(t))]))(new List$1))},n[0].Fill.Fields[0])})))),fsFormat("fill:url(#%s)")(function(e){return e})(t)}())};return e}({}),Scales=function(e){var t=e.ScaledShapeInner=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Scales.ScaledShapeInner",interfaces:["FSharpUnion"],cases:{ScaledBubble:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),"number","number"],ScaledInteractive:[Interface("System.Collections.Generic.IEnumerable"),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledLayered:[FableArray(makeGeneric(n,{vx:GenericParam("vx"),
vy:GenericParam("vy")}))],ScaledLine:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ScaledOffset:[Tuple(["number","number"]),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledOuterScale:[Option(makeGeneric(Scale,{v:GenericParam("vx")})),Option(makeGeneric(Scale,{v:GenericParam("vy")})),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledPadding:[Tuple(["number","number","number","number"]),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledShape:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ScaledStack:[Orientation,FableArray(makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ScaledStyle:["function",makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledText:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),VerticalAlign,HorizontalAlign,"number","string"]}}}}]),e}();setType("TheGamma.Interactive.Compost.Scales.ScaledShapeInner",t);var n=e.ScaledShape=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Scales.ScaledShape",interfaces:["FSharpUnion"],cases:{Scaled:[Tuple([makeGeneric(Scale,{v:GenericParam("vx")}),makeGeneric(Scale,{v:GenericParam("vy")})]),Tuple([makeGeneric(Scale,{v:GenericParam("vx")}),makeGeneric(Scale,{v:GenericParam("vy")})]),makeGeneric(t,{vx:GenericParam("vx"),vy:GenericParam("vy")})]}}}}]),e}();setType("TheGamma.Interactive.Compost.Scales.ScaledShape",n);var i=e.getExtremes=function(e){return"Categorical"===e.Case?[new Value("CAR",[e.Fields[0][0],0]),new Value("CAR",[e.Fields[0][e.Fields[0].length-1],1])]:[new Value("COV",[e.Fields[0]]),new Value("COV",[e.Fields[1]])]},r=e.calculateMagnitudeAndRange=function(e,t){var n=Math.pow(10,round(_Math$log(t-e))),i=n/2;return[i,[Math.floor(e/i)*i,Math.ceil(t/i)*i]]},o=(e.decimalPoints=function(e,t){var n=[e,t],i=r(n[0],n[1]);return 0>Math.ceil(-_Math$log(i[0]))?0:Math.ceil(-_Math$log(i[0]))},e.adjustRange=function(e,t){var n=[e,t];return r(n[0],n[1])[1]}),s=e.adjustRangeUnits=function(e,t){var n=o(e,t);return[n[0],n[1]]},a=e.toArray=function(e){return _Array$from(e)},l=e.generateSteps=function(e,t,n,i){var o=r(n,i),s=o[1][0],l=o[1][1],u=ofArray$1([.2,.5,1,2,5,10,20,40,50,60,80,100]),c=map$3(function(e){return o[0]/e},u),p=tryHead(filter(function(t){return(i-n)/t>=e},c)),h=null!=p?p:o[0]/100;return a(delay(function(){return collect(function(e){return e>=n&&e<=i?singleton(e):empty()},rangeStep(s,h*t,l))}))},u=e.generateAxisSteps=function(e){if("Categorical"===e.Case)return _Array$from(delay(function(){return collect(function(e){return singleton(new Value("CAR",[new categorical("CA",[e.Fields[0]]),.5]))},e.Fields[0])}));var t=e.Fields[0].Fields[0],n=e.Fields[1].Fields[0];return _Array$from(map$3(function(e){return new Value("COV",[new continuous("CO",[e])])},l(6,1,t,n)))},c=e.generateAxisLabels=function(e,t){var n=t;if("Categorical"===t.Case)return _Array$from(delay(function(){return collect(function(t){return singleton([new Value("CAR",[new categorical("CA",[t.Fields[0]]),.5]),e(n)(new Value("CAR",[new categorical("CA",[t.Fields[0]]),.5]))])},t.Fields[0])}));var i=t.Fields[0].Fields[0],r=t.Fields[1].Fields[0];return _Array$from(map$3(function(t){return[new Value("COV",[new continuous("CO",[t])]),e(n)(new Value("COV",[new continuous("CO",[t])]))]},l(6,2,i,r)))},p=e.unionScales=function(e,t){var n=[e,t],i="Categorical"===n[0].Case?"Categorical"===n[1].Case?[1,n[0].Fields[0],n[1].Fields[0]]:[2]:"Continuous"===n[1].Case?[0,n[0].Fields[1],n[1].Fields[1],n[0].Fields[0],n[1].Fields[0]]:[2];switch(i[0]){case 0:return new Scale("Continuous",[i[3].CompareTo(i[4])<0?i[3]:i[4],i[1].CompareTo(i[2])>0?i[1]:i[2]]);case 1:return new Scale("Categorical",[_Array$from(distinct(i[1].concat(i[2])))]);case 2:throw new Error("Cannot union continuous with categorical")}},h=e.replaceScales=function(e,i,r){var o=[e,i];switch(("ScaledText"===r.Fields[2].Case?[0]:"ScaledBubble"===r.Fields[2].Case?[0]:"ScaledShape"===r.Fields[2].Case?[0]:"ScaledOuterScale"===r.Fields[2].Case?[1]:"ScaledOffset"===r.Fields[2].Case?[2]:"ScaledStyle"===r.Fields[2].Case?[3]:"ScaledPadding"===r.Fields[2].Case?[4]:"ScaledInteractive"===r.Fields[2].Case?[5]:"ScaledLayered"===r.Fields[2].Case?[6]:"ScaledStack"===r.Fields[2].Case?[7]:[0])[0]){case 0:case 1:return new n("Scaled",[o,r.Fields[1],r.Fields[2]]);case 2:return new n("Scaled",[o,r.Fields[1],new t("ScaledOffset",[r.Fields[2].Fields[0],h(o[0],o[1],r.Fields[2].Fields[1])])]);case 3:return new n("Scaled",[o,r.Fields[1],new t("ScaledStyle",[r.Fields[2].Fields[0],h(o[0],o[1],r.Fields[2].Fields[1])])]);case 4:return new n("Scaled",[o,r.Fields[1],new t("ScaledPadding",[r.Fields[2].Fields[0],h(o[0],o[1],r.Fields[2].Fields[1])])]);case 5:return new n("Scaled",[o,r.Fields[1],new t("ScaledInteractive",[r.Fields[2].Fields[0],h(o[0],o[1],r.Fields[2].Fields[1])])]);case 6:return new n("Scaled",[o,r.Fields[1],new t("ScaledLayered",[r.Fields[2].Fields[0].map(function(e){return h(o[0],o[1],e)})])]);case 7:return new n("Scaled",[o,r.Fields[1],new t("ScaledStack",[r.Fields[2].Fields[0],r.Fields[2].Fields[1].map(function(e){return h(o[0],o[1],e)})])])}},d=e.calculateShapeScale=function(e){var t=fold(function(e,t){var n=[e,t],i="Choice2Of3"===n[0].Case?"COV"===n[1].Case?[1,n[1].Fields[0].Fields[0],n[0].Fields[0]]:[4]:"Choice3Of3"===n[0].Case?"CAR"===n[1].Case?[3,n[1].Fields[0].Fields[0],n[0].Fields[0]]:[4]:"CAR"===n[1].Case?[2,n[1].Fields[0].Fields[0]]:[0,n[1].Fields[0].Fields[0]];switch(i[0]){case 0:return new Choice("Choice2Of3",[ofArray$1([i[1]])]);case 1:return new Choice("Choice2Of3",[new List$1(i[1],i[2])]);case 2:return new Choice("Choice3Of3",[ofArray$1([i[1]])]);case 3:return new Choice("Choice3Of3",[new List$1(i[1],i[2])]);case 4:throw new Error("Values with mismatching scales")}},new Choice("Choice1Of3",[null]),e);if("Choice2Of3"===t.Case)return new Scale("Continuous",[new continuous("CO",[reduce(function(e,t){return Math.min(e,t)},t.Fields[0])]),new continuous("CO",[reduce(function(e,t){return Math.max(e,t)},t.Fields[0])])]);if("Choice3Of3"===t.Case)return new Scale("Categorical",[_Array$from(distinct(_Array$from(delay(function(){return map$3(function(e){return new categorical("CA",[e])},reverse$1(t.Fields[0]))}))))]);throw new Error("No values for calculating a scale")},f=e.calculateShapeScales=function(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return e[1]});return[d(t),d(n)]},m=e.calculateScales=function(e,r){var o=function(t){return m(e,t)};if("InnerScale"===r.Case){var a=o(r.Fields[2]),l=a.Fields[0][1],d=a.Fields[0][0],y=[null!=r.Fields[0]?function(e){return new Scale("Continuous",[e[0],e[1]])}(r.Fields[0]):d,null!=r.Fields[1]?function(e){return new Scale("Continuous",[e[0],e[1]])}(r.Fields[1]):l];return h(y[0],y[1],new n("Scaled",[y,y,a.Fields[2]]))}if("AutoScale"===r.Case){var g=o(r.Fields[2]),v=g.Fields[0][1],C=g.Fields[0][0],w=function(e){if("Continuous"===e.Case){var t=e.Fields[0].Fields[0],n=e.Fields[1].Fields[0],i=s(t,n);return new Scale("Continuous",[new continuous("CO",[i[0]]),new continuous("CO",[i[1]])])}return e},b=[r.Fields[0]?w(C):C,r.Fields[1]?w(v):v];return h(b[0],b[1],new n("Scaled",[b,b,g.Fields[2]]))}if("Offset"===r.Case){var S=o(r.Fields[1]);return new n("Scaled",[S.Fields[0],S.Fields[0],new t("ScaledOffset",[r.Fields[0],new n("Scaled",[S.Fields[0],S.Fields[0],S.Fields[2]])])])}if("Style"===r.Case){var T=function(e){return function(t){return m(e,t)}}(r.Fields[0](e))(r.Fields[1]);return new n("Scaled",[T.Fields[0],T.Fields[0],new t("ScaledStyle",[r.Fields[0],new n("Scaled",[T.Fields[0],T.Fields[0],T.Fields[2]])])])}if("Padding"===r.Case){var A=o(r.Fields[1]);return new n("Scaled",[A.Fields[0],A.Fields[0],new t("ScaledPadding",[r.Fields[0],new n("Scaled",[A.Fields[0],A.Fields[0],A.Fields[2]])])])}if("Bubble"===r.Case){var x=function(e){return"CAR"===e.Case?new Scale("Categorical",[[e.Fields[0]]]):new Scale("Continuous",[e.Fields[0],e.Fields[0]])},$=[x(r.Fields[0]),x(r.Fields[1])];return new n("Scaled",[$,$,new t("ScaledBubble",[r.Fields[0],r.Fields[1],r.Fields[2],r.Fields[3]])])}if("Text"===r.Case){var k=function(e){return"CAR"===e.Case?new Scale("Categorical",[[e.Fields[0]]]):new Scale("Continuous",[e.Fields[0],e.Fields[0]])},F=[k(r.Fields[0]),k(r.Fields[1])];return new n("Scaled",[F,F,new t("ScaledText",[r.Fields[0],r.Fields[1],r.Fields[2],r.Fields[3],r.Fields[4],r.Fields[5]])])}if("Line"===r.Case){var E=_Array$from(r.Fields[0]),_=f(E);return new n("Scaled",[_,_,new t("ScaledLine",[E])])}if("Shape"===r.Case){var O=_Array$from(r.Fields[0]),P=f(O);return new n("Scaled",[P,P,new t("ScaledShape",[O])])}if("Axes"===r.Case){var L=o(r.Fields[4]),N=L.Fields[0][1],H=L.Fields[0][0],G=[i(H),i(N)],I=G[1][0],D=G[0][0],R=G[1][1],M=G[0][1],B=function(e){return function(t){return function(n){return function(i){return new Shape("Style",[function(i){var r=new FillStyle("Solid",[[1,new Color("HTML",["transparent"])]]),o=new Width("Pixels",[n]);return new Style([t,new Color("HTML",[e])],o,i.StrokeDashArray,r,i.Animation,i.Font,i.Cursor,i.FormatAxisXLabel,i.FormatAxisYLabel)},i])}}}},V=function(e){return function(t){return new Shape("Style",[function(t){var n=new FillStyle("Solid",[[1,new Color("HTML",["black"])]]);return new Style([0,new Color("HTML",["transparent"])],t.StrokeWidth,t.StrokeDashArray,n,t.Animation,e,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},t])}},q=o(new Shape("Layered",[toList(delay(function(){return append(map$3(function(e){return B("#e4e4e4")(1)(1)(new Shape("Line",[ofArray$1([[e,I],[e,R]])]))},u(H)),delay(function(){return append(map$3(function(e){return B("#e4e4e4")(1)(1)(new Shape("Line",[ofArray$1([[D,e],[M,e]])]))},u(N)),delay(function(){return append(r.Fields[0]?append(singleton(B("black")(1)(2)(new Shape("Line",[ofArray$1([[D,R],[M,R]])]))),delay(function(){return collect(function(e){return singleton(V("9pt sans-serif")(new Shape("Offset",[[0,-10],new Shape("Text",[e[0],R,new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),0,e[1]])])))},c(e.FormatAxisXLabel,H))})):empty(),delay(function(){return append(r.Fields[1]?append(singleton(B("black")(1)(2)(new Shape("Line",[ofArray$1([[M,R],[M,I]])]))),delay(function(){return collect(function(e){return singleton(V("9pt sans-serif")(new Shape("Offset",[[10,0],new Shape("Text",[M,e[0],new VerticalAlign("Middle",[]),new HorizontalAlign("Start",[]),0,e[1]])])))},c(e.FormatAxisYLabel,N))})):empty(),delay(function(){return append(r.Fields[2]?append(singleton(B("black")(1)(2)(new Shape("Line",[ofArray$1([[D,I],[M,I]])]))),delay(function(){return collect(function(e){return singleton(V("9pt sans-serif")(new Shape("Offset",[[0,10],new Shape("Text",[e[0],I,new VerticalAlign("Hanging",[]),new HorizontalAlign("Center",[]),0,e[1]])])))},c(e.FormatAxisXLabel,H))})):empty(),delay(function(){return append(r.Fields[3]?append(singleton(B("black")(1)(2)(new Shape("Line",[ofArray$1([[D,R],[D,I]])]))),delay(function(){return collect(function(e){return singleton(V("9pt sans-serif")(new Shape("Offset",[[-10,0],new Shape("Text",[D,e[0],new VerticalAlign("Middle",[]),new HorizontalAlign("End",[]),0,e[1]])])))},c(e.FormatAxisYLabel,N))})):empty(),delay(function(){return singleton(r.Fields[4])}))}))}))}))}))}))}))]));if("ScaledLayered"===q.Fields[2].Case){var z=q.Fields[2].Fields[0],j=[r.Fields[0]?30:0,r.Fields[1]?50:0,r.Fields[2]?30:0,r.Fields[3]?50:0];return new n("Scaled",[L.Fields[0],L.Fields[0],new t("ScaledPadding",[j,new n("Scaled",[L.Fields[0],L.Fields[0],new t("ScaledLayered",[z.map(function(e){return h(L.Fields[0][0],L.Fields[0][1],e)})])])])])}throw new Error("calculateScales: processing layered shape did not return layered shape")}if("Stack"===r.Case){var K=_Array$from(r.Fields[1]),W=function(e){return e.map(o)}(K),U=W.map(function(e){return e.Fields[0][0]}),Y=W.map(function(e){return e.Fields[0][1]}),X=[U.reduce(function(e,t){return p(e,t)}),Y.reduce(function(e,t){return p(e,t)})],Z=[r.Fields[0],X];switch(("Vertical"===Z[0].Case?"Continuous"===Z[1][1].Case?[1]:[2]:"Continuous"===Z[1][0].Case?[0]:[2])[0]){case 0:throw new Error("Horizontal stacking of continuous axes is not supported");case 1:throw new Error("Vertical stacking of continuous axes is not supported")}return h(X[0],X[1],new n("Scaled",[X,X,new t("ScaledStack",[r.Fields[0],W])]))}if("Layered"===r.Case){var Q=_Array$from(r.Fields[0]),J=function(e){return e.map(o)}(Q),ee=J.map(function(e){return e.Fields[0][0]}),te=J.map(function(e){return e.Fields[0][1]}),ne=[ee.reduce(function(e,t){return p(e,t)}),te.reduce(function(e,t){return p(e,t)})];return h(ne[0],ne[1],new n("Scaled",[ne,ne,new t("ScaledLayered",[J])]))}if("Interactive"===r.Case){var ie=o(r.Fields[1]);return new n("Scaled",[ie.Fields[0],ie.Fields[0],new t("ScaledInteractive",[r.Fields[0],new n("Scaled",[ie.Fields[0],ie.Fields[0],ie.Fields[2]])])])}var re=o(r.Fields[2]),oe=re.Fields[0][1],se=re.Fields[0][0],ae=[defaultArg(r.Fields[0],se),defaultArg(r.Fields[1],oe)];return new n("Scaled",[ae,re.Fields[1],new t("ScaledOuterScale",[r.Fields[0],r.Fields[1],re])])};return e}({}),Projections=function(e){var t=e.Projection=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Projections.Projection",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Padding:[Tuple(["number","number","number","number"]),Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),makeGeneric(Value,{u:GenericParam("vy")})]),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy"),ux:GenericParam("ux"),uy:GenericParam("uy")})],Rescale:[Tuple(["number","number"]),Tuple(["number","number"]),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy"),ux:GenericParam("ux"),uy:GenericParam("uy")})],Scale:[Tuple(["number","number"]),Tuple(["number","number"])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Projections.Projection",t);var n=e.ProjectedShapeInner=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Projections.ProjectedShapeInner",interfaces:["FSharpUnion"],cases:{ProjectedBubble:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),"number","number"],ProjectedInteractive:[Interface("System.Collections.Generic.IEnumerable"),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ProjectedLayered:[FableArray(makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ProjectedLine:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ProjectedOffset:[Tuple(["number","number"]),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ProjectedShape:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ProjectedStack:[Orientation,FableArray(makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ProjectedStyle:["function",makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ProjectedText:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),VerticalAlign,HorizontalAlign,"number","string"]}}}}]),e}();setType("TheGamma.Interactive.Compost.Projections.ProjectedShapeInner",n);var i=e.ProjectedShape=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Projections.ProjectedShape",interfaces:["FSharpUnion"],cases:{Projected:[makeGeneric(t,{vx:GenericParam("vx"),vy:GenericParam("vy"),ux:Any,uy:Any}),Tuple([makeGeneric(Scale,{v:GenericParam("vx")}),makeGeneric(Scale,{v:GenericParam("vy")})]),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})]}}}}]),e}();setType("TheGamma.Interactive.Compost.Projections.ProjectedShape",i);var r=e.scaleOne=function(e,t,n,i){var r=[n,i];if("Continuous"===r[0].Case){if("CAR"===r[1].Case)throw new Error("Cannot project categorical value on a continuous scale.");return new continuous("CO",[(r[1].Fields[0].Fields[0]-r[0].Fields[0].Fields[0])/(r[0].Fields[1].Fields[0]-r[0].Fields[0].Fields[0])*(t-e)+e])}if("COV"===r[1].Case)throw new Error("Cannot project continuous value on a categorical scale.");var o=(t-e)/r[0].Fields[0].length,s=r[0].Fields[0].findIndex(function(e){return r[1].Fields[0].Fields[0]===e.Fields[0]}),a=s+r[1].Fields[1];return new continuous("CO",[e+a*o])},o=e.project=function(e,t,n,i,s){var a=[n,i],l=[s,a];if("Rescale"===l[0].Case){var u=l[0].Fields[1][0],c=l[0].Fields[0][0],p=l[0].Fields[1][1],h=l[0].Fields[0][1],d=l[0].Fields[2],f=[Scales.getExtremes(e),Scales.getExtremes(t)],m=f[1][0],y=f[0][0],g=f[1][1],v=f[0][1],C=[o(e,t,y,m,d),o(e,t,v,g,d)],w=C[1][1].Fields[0],b=C[0][1].Fields[0],S=C[1][0].Fields[0],T=C[0][0].Fields[0],A=[T<S?T:S,T>S?T:S,b<w?b:w,b>w?b:w],x=o(e,t,l[1][0],l[1][1],d),$=x[1].Fields[0],k=x[0].Fields[0],F=A[0]===A[1]?k:A[0]+(A[1]-A[0])*((k-A[0])/(A[1]-A[0])*(h-c)+c),E=A[2]===A[3]?$:A[2]+(A[3]-A[2])*(($-A[2])/(A[3]-A[2])*(p-u)+u);return[new continuous("CO",[F]),new continuous("CO",[E])]}if("Padding"===l[0].Case){var _=l[0].Fields[0][0],O=l[0].Fields[0][1],P=l[0].Fields[2],L=l[0].Fields[1][2],N=l[0].Fields[1][0],H=l[0].Fields[0][3],G=l[0].Fields[1][3],I=l[0].Fields[1][1],D=l[0].Fields[0][2],R=o(e,t,N,L,P),M=R[1].Fields[0],B=R[0].Fields[0],V=o(e,t,I,G,P),q=V[1].Fields[0],z=V[0].Fields[0],j=[B<z?B:z,B>z?B:z,M<q?M:q,M>q?M:q],K=o(e,t,a[0],a[1],P),W=K[1].Fields[0],U=K[0].Fields[0],Y=j[0]===j[1]?U:j[0]+H+(j[1]-j[0]-H-O)/(j[1]-j[0])*(U-j[0]),X=j[2]===j[3]?W:j[2]+_+(j[3]-j[2]-_-D)/(j[3]-j[2])*(W-j[2]);return[new continuous("CO",[Y]),new continuous("CO",[X])]}var Z=l[1][1],Q=l[1][0],J=l[0].Fields[1],ee=l[0].Fields[0];return[r(ee[0],ee[1],e,Q),r(J[0],J[1],t,Z)]},s=e.scaleOneInv=function(e,t,n,i){var r=[n,i];if("Categorical"===r[0].Case){var o=r[1].Fields[0],s=r[0].Fields[0],a=(t-e)/s.length,l=Math.floor(o/a),u=o/a-l,c=a<0?s.length+l:l;return~~c<0||~~c>=s.length?new Value("CAR",[new categorical("CA",["<outside-of-range>"]),u]):new Value("CAR",[s[~~c],u])}var p=r[1].Fields[0],h=r[0].Fields[0].Fields[0],d=r[0].Fields[1].Fields[0];return new Value("COV",[new continuous("CO",[(p-e)/(t-e)*(d-h)+h])])},a=(e.invertProj=function(e){var n="Rescale"===e.Case?"Padding"===e.Fields[2].Case?[0,e.Fields[2].Fields[1],e.Fields[2].Fields[0],e.Fields[2].Fields[2],e.Fields[0],e.Fields[1]]:[2]:"Padding"===e.Case&&"Rescale"===e.Fields[2].Case?[1,e.Fields[1],e.Fields[0],e.Fields[2].Fields[2],e.Fields[2].Fields[0],e.Fields[2].Fields[1]]:[2];switch(n[0]){case 0:return new t("Padding",[n[2],n[1],new t("Rescale",[n[4],n[5],n[3]])]);case 1:return new t("Rescale",[n[4],n[5],new t("Padding",[n[2],n[1],n[3]])]);case 2:return e}},e.projectInv=function(e,t,n,i,r){for(;;){var a=[e,t],l=[n,i],u=[r,l];if("Padding"!==u[0].Case){if("Scale"===u[0].Case){var c=u[1][1],p=u[1][0],h=u[0].Fields[1],d=u[0].Fields[0];return[s(d[0],d[1],a[0],p),s(h[0],h[1],a[1],c)]}var f=(u[1][1].Fields[0],u[1][0].Fields[0],u[0].Fields[1][0]),m=u[0].Fields[0][0],y=u[0].Fields[1][1],g=u[0].Fields[0][1],v=u[0].Fields[2],C=[Scales.getExtremes(a[0]),Scales.getExtremes(a[1])],w=C[1][0],b=C[0][0],S=C[1][1],T=C[0][1],A=[o(a[0],a[1],b,w,v),o(a[0],a[1],T,S,v)],x=A[1][1].Fields[0],$=A[0][1].Fields[0],k=A[1][0].Fields[0],F=A[0][0].Fields[0],E=[F<k?F:k,F>k?F:k,$<x?$:x,$>x?$:x],_=l[1].Fields[0],O=l[0].Fields[0],P=E[0]+((O-E[0])/(E[1]-E[0])-m)/(g-m)*(E[1]-E[0]),L=E[2]+((_-E[2])/(E[3]-E[2])-f)/(y-f)*(E[3]-E[2]);e=a[0],t=a[1],n=new continuous("CO",[P]),i=new continuous("CO",[L]),r=v}else{var N=(u[1][1].Fields[0],u[1][0].Fields[0],u[0].Fields[0][0]),H=u[0].Fields[0][1],G=u[0].Fields[2],I=u[0].Fields[1][2],D=u[0].Fields[1][0],R=u[0].Fields[0][3],M=u[0].Fields[1][3],B=u[0].Fields[1][1],V=u[0].Fields[0][2],q=o(a[0],a[1],D,I,G),z=q[1].Fields[0],j=q[0].Fields[0],K=o(a[0],a[1],B,M,G),W=K[1].Fields[0],U=K[0].Fields[0],Y=[j<U?j:U,j>U?j:U,z<W?z:W,z>W?z:W],X=l[1].Fields[0],Z=l[0].Fields[0],Q=(Z-Y[0]-R)/(Y[1]-Y[0]-R-H)*(Y[1]-Y[0])+Y[0],J=(X-Y[2]-N)/(Y[3]-Y[2]-N-V)*(Y[3]-Y[2])+Y[2];e=a[0],t=a[1],n=new continuous("CO",[Q]),i=new continuous("CO",[J]),r=G}}},e.calculateProjections=function(e,o){for(;;){if("ScaledStyle"===e.Fields[2].Case){var s=e.Fields[2].Fields[0],l=e.Fields[2].Fields[1];return new i("Projected",[o,e.Fields[0],new n("ProjectedStyle",[s,a(l,o)])])}if("ScaledOuterScale"===e.Fields[2].Case){var u=e.Fields[0][1],c=e.Fields[0][0],p=e.Fields[2].Fields[2],h=e.Fields[2].Fields[1],d=e.Fields[2].Fields[0],f=function(e){return function(t){if(null!=e){var n=Scales.getExtremes(t),i=(r(0,1,t,n[0]),r(0,1,t,n[1]),Scales.getExtremes(e)),o=[r(0,1,t,i[0]),r(0,1,t,i[1])];return[o[0].Fields[0],o[1].Fields[0]]}return[0,1]}},m=f(d)(c),y=f(h)(u),g=new t("Rescale",[m,y,o]),v=a(p,g);return new i("Projected",[v.Fields[0],v.Fields[1],v.Fields[2]])}if("ScaledLine"===e.Fields[2].Case){var C=e.Fields[2].Fields[0];return new i("Projected",[o,e.Fields[0],new n("ProjectedLine",[C])])}if("ScaledText"===e.Fields[2].Case){var w=e.Fields[2].Fields[1],b=e.Fields[2].Fields[0],S=e.Fields[2].Fields[2],T=e.Fields[2].Fields[5],A=e.Fields[2].Fields[4],x=e.Fields[2].Fields[3];return new i("Projected",[o,e.Fields[0],new n("ProjectedText",[b,w,S,x,A,T])])}if("ScaledBubble"===e.Fields[2].Case){var $=e.Fields[2].Fields[1],k=e.Fields[2].Fields[0],F=e.Fields[2].Fields[3],E=e.Fields[2].Fields[2];return new i("Projected",[o,e.Fields[0],new n("ProjectedBubble",[k,$,E,F])])}if("ScaledShape"===e.Fields[2].Case){var _=e.Fields[2].Fields[0];return new i("Projected",[o,e.Fields[0],new n("ProjectedShape",[_])])}{if("ScaledPadding"!==e.Fields[2].Case){if("ScaledStack"===e.Fields[2].Case){var O=e.Fields[2].Fields[1],P=e.Fields[2].Fields[0];return new i("Projected",[o,e.Fields[0],new n("ProjectedStack",[P,O.map(function(e){return a(e,o)})])])}if("ScaledLayered"===e.Fields[2].Case){var L=e.Fields[2].Fields[0];return new i("Projected",[o,e.Fields[0],new n("ProjectedLayered",[L.map(function(e){return a(e,o)})])])}if("ScaledInteractive"===e.Fields[2].Case){var N=e.Fields[2].Fields[1],H=e.Fields[2].Fields[0];return new i("Projected",[o,e.Fields[0],new n("ProjectedInteractive",[H,a(N,o)])])}var G=e.Fields[2].Fields[1],I=e.Fields[2].Fields[0];return new i("Projected",[o,e.Fields[0],new n("ProjectedOffset",[I,a(G,o)])])}var D=e.Fields[2].Fields[0][0],R=e.Fields[2].Fields[1],M=e.Fields[2].Fields[0][1],B=e.Fields[2].Fields[0][3],V=e.Fields[2].Fields[0][2],q=void 0,z=R.Fields[1][1],j=R.Fields[1][0];q=[Scales.getExtremes(j),Scales.getExtremes(z)];var K=q[1][0],W=q[0][0],U=q[1][1],Y=q[0][1],X=new t("Padding",[[D,M,V,B],[W,Y,K,U],o]);e=R,o=X}}});return e}({}),Drawing=function(e){var t=e.DrawingContext=function(){function e(t,n){_classCallCheck(this,e),this.Style=t,this.Definitions=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Drawing.DrawingContext",interfaces:["FSharpRecord"],properties:{Style:Style,Definitions:FableArray(DomNode)}}}}]),e}();setType("TheGamma.Interactive.Compost.Drawing.DrawingContext",t);var n=e.hideFill=function(e){var t=new FillStyle("Solid",[[0,new Color("RGB",[0,0,0])]]),i=void 0;if(null!=e.Animation){var r=e.Animation[0],o=e.Animation[2];i=[r,e.Animation[1],function(e){return function(e){return n(e)}(o(e))}]}else i=null;return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,i,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},i=e.hideStroke=function(e){var t=[0,e.StrokeColor[1]],n=void 0;if(null!=e.Animation){var r=e.Animation[0],o=e.Animation[2];n=[r,e.Animation[1],function(e){return function(e){return i(e)}(o(e))}]}else n=null;return new Style(t,e.StrokeWidth,e.StrokeDashArray,e.Fill,n,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},r=e.drawShape=function(e,o){e:for(;;){var s=function(){var s=o.Fields[1][1],a=o.Fields[1][0],l=function(e){var t=Projections.project(a,s,e[0],e[1],o.Fields[0]),n=t[1].Fields[0];return[t[0].Fields[0],n]},u=[o.Fields[2],[a,s]];if("ProjectedStyle"===u[0].Case){var c=u[0].Fields[1],p=u[0].Fields[0];return e=new t(p(e.Style),e.Definitions),o=c,"continue|drawShape"}if("ProjectedText"===u[0].Case){var h=u[0].Fields[1],d=u[0].Fields[0],f=u[0].Fields[2],m=u[0].Fields[5],y=u[0].Fields[4],g=u[0].Fields[3],v="Hanging"===f.Case?"hanging":"Middle"===f.Case?"middle":"baseline",C="Center"===g.Case?"middle":"End"===g.Case?"end":"start",w=l([d,h]);return{v:new Svg.Svg("Text",[w,m,y,fsFormat("alignment-baseline:%s; text-anchor:%s;")(function(e){return e})(v)(C)+Svg.formatStyle(e.Definitions,e.Style)])}}if("ProjectedBubble"===u[0].Case){var b=u[0].Fields[1],S=u[0].Fields[0],T=u[0].Fields[3],A=u[0].Fields[2];return{v:new Svg.Svg("Ellipse",[l([S,b]),[A,T],Svg.formatStyle(e.Definitions,e.Style)])}}if("ProjectedLine"===u[0].Case){var x=u[0].Fields[0],$=_Array$from(toList(delay(function(){return append(singleton(new Svg.PathSegment("MoveTo",[l(head(x))])),delay(function(){return map$3(function(e){return new Svg.PathSegment("LineTo",[l(e)])},skip(1,x))}))})));return{v:new Svg.Svg("Path",[$,Svg.formatStyle(e.Definitions,n(e.Style))])}}if("ProjectedShape"===u[0].Case){var k=u[0].Fields[0],F=_Array$from(delay(function(){return append(singleton(new Svg.PathSegment("MoveTo",[l(k[0])])),delay(function(){return append(map$3(function(e){return new Svg.PathSegment("LineTo",[l(e)])},skip(1,k)),delay(function(){return singleton(new Svg.PathSegment("LineTo",[l(k[0])]))}))}))}));return{v:new Svg.Svg("Path",[F,Svg.formatStyle(e.Definitions,i(e.Style))])}}if("ProjectedLayered"===u[0].Case){var E=u[0].Fields[0];return{v:new Svg.Svg("Combine",[E.map(function(t){return r(e,t)})])}}if("ProjectedStack"===u[0].Case){var _=u[0].Fields[1];return{v:new Svg.Svg("Combine",[_.map(function(t){return r(e,t)})])}}if("ProjectedInteractive"===u[0].Case){var O=u[0].Fields[1];u[0].Fields[0];return e=e,o=O,"continue|drawShape"}var P=u[0].Fields[1],L=u[0].Fields[0][1],N=u[0].Fields[0][0];return{v:Svg.mapSvg(function(e){if("Text"===e.Case){var t=e.Fields[0][1],n=e.Fields[0][0];return new Svg.Svg("Text",[[n+N,t+L],e.Fields[1],e.Fields[2],e.Fields[3]])}return"Path"===e.Case?new Svg.Svg("Path",[e.Fields[0].map(function(e){if("LineTo"===e.Case){var t=e.Fields[0][1],n=e.Fields[0][0];return new Svg.PathSegment("LineTo",[[n+N,t+L]])}var i=e.Fields[0][1],r=e.Fields[0][0];return new Svg.PathSegment("MoveTo",[[r+N,i+L]])}),e.Fields[1]]):e},r(e,P))}}();switch(s){case"continue|drawShape":continue e;default:if("object"===(void 0===s?"undefined":_typeof(s)))return s.v}}};return e}({}),Events=function(e){var t=e.MouseEventKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Events.MouseEventKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Click:[],Down:[],Move:[],Up:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Events.MouseEventKind",t);var n=e.TouchEventKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Events.TouchEventKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Move:[],Start:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Events.TouchEventKind",n);var i=e.InteractiveEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Events.InteractiveEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{MouseEvent:[t,Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})])],MouseLeave:[],TouchEnd:[],TouchEvent:[n,Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Events.InteractiveEvent",i);var r=e.projectEvent=function(e,t,n,r){var o=[e,t],s="TouchEvent"===r.Case?"COV"===r.Fields[1][0].Case&&"COV"===r.Fields[1][1].Case?[1,r.Fields[0],r.Fields[1][0].Fields[0],r.Fields[1][1].Fields[0]]:[2]:"TouchEnd"===r.Case?[3]:"MouseLeave"===r.Case?[4]:"COV"===r.Fields[1][0].Case&&"COV"===r.Fields[1][1].Case?[0,r.Fields[0],r.Fields[1][0].Fields[0],r.Fields[1][1].Fields[0]]:[2];switch(s[0]){case 0:return new i("MouseEvent",[s[1],function(){var e=[s[2],s[3]],t=Projections.invertProj(n);return Projections.projectInv(o[0],o[1],e[0],e[1],t)}()]);case 1:return new i("TouchEvent",[s[1],function(){var e=[s[2],s[3]],t=Projections.invertProj(n);return Projections.projectInv(o[0],o[1],e[0],e[1],t)}()]);case 2:throw new Error("TODO: projectEvent - not continuous");case 3:return new i("TouchEnd",[]);case 4:return new i("MouseLeave",[])}},o=e.inScale=function(e,t){var n=[e,t];if("Categorical"===n[0].Case){if("COV"===n[1].Case)throw new Error("inScale: Cannot test if continuous value is in categorical scale");return exists(function(e){return n[1].Fields[0].Equals(e)},n[0].Fields[0])}if("CAR"===n[1].Case)throw new Error("inScale: Cannot test if categorical value is in continuous scale");return n[1].Fields[0].Fields[0]>=(n[0].Fields[0].Fields[0]<n[0].Fields[1].Fields[0]?n[0].Fields[0].Fields[0]:n[0].Fields[1].Fields[0])&&n[1].Fields[0].Fields[0]<=(n[0].Fields[0].Fields[0]>n[0].Fields[1].Fields[0]?n[0].Fields[0].Fields[0]:n[0].Fields[1].Fields[0])},s=e.inScales=function(e,t,n){var i="TouchEnd"===n.Case?[1]:"MouseEvent"===n.Case?[2,n.Fields[1][0],n.Fields[1][1]]:"TouchEvent"===n.Case?[2,n.Fields[1][0],n.Fields[1][1]]:[0];switch(i[0]){case 0:case 1:return!0;case 2:return!!o(e,i[1])&&o(t,i[2])}},a=e.triggerEvent=function(e,t,n){var i="ProjectedText"===e.Fields[2].Case?[0]:"ProjectedBubble"===e.Fields[2].Case?[0]:"ProjectedShape"===e.Fields[2].Case?[0]:"ProjectedStyle"===e.Fields[2].Case?[1,e.Fields[2].Fields[1]]:"ProjectedOffset"===e.Fields[2].Case?[1,e.Fields[2].Fields[1]]:"ProjectedStack"===e.Fields[2].Case?[2,e.Fields[2].Fields[1]]:"ProjectedLayered"===e.Fields[2].Case?[2,e.Fields[2].Fields[0]]:"ProjectedInteractive"===e.Fields[2].Case?[3]:[0];switch(i[0]){case 0:break;case 1:a(i[1],t,n);break;case 2:for(var o=0;o<=i[1].length-1;o++){var l=i[1][o];a(l,t,n)}break;case 3:var u=r(e.Fields[1][0],e.Fields[1][1],e.Fields[0],n);if(s(e.Fields[1][0],e.Fields[1][1],u)){var c=!0,p=!1,h=void 0;try{for(var d,f=_getIterator(e.Fields[2].Fields[0]);!(c=(d=f.next()).done);c=!0){var m=d.value,y=[u,m],g="TouchEvent"===y[0].Case?"Start"===y[0].Fields[0].Case?"TouchStart"===y[1].Case?[1,y[1].Fields[0],y[0].Fields[1]]:[4]:"TouchMove"===y[1].Case?[1,y[1].Fields[0],y[0].Fields[1]]:[4]:"TouchEnd"===y[0].Case?"TouchEnd"===y[1].Case?[2,y[1].Fields[0]]:[4]:"MouseLeave"===y[0].Case?"MouseLeave"===y[1].Case?[3,y[1].Fields[0]]:[4]:"Move"===y[0].Fields[0].Case?"MouseMove"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[4]:"Up"===y[0].Fields[0].Case?"MouseUp"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[4]:"Down"===y[0].Fields[0].Case?"MouseDown"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[4]:"Click"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[4];switch(g[0]){case 0:case 1:
null!=t&&t.preventDefault(),g[1](t)(g[2]);break;case 2:case 3:g[1](t)}}}catch(e){p=!0,h=e}finally{try{!c&&f.return&&f.return()}finally{if(p)throw h}}}a(e.Fields[2].Fields[1],t,n)}};return e}({}),Derived=function(e){e.Area=function(e){return new Shape("Shape",[delay(function(){var t=_Array$from(e),n=[t[0][0],t[t.length-1][0]];return append(singleton([n[0],new Value("COV",[new continuous("CO",[0])])]),delay(function(){return append(t,delay(function(){return append(singleton([n[1],new Value("COV",[new continuous("CO",[0])])]),delay(function(){return singleton([n[0],new Value("COV",[new continuous("CO",[0])])])}))}))}))})])},e.VArea=function(e){return new Shape("Shape",[delay(function(){var t=_Array$from(e),n=[t[0][1],t[t.length-1][1]];return append(singleton([new Value("COV",[new continuous("CO",[0])]),n[0]]),delay(function(){return append(t,delay(function(){return append(singleton([new Value("COV",[new continuous("CO",[0])]),n[1]]),delay(function(){return singleton([new Value("COV",[new continuous("CO",[0])]),n[0]])}))}))}))})])},e.VShiftedArea=function(e,t){return new Shape("Shape",[delay(function(){var n=_Array$from(t),i=[n[0][1],n[n.length-1][1]];return append(singleton([new Value("COV",[new continuous("CO",[e])]),i[0]]),delay(function(){return append(n,delay(function(){return append(singleton([new Value("COV",[new continuous("CO",[e])]),i[1]]),delay(function(){return singleton([new Value("COV",[new continuous("CO",[e])]),i[0]])}))}))}))})])},e.Bar=function(e,t){return new Shape("Shape",[delay(function(){return append(singleton([new Value("COV",[e]),new Value("CAR",[t,0])]),delay(function(){return append(singleton([new Value("COV",[e]),new Value("CAR",[t,1])]),delay(function(){return append(singleton([new Value("COV",[new continuous("CO",[0])]),new Value("CAR",[t,1])]),delay(function(){return singleton([new Value("COV",[new continuous("CO",[0])]),new Value("CAR",[t,0])])}))}))}))})])},e.Column=function(e,t){return new Shape("Shape",[delay(function(){return append(singleton([new Value("CAR",[e,0]),new Value("COV",[t])]),delay(function(){return append(singleton([new Value("CAR",[e,1]),new Value("COV",[t])]),delay(function(){return append(singleton([new Value("CAR",[e,1]),new Value("COV",[new continuous("CO",[0])])]),delay(function(){return singleton([new Value("CAR",[e,0]),new Value("COV",[new continuous("CO",[0])])])}))}))}))})])};return e}({}),Compost=function(e){var t=e.defaultFormat=function(e,t){if("COV"===t.Case){var n=t.Fields[0].Fields[0],i=void 0;if("Continuous"===e.Case){var r=e.Fields[0].Fields[0],o=e.Fields[1].Fields[0];i=Scales.decimalPoints(r,o)}else i=0;return niceNumber(round(n,~~i),~~i)}return t.Fields[0].Fields[0]},n=e.defstyle=function(){var e=new FillStyle("Solid",[[1,new Color("RGB",[196,196,196])]]),n=[1,new Color("RGB",[256,0,0])],i=new List$1,r=new Width("Pixels",[2]);return new Style(n,r,i,e,null,"10pt sans-serif","default",function(e){return function(n){return t(e,n)}},function(e){return function(n){return t(e,n)}})}(),i=e.mapShape=function(e,t){var n=void 0,r="ProjectedStack"===t.Fields[2].Case?[1]:"ProjectedLayered"===t.Fields[2].Case?[2]:"ProjectedInteractive"===t.Fields[2].Case?[3]:"ProjectedOffset"===t.Fields[2].Case?[4]:"ProjectedBubble"===t.Fields[2].Case?[5,t.Fields[2]]:"ProjectedLine"===t.Fields[2].Case?[5,t.Fields[2]]:"ProjectedShape"===t.Fields[2].Case?[5,t.Fields[2]]:"ProjectedText"===t.Fields[2].Case?[5,t.Fields[2]]:[0];switch(r[0]){case 0:n=new Projections.ProjectedShapeInner("ProjectedStyle",[t.Fields[2].Fields[0],i(e,t.Fields[2].Fields[1])]);break;case 1:n=new Projections.ProjectedShapeInner("ProjectedStack",[t.Fields[2].Fields[0],t.Fields[2].Fields[1].map(function(t){return i(e,t)})]);break;case 2:n=new Projections.ProjectedShapeInner("ProjectedLayered",[t.Fields[2].Fields[0].map(function(t){return i(e,t)})]);break;case 3:n=new Projections.ProjectedShapeInner("ProjectedInteractive",[t.Fields[2].Fields[0],i(e,t.Fields[2].Fields[1])]);break;case 4:n=new Projections.ProjectedShapeInner("ProjectedOffset",[t.Fields[2].Fields[0],i(e,t.Fields[2].Fields[1])]);break;case 5:n=r[1]}return new Projections.ProjectedShape("Projected",[t.Fields[0],t.Fields[1],e(n)])};e.createSvg=function(e,t,r,o,a){var l=Scales.calculateScales(n,a),u=new Projections.Projection("Scale",[e?[r,0]:[0,r],t?[0,o]:[o,0]]),c=Projections.calculateProjections(l,u),p=e||t?i(function(n){if("ProjectedText"===n.Case){var i=void 0;switch(("Baseline"===n.Fields[2].Case&&t?[0]:[1])[0]){case 0:i=new VerticalAlign("Hanging",[]);break;case 1:switch(("Hanging"===n.Fields[2].Case&&t?[0]:[1])[0]){case 0:i=new VerticalAlign("Baseline",[]);break;case 1:i=n.Fields[2]}}var r=void 0;switch(("Start"===n.Fields[3].Case&&e?[0]:[1])[0]){case 0:r=new HorizontalAlign("End",[]);break;case 1:switch(("End"===n.Fields[3].Case&&e?[0]:[1])[0]){case 0:r=new HorizontalAlign("Start",[]);break;case 1:r=n.Fields[3]}}return new Projections.ProjectedShapeInner("ProjectedText",[n.Fields[0],n.Fields[1],i,r,n.Fields[4],n.Fields[5]])}if("ProjectedOffset"===n.Case){var o=n.Fields[0][1],s=n.Fields[0][0];return new Projections.ProjectedShapeInner("ProjectedOffset",[[e?-s:s,t?-o:o],n.Fields[1]])}return n},c):c,h=[],d=Drawing.drawShape(new Drawing.DrawingContext(n,h),p),f=function(e){return function(t){return function(n){return function(e){return function(t){for(;;){if(null==e)return[t[0],t[1]];var n=e.offsetParent;t=[t[0]-e.offsetLeft,t[1]-e.offsetTop],e=n}}}(function(e){e:for(;;)if("http://www.w3.org/2000/svg"!==e.namespaceURI||"svg"===e.tagName){if(null!=e.offsetParent)return e;e=null==e.parentElement?e.parentNode:e.parentElement}else{if(null!=e.parentElement){e=e.parentElement;continue e}e=e.parentNode}}(e))([t,n])}}},m=function(e){return function(t){return function(n){var i=n,r=f(t)(i.pageX)(i.pageY);Events.triggerEvent(p,i,new Events.InteractiveEvent("MouseEvent",[e,[new Value("COV",[new continuous("CO",[r[0]])]),new Value("COV",[new continuous("CO",[r[1]])])]]))}}},y=function(e){return function(t){return function(n){var i=n,r=i.touches[0],o=f(t)(r.pageX)(r.pageY);Events.triggerEvent(p,i,new Events.InteractiveEvent("TouchEvent",[e,[new Value("COV",[new continuous("CO",[o[0]])]),new Value("COV",[new continuous("CO",[o[1]])])]]))}}},g=new Svg.RenderingContext(h);return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style",fsFormat("width:%dpx;height:%dpx;margin:0px auto 0px auto")(function(e){return e})(~~r)(~~o))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("svg")(ofArray$1([op_EqualsGreater("width",String(~~r)),op_EqualsGreater("height",String(~~o)),op_EqualsBangGreater("click",m(new Events.MouseEventKind("Click",[]))),op_EqualsBangGreater("mousemove",m(new Events.MouseEventKind("Move",[]))),op_EqualsBangGreater("mousedown",m(new Events.MouseEventKind("Down",[]))),op_EqualsBangGreater("mouseup",m(new Events.MouseEventKind("Up",[]))),op_EqualsBangGreater("mouseleave",function(e){return function(e){Events.triggerEvent(p,e,new Events.InteractiveEvent("MouseLeave",[]))}}),op_EqualsBangGreater("touchmove",y(new Events.TouchEventKind("Move",[]))),op_EqualsBangGreater("touchstart",y(new Events.TouchEventKind("Start",[]))),op_EqualsBangGreater("touchend",function(e){return function(e){Events.triggerEvent(p,e,new Events.InteractiveEvent("TouchEnd",[]))}})]))(toList(delay(function(){var e=_Array$from(Svg.renderSvg(g,d));return append(h,delay(function(){return e}))})))]))};return e}({}),AxisOptions=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.minValue=t,this.maxValue=n,this.label=i,this.labelOffset=r,this.labelMinimalSize=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.AxisOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{minValue:Option(Any),maxValue:Option(Any),label:Option("string"),labelOffset:Option("number"),labelMinimalSize:Option("number")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}],[{key:"Default",get:function(){return new e(null,null,null,null,null)}}]),e}();setType("TheGamma.Interactive.AxisOptions",AxisOptions);var LegendOptions=function(){function e(t){_classCallCheck(this,e),this.position=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.LegendOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{position:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}],[{key:"Default",get:function(){return new e("none")}}]),e}();setType("TheGamma.Interactive.LegendOptions",LegendOptions);var ChartOptions=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.size=t,this.xAxis=n,this.yAxis=i,this.title=r,this.legend=o,this.emptyMessage=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.ChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{size:Tuple([Option("number"),Option("number")]),xAxis:AxisOptions,yAxis:AxisOptions,title:Option("string"),legend:LegendOptions,emptyMessage:Option("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}],[{key:"Default",get:function(){var t=[null,null],n=LegendOptions.Default;return new e(t,AxisOptions.Default,AxisOptions.Default,null,n,null)}}]),e}();setType("TheGamma.Interactive.ChartOptions",ChartOptions);var InteractiveHelpers=function(e){var t=e.showAppAsync=function(e,t,n,i,r,o){return function(s){return s.Delay(function(){var a="container"+replace$$1(function(){return newGuid()}(),"-","");return renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("id",a)]))(new List$1)),s.Bind(Async_AwaitFuture_Static(n.data),function(n){var l=10;return s.Combine(s.While(function(){return l>0&&null==document.getElementById(a)},s.Delay(function(){return s.Bind(sleep(10),function(){return l-=1,s.Zero()})})),s.Delay(function(){var l=document.getElementById(a);if(0===n.length&&function(){return null!=t.emptyMessage}())return function(e){renderTo(l,e)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(ofArray$1([op_EqualsGreater("class","placeholder")]))(ofArray$1([text(t.emptyMessage)]))),s.Zero();var u=[null!=t.size[0]?function(){return t.size[0]}():l.clientWidth,null!=t.size[1]?function(){return t.size[1]}():400>l.clientWidth/2?400:l.clientWidth/2];try{createVirtualDomApp(e,i(n),r(n)(u),o(n))}catch(e){Log.exn("GUI","Interactive rendering failed: %O",e)}return s.Zero()}))})})}(singleton$2)},n=e.showApp=function(e,n,i,r,o,s){!function(e){startImmediate(e)}(t(e,n,i,r,o,s))};e.showStaticAppAsync=function(e,n,i,r){return t(e,n,i,function(e){},function(e){return function(e){return function(t){return function(){return r(e)}}}},function(e){return function(){return function(e){}}})},e.showStaticApp=function(e,t,i,r){n(e,t,i,function(e){},function(e){return function(t){return function(n){return function(){return r(e)(t)}}}},function(e){return function(){return function(e){}}})},e.calclateMax=function(e,t){var n=null!=e?e:reduce(function(e,t){return Math.max(e,t)},map$3(function(e){return e[1]},t));return Scales.adjustRange(0,n)[1]},e.createLogger=function(e,t){return null==t?function(e){return function(e){}}:function(n){return function(i){t({event:n,id:e,data:createObj(i)})}}};return e}({}),CompostHelpers=function(e){e["|Cont|"]=function(e){if("COV"===e.Case){return e.Fields[0].Fields[0]}throw new Error("Expected continuous value")},e["|Cat|"]=function(e){if("CAR"===e.Case){return[e.Fields[0].Fields[0],e.Fields[1]]}throw new Error("Expected categorical value")},e.Cont=function(e){return new Value("COV",[new continuous("CO",[e])])},e.Cat=function(e,t){return new Value("CAR",[new categorical("CA",[e]),t])},e.orElse=function(e,t){return function(){return null!=e}()?e:t},e.vega10=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],e.infinitely=function(e){return delay(isEmpty(e)?function(){return enumerateWhile(function(){return!0},delay(function(){return singleton("black")}))}:function(){return enumerateWhile(function(){return!0},delay(function(){return e}))})};return e}({}),Internal=function(e){var t=(e.prevAndNext=function(e){if(1===e.length)return[[e[0],e[0],e[0]]];for(var t=[[e[0],e[0],e[1]]],n=1;n<=e.length-2;n++)t.push([e[n-1],e[n],e[n+1]]);return t.push([e[e.length-2],e[e.length-1],e[e.length-1]]),_Array$from(t)},e.arrayMap=function(e,t){return _Array$from(map$3(e,t))}),n=e.parseColor=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},i=e.formatColor=function(e,t,n){var i=function(e){return padLeft((~~e).toString(16),2,"0")};return"#"+i(e)+i(t)+i(n)},r=(e.mapColor=function(e,t){var r=e(n(t));return i(r[0],r[1],r[2])},e.ScalePoints=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Minimum=t,this.Maximum=n,this.Middle=i,this.PixelSize=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Internal.ScalePoints",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Minimum:makeGeneric(Value,{u:Any}),Maximum:makeGeneric(Value,{u:Any}),Middle:makeGeneric(Value,{u:Any}),PixelSize:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}());setType("TheGamma.Interactive.Internal.ScalePoints",r);var o=e.ChartContext=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.Chart=t,this.Width=n,this.Height=i,this.XPoints=r,this.YPoints=o,this.XData=s,this.YData=a,this.Padding=l,this.ChartOptions=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Internal.ChartContext",interfaces:["FSharpRecord"],properties:{Chart:makeGeneric(Shape,{vx:Any,vy:Any}),Width:"number",Height:"number",XPoints:r,YPoints:r,XData:FableArray(Any),YData:FableArray(Any),Padding:Tuple(["number","number","number","number"]),ChartOptions:ChartOptions}}}}]),e}();setType("TheGamma.Interactive.Internal.ChartContext",o);var s=e.calculateScales=function(e,t,n){var i=Scales.calculateScales(Compost.defstyle,n),o=i.Fields[0][1],s=i.Fields[0][0],a=function(n){if("Categorical"===n.Case)return new r(new Value("CAR",[n.Fields[0][0],0]),new Value("CAR",[n.Fields[0][n.Fields[0].length-1],1]),n.Fields[0].length%2==1?new Value("CAR",[n.Fields[0][~~(n.Fields[0].length/2)],.5]):new Value("CAR",[n.Fields[0][~~(n.Fields[0].length/2)],0]),0);var o=n.Fields[0].Fields[0],s=n.Fields[1].Fields[0],a=new Projections.Projection("Scale",[[0,e],[t,0]]),l=Projections.calculateProjections(i,a),u=Projections.projectInv(n,n,new continuous("CO",[100]),new continuous("CO",[0]),l.Fields[0]),c=CompostHelpers["|Cont|"](u[0]),p=Projections.projectInv(n,n,new continuous("CO",[101]),new continuous("CO",[0]),l.Fields[0]),h=CompostHelpers["|Cont|"](p[0]);return new r(new Value("COV",[new continuous("CO",[o])]),new Value("COV",[new continuous("CO",[s])]),new Value("COV",[new continuous("CO",[(s+o)/2])]),Math.abs(c-h))};return[a(s),a(o)]},a=(e.initChart=function(e,t,n,i,r,a){var l=[e,t],u=s(l[0],l[1],a),c=[20,20,20,20];return new o(a,l[0],l[1],u[0],u[1],n,i,c,r)},e.applyStyle=function(e,t){return new Shape("Style",[e,t])});e.applyStyleCtx=function(e,t){return new o(new Shape("Style",[e,t.Chart]),t.Width,t.Height,t.XPoints,t.YPoints,t.XData,t.YData,t.Padding,t.ChartOptions)},e.applyInteractive=function(e,t){return new Shape("Interactive",[e,t])},e.applyInteractiveCtx=function(e,t){return new o(new Shape("Interactive",[e(t),t.Chart]),t.Width,t.Height,t.XPoints,t.YPoints,t.XData,t.YData,t.Padding,t.ChartOptions)},e.applyScales=function(e){var t=function(e){return function(t){if(equals(e.minValue,null)&&equals(e.maxValue,null))return null;var n="COV"===t.Minimum.Case&&"COV"===t.Maximum.Case?[0,t.Maximum.Fields[0].Fields[0],t.Minimum.Fields[0].Fields[0]]:[1];switch(n[0]){case 0:var i=defaultArg(e.minValue,null,function(e){return e instanceof Date?e.getTime():e}),r=defaultArg(e.maxValue,null,function(e){return e instanceof Date?e.getTime():e}),o=[null!=i?i:n[2],null!=r?r:n[1]];return[new continuous("CO",[o[0]]),new continuous("CO",[o[1]])];case 1:return null}}},n=t(e.ChartOptions.xAxis)(e.XPoints),i=t(e.ChartOptions.yAxis)(e.YPoints),r=new Shape("AutoScale",[function(){return null==n}(),function(){return null==i}(),new Shape("InnerScale",[n,i,e.Chart])]),a=s(e.Width,e.Height,r);return new o(r,e.Width,e.Height,a[0],a[1],e.XData,e.YData,e.Padding,e.ChartOptions)},e.applyAxes=function(e,n,i,r,s){var l=function(e){if(exists(function(e){return e instanceof Date},e)){var n=t(function(e){return e instanceof Date?e.getTime():e},e),i=[new Date(reduce(function(e,t){return Math.min(e,t)},n)),new Date(reduce(function(e,t){return Math.max(e,t)},n))];return function(){return totalDays(op_Subtraction(i[1],i[0]))}()<=1?function(e){return function(e){var t=CompostHelpers["|Cont|"](e);return new Date(t).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric"})}}:function(e){return function(e){var t=CompostHelpers["|Cont|"](e);return new Date(t).toLocaleString("en-US",{day:"numeric",year:"numeric",month:"short"})}}}return function(e){return function(t){return Compost.defaultFormat(e,t)}}},u=a(function(e){var t=l(s.XData),n=l(s.YData);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,e.Cursor,t,n)},new Shape("Axes",[e,n,i,r,s.Chart]));return new o(new Shape("Padding",[s.Padding,u]),s.Width,s.Height,s.XPoints,s.YPoints,s.XData,s.YData,s.Padding,s.ChartOptions)},e.applyLegend=function(e,t,n,i){var r=_Array$from(n),s=[i.ChartOptions.legend.position,e>600];switch(("right"===s[0]?[0]:"auto"===s[0]?s[1]?[0]:[1]:"bottom"===s[0]?[1]:[2])[0]){case 0:var l=new Shape("InnerScale",[[new continuous("CO",[0]),new continuous("CO",[100])],null,new Shape("Layered",[toList(delay(function(){return collect(function(e){var t=function(e){var t=function(t){var n=new FillStyle("Solid",[[1,new Color("HTML",[e])]]);return new Style([0,new Color("RGB",[0,0,0])],t.StrokeWidth,t.StrokeDashArray,n,t.Animation,"9pt Roboto,sans-serif",t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)};return function(e){return a(t,e)}};return append(singleton(t(e[0])(new Shape("Padding",[[4,0,4,0],Derived.Bar(new continuous("CO",[6]),new categorical("CA",[e[1]]))]))),delay(function(){return singleton(t("black")(new Shape("Text",[new Value("COV",[new continuous("CO",[8])]),new Value("CAR",[new categorical("CA",[e[1]]),.5]),new VerticalAlign("Middle",[]),new HorizontalAlign("Start",[]),0,e[1]])))}))},r)}))])]),u=[(e-250)/e,(i.Padding[0]+30*r.length)/t],c=new Shape("Layered",[ofArray$1([new Shape("OuterScale",[new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[u[0]])]),new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[1])]),i.Chart]),new Shape("OuterScale",[new Scale("Continuous",[new continuous("CO",[u[0]]),new continuous("CO",[1])]),new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[u[1]])]),new Shape("Padding",[[i.Padding[0],0,0,20],l])])])]);return new o(c,i.Width,i.Height,i.XPoints,i.YPoints,i.XData,i.YData,i.Padding,i.ChartOptions);case 1:var p=new Shape("InnerScale",[[new continuous("CO",[0]),new continuous("CO",[100])],null,new Shape("Layered",[toList(delay(function(){return collect(function(e){var t=function(e){var t=function(t){var n=new FillStyle("Solid",[[1,new Color("HTML",[e])]]);return new Style([0,new Color("RGB",[0,0,0])],t.StrokeWidth,t.StrokeDashArray,n,t.Animation,"9pt Roboto,sans-serif",t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)};return function(e){return a(t,e)}};return append(singleton(t(e[0])(new Shape("Padding",[[4,0,4,0],new Shape("Shape",[ofArray$1([[new Value("COV",[new continuous("CO",[94])]),new Value("CAR",[new categorical("CA",[e[1]]),0])],[new Value("COV",[new continuous("CO",[94])]),new Value("CAR",[new categorical("CA",[e[1]]),1])],[new Value("COV",[new continuous("CO",[100])]),new Value("CAR",[new categorical("CA",[e[1]]),1])],[new Value("COV",[new continuous("CO",[100])]),new Value("CAR",[new categorical("CA",[e[1]]),0])]])])]))),delay(function(){return singleton(t("black")(new Shape("Text",[new Value("COV",[new continuous("CO",[92])]),new Value("CAR",[new categorical("CA",[e[1]]),.5]),new VerticalAlign("Middle",[]),new HorizontalAlign("End",[]),0,e[1]])))}))},r)}))])]),h=(t-30*r.length)/t,d=new Shape("Layered",[ofArray$1([new Shape("OuterScale",[new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[1])]),new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[h])]),i.Chart]),new Shape("OuterScale",[new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[1])]),new Scale("Continuous",[new continuous("CO",[h]),new continuous("CO",[1])]),new Shape("Padding",[[20,i.Padding[1],0,i.Padding[3]],p])])])]);return new o(d,i.Width,i.Height,i.XPoints,i.YPoints,i.XData,i.YData,i.Padding,i.ChartOptions);case 2:return i}},e.applyLabels=function(e){var t=function(e){return function(t){return a(function(t){var n=new Width("Pixels",[0]),i=new FillStyle("Solid",[[1,new Color("HTML",["black"])]]);return new Style(t.StrokeColor,n,t.StrokeDashArray,i,t.Animation,e,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},t)}},n=void 0,i=[e.ChartOptions.xAxis.label,e.ChartOptions.xAxis.labelMinimalSize];switch((null!=i[1]&&function(){var t=i[1];return e.Height<t}()?[0,i[1]]:[1])[0]){case 0:n=[e.Chart,e.Padding[2]];break;case 1:if(null!=i[0]){var r=i[0],s=defaultArg(e.ChartOptions.xAxis.labelOffset,40),l=new Shape("Offset",[[0,s],new Shape("Text",[e.XPoints.Middle,e.YPoints.Minimum,new VerticalAlign("Middle",[]),new HorizontalAlign("Center",[]),0,r])]);n=[new Shape("Layered",[ofArray$1([e.Chart,t("bold 9pt Roboto,sans-serif")(l)])]),s+10-30]}else n=[e.Chart,e.Padding[2]]}var u=void 0,c=[e.ChartOptions.yAxis.label,e.ChartOptions.yAxis.labelMinimalSize];switch((null!=c[1]&&function(){var t=c[1];return e.Width<t}()?[0,c[1]]:[1])[0]){case 0:u=[n[0],n[1]];break;case 1:if(null!=c[0]){var p=c[0],h=defaultArg(e.ChartOptions.yAxis.labelOffset,60),d=new Shape("Offset",[[-h,0],new Shape("Text",[e.XPoints.Minimum,e.YPoints.Middle,new VerticalAlign("Middle",[]),new HorizontalAlign("Center",[]),-90,p])]);u=[new Shape("Layered",[ofArray$1([n[0],t("bold 9pt Roboto,sans-serif")(d)])]),h+10-50]}else u=[n[0],e.Padding[3]]}var f=void 0,m=e.ChartOptions.title;if(null!=m){var y=new Shape("Offset",[[0,-30],new Shape("Text",[e.XPoints.Middle,e.YPoints.Maximum,new VerticalAlign("Hanging",[]),new HorizontalAlign("Center",[]),0,m])]);f=[new Shape("Layered",[ofArray$1([u[0],t("13pt Roboto,sans-serif")(y)])]),40]}else f=[u[0],e.Padding[0]];var g=[f[1],e.Padding[1],n[1],u[1]];return new o(f[0],e.Width,e.Height,e.XPoints,e.YPoints,e.XData,e.YData,g,e.ChartOptions)},e.createChart=function(e,t,n){var i=[e,t];return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(ofArray$1([function(){return Compost.createSvg(!1,!1,i[0],i[1],n.Chart)}()]))},e.inAxis=function(e,t){return!(function(){return null!=e.minValue}()&&(t instanceof Date?t.getTime():t)<(e.minValue instanceof Date?e.minValue.getTime():e.minValue))&&!(function(){return null!=e.maxValue}()&&(t instanceof Date?t.getTime():t)>(e.maxValue instanceof Date?e.maxValue.getTime():e.maxValue))};return e}({}),Charts=function(e){e.renderBubbles=function(e,t,n,i,r,o,s){var a=[i,r],l=[s.map(function(e){return e[0]}),s.map(function(e){return e[1]})],u=function(e){return function(t){return function(n){return function(i){return tryFindIndex(function(r){var o=defaultArg(r[2],2),s=[e*o*2,t*o*2],a=[r[0]instanceof Date?r[0].getTime():r[0],r[1]instanceof Date?r[1].getTime():r[1]];return(n-a[0])*(n-a[0])/(s[0]*s[0])+(i-a[1])*(i-a[1])/(s[1]*s[1])<1},s)}}}};return Internal.createChart(a[0],a[1],Internal.applyAxes(!1,!1,!0,!0,Internal.applyLabels(Internal.applyScales(Internal.applyInteractiveCtx(function(n){return ofArray$1([new EventHandler("TouchStart",[function(i){return function(i){var r=CompostHelpers["|Cont|"](i[0]),o=CompostHelpers["|Cont|"](i[1]),s=defaultArg(u(n.XPoints.PixelSize)(n.YPoints.PixelSize)(r)(o),-1);s!==t&&e(s)}}]),new EventHandler("MouseMove",[function(i){return function(i){var r=CompostHelpers["|Cont|"](i[0]),o=CompostHelpers["|Cont|"](i[1]),s=defaultArg(u(n.XPoints.PixelSize)(n.YPoints.PixelSize)(r)(o),-1);s!==t&&e(s)}}]),new EventHandler("MouseLeave",[function(t){e(-1)}])])},function(e){return Internal.initChart(a[0],a[1],l[0],l[1],n,e)}(new Shape("Layered",[toList(delay(function(){return append(collect(function(e){var i=e[1][1],r=e[1][0],s=e[1][2];e[1][3];if(Internal.inAxis(n.xAxis,r)&&Internal.inAxis(n.yAxis,i)){var a=null!=s?s:2,l=new Shape("Bubble",[new Value("COV",[new continuous("CO",[r instanceof Date?r.getTime():r])]),new Value("COV",[new continuous("CO",[i instanceof Date?i.getTime():i])]),a,a]),u=e[0]===t?1:.6;return singleton(Internal.applyStyle(function(e){var t=new Width("Pixels",[0]),n=new FillStyle("Solid",[[u,new Color("HTML",[o])]]);return new Style(e.StrokeColor,t,e.StrokeDashArray,n,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},l))}return empty()},mapIndexed(function(e,t){return[e,t]},s)),delay(function(){return collect(function(e){var n=e[1][1],i=e[1][0],r=(e[1][2],e[1][3]);if(e[0]===t&&function(){return null!=r}()){var o=new Shape("Text",[new Value("COV",[new continuous("CO",[i instanceof Date?i.getTime():i])]),new Value("COV",[new continuous("CO",[n instanceof Date?n.getTime():n])]),new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),0,r]);return singleton(Internal.applyStyle(function(e){var t=new Width("Pixels",[0]),n=new FillStyle("Solid",[[1,new Color("HTML",["black"])]]);return new Style(e.StrokeColor,t,e.StrokeDashArray,n,e.Animation,"10pt roboto,sans-serif",e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},o))}return empty()},mapIndexed(function(e,t){return[e,t]},s))}))}))])))))))},e.renderLines=function(e,t,n,i,r,o,s){var a=[n,i],l=[_Array$from(collect(function(){var e=function(e){return e[0]};return function(t){return t.map(e)}}(),s)),_Array$from(collect(function(){var e=function(e){return e[1]};return function(t){return t.map(e)}}(),s))];return Internal.createChart(a[0],a[1],function(){var e=zip(CompostHelpers.infinitely(r),o);return function(t){return Internal.applyLegend(a[0],a[1],e,t)}}()(Internal.applyAxes(!1,!1,!0,!0,Internal.applyLabels(Internal.applyScales(function(e){return Internal.initChart(a[0],a[1],l[0],l[1],t,e)}(new Shape("Layered",[toList(delay(function(){return collect(function(n){var i=toList(delay(function(){return collect(function(e){return Internal.inAxis(t.xAxis,e[0])&&Internal.inAxis(t.yAxis,e[1])?singleton([new Value("COV",[new continuous("CO",[e[0]instanceof Date?e[0].getTime():e[0]])]),new Value("COV",[new continuous("CO",[e[1]instanceof Date?e[1].getTime():e[1]])])]):empty()},n[1])}));return null!=i.tail?append(e?singleton(Internal.applyStyle(function(e){var t=new FillStyle("Solid",[[.4,new Color("HTML",[n[0]])]]),i=new Width("Pixels",[0]);return new Style(e.StrokeColor,i,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.Area(i))):empty(),delay(function(){return singleton(Internal.applyStyle(function(e){return new Style([1,new Color("HTML",[n[0]])],new Width("Pixels",[2]),e.StrokeDashArray,e.Fill,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Line",[i])))})):empty()},zip(CompostHelpers.infinitely(r),s))}))])))))))},e.renderColsBars=function(e,t,n,i,r,o,s,a){var l=[i,r],u=e?[a.map(function(e){return e[1]}),a.map(function(e){return e[0]})]:[a.map(function(e){return e[0]}),a.map(function(e){return e[1]})],c=Internal.applyScales(function(e){return Internal.initChart(l[0],l[1],u[0],u[1],n,e)}(new Shape("Layered",[toList(delay(function(){return collect(function(t){return singleton(e?Derived.Bar(new continuous("CO",[t[1]]),new categorical("CA",[t[0]])):Derived.Column(new categorical("CA",[t[0]]),new continuous("CO",[t[1]])))},a)}))]))),p=void 0;if(e&&t&&function(){return null==n.yAxis.labelOffset}()){var h=void 0;h=new AxisOptions(n.yAxis.minValue,n.yAxis.maxValue,n.yAxis.label,null,n.yAxis.labelMinimalSize),p=new ChartOptions(n.size,n.xAxis,h,n.title,n.legend,n.emptyMessage)}else if(!e&&t&&function(){return null==n.yAxis.labelOffset}()){var d=void 0;d=new AxisOptions(n.xAxis.minValue,n.xAxis.maxValue,n.xAxis.label,null,n.xAxis.labelMinimalSize),p=new ChartOptions(n.size,d,n.yAxis,n.title,n.legend,n.emptyMessage)}else p=n;return Internal.createChart(l[0],l[1],function(){var e=zip(CompostHelpers.infinitely(o),s);return function(t){return Internal.applyLegend(l[0],l[1],e,t)}}()(Internal.applyAxes(!1,!1,!(t&&!e),!(t&&e),Internal.applyLabels(Internal.applyScales(function(e){return Internal.initChart(l[0],l[1],u[0],u[1],p,e)}(new Shape("Layered",[toList(delay(function(){return collect(function(n){var i=n[1][1],r=n[1][0],o=e?new Shape("Padding",[[6,0,6,1],Derived.Bar(new continuous("CO",[i]),new categorical("CA",[r]))]):new Shape("Padding",[[0,6,1,6],Derived.Column(new categorical("CA",[r]),new continuous("CO",[i]))]),s=t?e?new Shape("Offset",[[20,0],new Shape("Text",[c.XPoints.Minimum,new Value("CAR",[new categorical("CA",[r]),.5]),new VerticalAlign("Middle",[]),new HorizontalAlign("Start",[]),0,r])]):new Shape("Offset",[[0,-20],new Shape("Text",[new Value("CAR",[new categorical("CA",[r]),.5]),c.YPoints.Minimum,new VerticalAlign("Middle",[]),new HorizontalAlign("Start",[]),-90,r])]):null;return append(singleton(Internal.applyStyle(function(e){var t=new FillStyle("Solid",[[.6,new Color("HTML",[n[0]])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},o)),delay(function(){if(function(){return null!=s}()){var e=Internal.mapColor(function(e){return[.8*e[0],.8*e[1],.8*e[2]]},n[0]);return singleton(Internal.applyStyle(function(t){var n=new FillStyle("Solid",[[1,new Color("HTML",[e])]]),i=new Width("Pixels",[0]);return new Style(t.StrokeColor,i,t.StrokeDashArray,n,t.Animation,"11pt Roboto,sans-serif",t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},s))}return empty()}))},zip(CompostHelpers.infinitely(o),a))}))])))))))};return e}({}),YouGuessLineHelpers=function(e){var t=e.YouDrawEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessLineHelpers.YouDrawEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Draw:["number","number"],ShowResults:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessLineHelpers.YouDrawEvent",t);var n=e.Status=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessLineHelpers.Status",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Autofilled:["number"],NotSet:[],Set:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessLineHelpers.Status",n);var i=e.YouDrawState=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.Completed=t,this.Clip=n,this.Data=i,this.XData=r,this.YData=o,this.Guessed=s,this.IsKeyDate=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessLineHelpers.YouDrawState",interfaces:["FSharpRecord","System.IEquatable"],properties:{Completed:"boolean",Clip:"number",
Data:FableArray(Tuple(["number","number"])),XData:FableArray(Any),YData:FableArray(Any),Guessed:FableArray(Tuple(["number",n])),IsKeyDate:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessLineHelpers.YouDrawState",i);e.initState=function(e,t,r){var o=exists(function(e){return e[0]instanceof Date},t),s=t.map(function(e){return[e[0]instanceof Date?e[0].getTime():e[0],e[1]]}),a=t.map(function(e){return e[0]}),l=t.map(function(e){return e[1]});return new i(e,r,s,a,l,_Array$from(delay(function(){return collect(function(t){return t[0]>r?singleton(e?[t[0],new n("Set",[t[1]])]:[t[0],new n("NotSet",[])]):empty()},s)})),o)},e.handler=function(e,t,r){if("Draw"===r.Case){var o=t.Guessed.map(function(e,t){return[t,e]}),s=reduce(function(e){return function(t,n){return e(t)<e(n)?t:n}}(function(e){return Math.abs(r.Fields[0]-e[1][0])}),o),a=o.map(function(e){if(e[0]===s[0])return[e[1][0],new n("Set",[r.Fields[1]])];switch(("NotSet"===e[1][1].Case&&e[0]>s[0]?[0]:[1])[0]){case 0:return[e[1][0],new n("Autofilled",[r.Fields[1]])];case 1:return[e[1][0],e[1][1]]}});return new i(t.Completed,t.Clip,t.Data,t.XData,t.YData,a,t.IsKeyDate)}return e("completed")(ofArray$1([["guess",function(){return _Array$from(choose(function(e){if("Set"===e[1].Case){var t=e[1].Fields[0];return[e[0],t]}return null},t.Guessed))}()],["values",function(){return t.Data.map(function(e){return[e[0],e[1]]})}()]])),new i(!0,t.Clip,t.Data,t.XData,t.YData,t.Guessed,t.IsKeyDate)},e.render=function(e,i,r,o,s,a,l,u,c,p,h,d,f,m){var y=_Array$from(delay(function(){return collect(function(e){return singleton([CompostHelpers.Cont(e[0]),CompostHelpers.Cont(e[1])])},m.Data)})),g=_Array$from(delay(function(){return collect(function(e){return e[0]<=m.Clip?singleton([CompostHelpers.Cont(e[0]),CompostHelpers.Cont(e[1])]):empty()},m.Data)})),v=_Array$from(delay(function(){return append(singleton(last(g)),delay(function(){return collect(function(e){return e[0]>m.Clip?singleton([CompostHelpers.Cont(e[0]),CompostHelpers.Cont(e[1])]):empty()},m.Data)}))})),C=_Array$from(delay(function(){return append(singleton(last(g)),delay(function(){return collect(function(e){var t="Set"===e[1].Case?[0,e[1].Fields[0]]:"Autofilled"===e[1].Case?[0,e[1].Fields[0]]:[1];switch(t[0]){case 0:return singleton([CompostHelpers.Cont(e[0]),CompostHelpers.Cont(t[1])]);case 1:return empty()}},m.Guessed)}))})),w=void 0,b=r.yAxis.minValue;w=null!=b?b:reduce(function(e,t){return Math.min(e,t)},map$3(function(e){return e[1]},m.Data));var S=void 0,T=r.yAxis.maxValue;S=null!=T?T:reduce(function(e,t){return Math.max(e,t)},map$3(function(e){return e[1]},m.Data));var A=[(head(m.Data)[0]+m.Clip)/2,w+(S-w)/10],x=[(last(m.Data)[0]+m.Clip)/2,w+(S-w)/10],$=(m.Clip,function(e){return function(t){var n=new FillStyle("Solid",[[1,new Color("HTML",[e])]]);return new Style([0,new Color("RGB",[0,0,0])],t.StrokeWidth,t.StrokeDashArray,n,t.Animation,"12pt Roboto,sans-serif",t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)}}),k=new Shape("Layered",[ofArray$1([new Shape("Style",[$(c),new Shape("Text",[new Value("COV",[new continuous("CO",[A[0]])]),new Value("COV",[new continuous("CO",[A[1]])]),new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),0,l])]),new Shape("Style",[$(p),new Shape("Text",[new Value("COV",[new continuous("CO",[x[0]])]),new Value("COV",[new continuous("CO",[x[1]])]),new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),0,u])])])]),F=function(e){return new Shape("Style",[function(e){var t=new FillStyle("Solid",[[1,new Color("HTML",["transparent"])]]),n=new Width("Pixels",[2]),i=ofArray$1([new _Number("Integer",[5]),new _Number("Integer",[5])]);return new Style([.6,new Color("HTML",[d])],n,i,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},e])},E=function(e){return new Shape("Style",[function(e){var t=new FillStyle("Solid",[[1,new Color("HTML",[d])]]);return new Style([0,new Color("HTML",["transparent"])],e.StrokeWidth,e.StrokeDashArray,t,e.Animation,"11pt Roboto,sans-serif",e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},e])},_=Scales.adjustRange(w,S),O=toList(delay(function(){return collect(function(e){var t=e[1][0],n=e[1][1],i=e[0]%2==0?[.9,.95]:[.8,.85],r=_[0]+(_[1]-_[0])*i[1],o=_[0]+(_[1]-_[0])*i[0];return append(singleton(F(new Shape("Line",[ofArray$1([[new Value("COV",[new continuous("CO",[t])]),new Value("COV",[new continuous("CO",[_[0]])])],[new Value("COV",[new continuous("CO",[t])]),new Value("COV",[new continuous("CO",[o])])]])]))),delay(function(){return singleton(E(new Shape("Text",[new Value("COV",[new continuous("CO",[t])]),new Value("COV",[new continuous("CO",[r])]),new VerticalAlign("Middle",[]),new HorizontalAlign("Center",[]),0,toString$2(n)])))}))},mapIndexed(function(e,t){return[e,t]},a))})),P=new Shape("Layered",[toList(delay(function(){return append(singleton(k),delay(function(){return append(O,delay(function(){return append(singleton(new Shape("Style",[function(e){return Drawing.hideStroke(Drawing.hideFill(e))},new Shape("Line",[y])])),delay(function(){return append(singleton(new Shape("Style",[function(e){var t=[1,new Color("HTML",[c])],n=new FillStyle("Solid",[[.2,new Color("HTML",[c])]]);return new Style(t,e.StrokeWidth,e.StrokeDashArray,n,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Layered",[ofArray$1([Derived.Area(g),new Shape("Line",[g])])])])),delay(function(){return append(m.Completed?singleton(new Shape("Style",[function(e){var t=[1,new Color("HTML",[p])],n=ofArray$1([new _Number("Percentage",[0]),new _Number("Percentage",[100])]),i=new FillStyle("Solid",[[0,new Color("HTML",[p])]]),r=[1e3,"ease",function(e){var t=ofArray$1([new _Number("Percentage",[100]),new _Number("Percentage",[0])]),n=new FillStyle("Solid",[[.2,new Color("HTML",[p])]]);return new Style(e.StrokeColor,e.StrokeWidth,t,n,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)}];return new Style(t,e.StrokeWidth,n,i,r,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Layered",[ofArray$1([Derived.Area(v),new Shape("Line",[v])])])])):empty(),delay(function(){return C.length>1?singleton(new Shape("Style",[function(e){var t=[1,new Color("HTML",[h])],n=ofArray$1([new _Number("Integer",[5]),new _Number("Integer",[5])]);return new Style(t,e.StrokeWidth,n,e.Fill,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Line",[C])])):empty()}))}))}))}))}))}))]),L=Internal.applyAxes(!1,!1,!0,!0,Internal.applyLabels(Internal.applyScales(function(){var e=[o,s];return function(t){return Internal.initChart(e[0],e[1],m.XData,m.YData,r,t)}}()(P)))),N=Internal.applyInteractive(m.Completed?new List$1:ofArray$1([new EventHandler("MouseMove",[function(e){return function(n){var i=CompostHelpers["|Cont|"](n[0]),r=CompostHelpers["|Cont|"](n[1]);1==(1&~~e.buttons)&&f(new t("Draw",[i,r]))}}]),new EventHandler("TouchMove",[function(e){return function(e){var n=CompostHelpers["|Cont|"](e[0]),i=CompostHelpers["|Cont|"](e[1]);f(new t("Draw",[n,i]))}}]),new EventHandler("MouseDown",[function(e){return function(e){var n=CompostHelpers["|Cont|"](e[0]),i=CompostHelpers["|Cont|"](e[1]);f(new t("Draw",[n,i]))}}]),new EventHandler("TouchStart",[function(e){return function(e){var n=CompostHelpers["|Cont|"](e[0]),i=CompostHelpers["|Cont|"](e[1]);f(new t("Draw",[n,i]))}}])]),L.Chart);return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(toList(delay(function(){return append(singleton(Compost.createSvg(!1,!1,o,s,N)),delay(function(){return m.Completed&&function(){return null!=e}()?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(ofArray$1([op_EqualsGreater("class","solved")]))(ofArray$1([text(e)]))]))):i?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append(singleton(op_EqualsGreater("type","button")),delay(function(){return append(singleton(op_EqualsBangGreater("click",function(e){return function(e){f(new t("ShowResults",[]))}})),delay(function(){return last(m.Guessed)[1].Equals(new n("NotSet",[]))?singleton(op_EqualsGreater("disabled","disabled")):empty()}))}))})))(ofArray$1([text("Show me how I did")]))]))):empty()}))})))};return e}({}),YouGeussLineOffsetHelpers=function(e){var t=e.YouDrawEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGeussLineOffsetHelpers.YouDrawEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Animate:[],ContinueMoving:["number"],HideOverlay:[],ShowResults:[],StartMoving:["number"],StopMoving:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGeussLineOffsetHelpers.YouDrawEvent",t);var n=e.YouDrawState=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){_classCallCheck(this,e),this.Completed=t,this.Interactive=n,this.Data=i,this.XData=r,this.YData=o,this.IsKeyDate=s,this.OffsetStart=a,this.Offset=l,this.OffsetRange=u,this.XRange=c,this.YRange=p,this.OverlayHiding=h,this.OverlayOpacity=d,this.CompletionStep=f,this.ChartOptions=m}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGeussLineOffsetHelpers.YouDrawState",interfaces:["FSharpRecord","System.IEquatable"],properties:{Completed:"boolean",Interactive:"boolean",Data:FableArray(Tuple(["number","number"])),XData:FableArray(Any),YData:FableArray(Any),IsKeyDate:"boolean",OffsetStart:Option("number"),Offset:"number",OffsetRange:Tuple(["number","number"]),XRange:Tuple(["number","number"]),YRange:Tuple(["number","number"]),OverlayHiding:"boolean",OverlayOpacity:"number",CompletionStep:"number",ChartOptions:ChartOptions}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Interactive.YouGeussLineOffsetHelpers.YouDrawState",n);e.initState=function(e,t,i){var r=exists(function(e){return e[0]instanceof Date},i),o=i.map(function(e){return[e[0]instanceof Date?e[0].getTime():e[0],e[1]]}),s=function(e){return function(t){return[defaultArg(e.minValue,min$2(t))instanceof Date?defaultArg(e.minValue,min$2(t)).getTime():defaultArg(e.minValue,min$2(t)),defaultArg(e.maxValue,max$1(t))instanceof Date?defaultArg(e.maxValue,max$1(t)).getTime():defaultArg(e.maxValue,max$1(t))]}},a=s(t.xAxis)(map$3(function(e){return e[1]},o)),l=s(t.yAxis)(map$3(function(e){return e[0]},o)),u=reduce(function(e,t){return Math.min(e,t)},map$3(function(e){return e[0]instanceof Date?e[0].getTime():e[0]},i)),c=reduce(function(e,t){return Math.max(e,t)},map$3(function(e){return e[0]instanceof Date?e[0].getTime():e[0]},i)),p=!e,h=i.map(function(e){return e[1]}),d=i.map(function(e){return e[0]}),f=l[0]-u,m=[l[1]-c,l[0]-u];return new n(e,p,o,h,d,r,null,f,m,[a[0],a[1]],[l[0],l[1]],e,e?1:0,e?1:0,t)},e.handler=function(e,t,i){if("HideOverlay"===i.Case){var r=t.OverlayOpacity+.1;return new n(t.Completed,t.Interactive,t.Data,t.XData,t.YData,t.IsKeyDate,t.OffsetStart,t.Offset,t.OffsetRange,t.XRange,t.YRange,t.OverlayHiding,r,t.CompletionStep,t.ChartOptions)}if("StartMoving"===i.Case){var o=i.Fields[0]-t.Offset;return new n(t.Completed,t.Interactive,t.Data,t.XData,t.YData,t.IsKeyDate,o,t.Offset,t.OffsetRange,t.XRange,t.YRange,!0,t.OverlayOpacity,t.CompletionStep,t.ChartOptions)}if("ContinueMoving"===i.Case){if(function(){return null==t.OffsetStart}())return t;var s=t.OffsetRange[1]<(t.OffsetRange[0]>i.Fields[0]-t.OffsetStart?t.OffsetRange[0]:i.Fields[0]-t.OffsetStart)?t.OffsetRange[1]:t.OffsetRange[0]>i.Fields[0]-t.OffsetStart?t.OffsetRange[0]:i.Fields[0]-t.OffsetStart;return new n(t.Completed,t.Interactive,t.Data,t.XData,t.YData,t.IsKeyDate,t.OffsetStart,s,t.OffsetRange,t.XRange,t.YRange,t.OverlayHiding,t.OverlayOpacity,t.CompletionStep,t.ChartOptions)}if("ShowResults"===i.Case)return e("completed")(ofArray$1([["offset",t.Offset],["values",function(){return t.Data.map(function(e){return[e[0],e[1]]})}()]])),new n(!0,t.Interactive,t.Data,t.XData,t.YData,t.IsKeyDate,t.OffsetStart,t.Offset,t.OffsetRange,t.XRange,t.YRange,t.OverlayHiding,t.OverlayOpacity,t.CompletionStep,t.ChartOptions);if("Animate"===i.Case){var a=1<t.CompletionStep+.05?1:t.CompletionStep+.05;return new n(t.Completed,t.Interactive,t.Data,t.XData,t.YData,t.IsKeyDate,t.OffsetStart,t.Offset,t.OffsetRange,t.XRange,t.YRange,t.OverlayHiding,t.OverlayOpacity,a,t.ChartOptions)}return new n(t.Completed,t.Interactive,t.Data,t.XData,t.YData,t.IsKeyDate,null,t.Offset,t.OffsetRange,t.XRange,t.YRange,t.OverlayHiding,t.OverlayOpacity,t.CompletionStep,t.ChartOptions)},e.render=function(e,n,i,r,o,s,a,l,u,c,p){p.Completed&&p.CompletionStep<1&&window.setTimeout(function(){c(new t("Animate",[]))},50),p.OverlayHiding&&p.OverlayOpacity<1&&window.setTimeout(function(){c(new t("HideOverlay",[]))},50);var h=[p.XRange,p.YRange],d=h[1][0],f=h[0][0],m=h[1][1],y=h[0][1],g=function(e){var t=(p.ChartOptions.yAxis.minValue instanceof Date?p.ChartOptions.yAxis.minValue.getTime():p.ChartOptions.yAxis.minValue)-e,n=(p.ChartOptions.yAxis.maxValue instanceof Date?p.ChartOptions.yAxis.maxValue.getTime():p.ChartOptions.yAxis.maxValue)-e;return function(){var e=n,i=t,r=Internal.prevAndNext(p.Data).filter(function(t){return t[1][0]>i&&t[1][0]<e});if(0===r.length)return[];var o=[r[0],r[r.length-1]],s=o[0][1],a=o[0][0],l=o[1][2],u=o[1][1],c=r.map(function(e){return e[1]});return _Array$from(concat(ofArray$1([function(){var e=i,t=s[0],n=a[1],r=a[0];return equals(r,t)?[]:[[e,n+(s[1]-n)*(e-r)/(t-r)]]}(),c,function(){var t=e,n=l[0],i=u[1],r=u[0];return equals(r,n)?[]:[[t,i+(l[1]-i)*(t-r)/(n-r)]]}()])))}().map(function(t){return[new Value("COV",[new continuous("CO",[t[1]])]),new Value("COV",[new continuous("CO",[t[0]+e])])]})},v=Internal.applyStyle(function(e){var t=p.Completed?"":"move,grab,-moz-grab,-webkit-grab";return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,t,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Layered",[toList(delay(function(){return append(collect(function(e){var t=e[0][0],n=(e[0][1],function(e){var n=t,i=find(function(e){return e[0][0]<=n&&e[1][0]>=n},pairwise(e));return head(function(){var e=n,t=i[1][0],r=i[0][1],o=i[0][0];return equals(o,t)?[]:[[e,r+(i[1][1]-r)*(e-o)/(t-o)]]}())}(map$3(function(e){return[e[0]+p.Offset*(1-p.CompletionStep),e[1]]},p.Data))),i=(new Shape("Bubble",[new Value("COV",[new continuous("CO",[y])]),new Value("COV",[new continuous("CO",[t])]),4,4]),new Shape("Offset",[[0,5],new Shape("Text",[new Value("COV",[new continuous("CO",[y])]),new Value("COV",[new continuous("CO",[t])]),new VerticalAlign("Hanging",[]),new HorizontalAlign("End",[]),0,e[1]])]));return append(singleton(Internal.applyStyle(function(e){var t=new Width("Pixels",[0]),n=new FillStyle("Solid",[[.8,new Color("HTML",[u])]]);return new Style(e.StrokeColor,t,e.StrokeDashArray,n,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},i)),delay(function(){var e=new Shape("Line",[ofArray$1([[new Value("COV",[new continuous("CO",[n[1]])]),new Value("COV",[new continuous("CO",[t])])],[new Value("COV",[new continuous("CO",[y])]),new Value("COV",[new continuous("CO",[t])])]])]);return singleton(Internal.applyStyle(function(e){var t=new Width("Pixels",[2]);return new Style([.8,new Color("HTML",[u])],t,e.StrokeDashArray,e.Fill,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},e))}))},zip(s,o)),delay(function(){return append(p.Completed?empty():singleton(new Shape("Style",[function(e){var t=new FillStyle("Solid",[[.5,new Color("HTML",[a])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.VShiftedArea(f,g(p.Offset))])),delay(function(){return append(p.Interactive?singleton(new Shape("Style",[function(e){var t=[1,new Color("HTML",[a])],n=ofArray$1([new _Number("Integer",[5]),new _Number("Integer",[5])]);return new Style(t,e.StrokeWidth,n,e.Fill,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Line",[g(p.Offset)])])):empty(),delay(function(){return append(p.Completed?function(){var e=Internal.parseColor(a),t=Internal.parseColor(l),n=function(e){return function(t){return(1-p.CompletionStep)*e+p.CompletionStep*t}},i=Internal.formatColor(n(e[0])(t[0]),n(e[1])(t[1]),n(e[2])(t[2])),r=g(p.Offset*(1-p.CompletionStep));return append(singleton(new Shape("Style",[function(e){var t=new FillStyle("Solid",[[.5,new Color("HTML",[i])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.VShiftedArea(f,r)])),delay(function(){return singleton(new Shape("Style",[function(e){return new Style([1,new Color("HTML",[i])],e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Layered",[ofArray$1([new Shape("Line",[r])])])]))}))}():empty(),delay(function(){return singleton(Internal.applyStyle(function(e){var t=new FillStyle("Solid",[[.75*(1-p.OverlayOpacity),new Color("HTML",["#eaeaea"])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Shape",[ofArray$1([[new Value("COV",[new continuous("CO",[f])]),new Value("COV",[new continuous("CO",[d])])],[new Value("COV",[new continuous("CO",[f])]),new Value("COV",[new continuous("CO",[m])])],[new Value("COV",[new continuous("CO",[y])]),new Value("COV",[new continuous("CO",[m])])],[new Value("COV",[new continuous("CO",[y])]),new Value("COV",[new continuous("CO",[d])])]])])))}))}))}))}))}))])),C=Internal.applyAxes(!1,!1,!0,!0,Internal.applyLabels(Internal.applyScales(function(){var e=[i,r];return function(t){return Internal.initChart(e[0],e[1],p.XData,p.YData,p.ChartOptions,t)}}()(v)))),w=Internal.applyInteractive(p.Completed?new List$1:ofArray$1([new EventHandler("MouseUp",[function(e){return function(e){c(new t("StopMoving",[]))}}]),new EventHandler("TouchEnd",[function(e){c(new t("StopMoving",[]))}]),new EventHandler("MouseMove",[function(e){return function(n){var i=(CompostHelpers["|Cont|"](n[0]),CompostHelpers["|Cont|"](n[1]));1==(1&~~e.buttons)&&c(new t("ContinueMoving",[i]))}}]),new EventHandler("TouchMove",[function(e){return function(e){var n=(CompostHelpers["|Cont|"](e[0]),CompostHelpers["|Cont|"](e[1]));c(new t("ContinueMoving",[n]))}}]),new EventHandler("MouseDown",[function(e){return function(e){var n=(CompostHelpers["|Cont|"](e[0]),CompostHelpers["|Cont|"](e[1]));c(new t("StartMoving",[n]))}}]),new EventHandler("TouchStart",[function(e){return function(e){var n=(CompostHelpers["|Cont|"](e[0]),CompostHelpers["|Cont|"](e[1]));c(new t("StartMoving",[n]))}}])]),new Shape("Padding",[[20,0,0,0],C.Chart]));return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(toList(delay(function(){return append(singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style",fsFormat("width:%dpx; height:0px; margin:0px auto 0px auto")(function(e){return e})(~~i))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","pointer-events:none; move,grab,-moz-grab,-webkit-grab;"+fsFormat("opacity:%f; width:50px; height:70px; border-radius:15px; background:#808080;")(function(e){return e})(.5*(1-p.OverlayOpacity))+fsFormat("position:relative; left:%dpx;top:%dpx")(function(e){return e})(45+~~(~~(i-50)/2))(~~(~~(r-70)/2)-30))]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray$1([op_EqualsGreater("style","margin:12px 0px 0px 1px;font-size:42px;color:#f0f0f0"),op_EqualsGreater("class","fa fa-hand-o-down")]))(new List$1)]))]))),delay(function(){return append(singleton(Compost.createSvg(!1,p.IsKeyDate,i,r,w)),delay(function(){return p.Completed&&function(){return null!=e}()?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(ofArray$1([op_EqualsGreater("class","solved")]))(ofArray$1([text(e)]))]))):n?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append(singleton(op_EqualsGreater("type","button")),delay(function(){return append(singleton(op_EqualsBangGreater("click",function(e){return function(e){c(new t("ShowResults",[]))}})),delay(function(){return p.OverlayOpacity<1?singleton(op_EqualsGreater("disabled","disabled")):empty()}))}))})))(ofArray$1([text("Show me how I did")]))]))):empty()}))}))})))};return e}({}),YouGuessColsHelpers=function(e){var t=e.YouGuessState=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.Completed=t,this.CompletionStep=n,this.Default=i,this.Maximum=r,this.XData=o,this.YData=s,this.Data=a,this.Guesses=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessColsHelpers.YouGuessState",interfaces:["FSharpRecord","System.IEquatable"],properties:{Completed:"boolean",CompletionStep:"number",Default:"number",Maximum:"number",XData:FableArray(Any),YData:FableArray(Any),Data:FableArray(Tuple(["string","number"])),Guesses:makeGeneric(FableMap,{Key:"string",Value:"number"})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessColsHelpers.YouGuessState",t);var n=e.YouGuessEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessColsHelpers.YouGuessEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Animate:[],ShowResults:[],Update:["string","number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessColsHelpers.YouGuessEvent",n);e.initState=function(e,n,i,r){var o=n?Internal.arrayMap(function(e){return e[1]},i):Internal.arrayMap(function(e){return e[0]},i),s=n?Internal.arrayMap(function(e){return e[0]},i):Internal.arrayMap(function(e){return e[1]},i);return new t(e,0,averageBy(function(e){return e[1]},i),InteractiveHelpers.calclateMax(r,i),o,s,i,e?create$6(i,new GenericComparer(compare)):create$6(null,new GenericComparer(compare)))},e.update=function(e,n,i){if("Animate"===i.Case){var r=1<n.CompletionStep+.05?1:n.CompletionStep+.05;return new t(n.Completed,r,n.Default,n.Maximum,n.XData,n.YData,n.Data,n.Guesses)}if("Update"===i.Case){var o=add$3(i.Fields[0],i.Fields[1],n.Guesses);return new t(n.Completed,n.CompletionStep,n.Default,n.Maximum,n.XData,n.YData,n.Data,o)}return e("completed")(ofArray$1([["guess",function(){return _Array$from(map$3(function(e){var t=e;return[t[0],t[1]]},n.Guesses))}()],["values",function(){return n.Data.map(function(e){return[e[0],e[1]]})}()]])),new t(!0,n.CompletionStep,n.Default,n.Maximum,n.XData,n.YData,n.Data,n.Guesses)},e.renderCols=function(e,t,i,r,o,s,a){a.Completed&&a.CompletionStep<1&&window.setTimeout(function(){s(new n("Animate",[]))},50);var l=new Shape("Axes",[!1,!1,!0,!0,new Shape("AutoScale",[!1,!0,new Shape("Interactive",[a.Completed?new List$1:ofArray$1([new EventHandler("MouseMove",[function(e){return function(t){var i=CompostHelpers["|Cat|"](t[0]),r=CompostHelpers["|Cont|"](t[1]);1==(1&~~e.buttons)&&s(new n("Update",[i[0],r]))}}]),new EventHandler("MouseDown",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[0]),i=CompostHelpers["|Cont|"](e[1]);s(new n("Update",[t[0],i]))}}]),new EventHandler("TouchStart",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[0]),i=CompostHelpers["|Cont|"](e[1]);s(new n("Update",[t[0],i]))}}]),new EventHandler("TouchMove",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[0]),i=CompostHelpers["|Cont|"](e[1]);s(new n("Update",[t[0],i]))}}])]),new Shape("Style",[function(e){if(a.Completed)return e;return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,"row-resize",e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Layered",[toList(delay(function(){return append(singleton(new Shape("Stack",[new Orientation("Horizontal",[]),toList(delay(function(){return collect(function(e){var t=(e[1][1],e[1][0]);return singleton(function(){var e=new Shape("Style",[function(e){var t=new FillStyle("Solid",[[.2,new Color("HTML",["#a0a0a0"])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.Column(new categorical("CA",[t]),new continuous("CO",[a.Maximum]))]);return new Shape("Padding",[[0,10,0,10],e])}())},zip(CompostHelpers.infinitely(CompostHelpers.vega10),a.Data))}))])),delay(function(){return append(singleton(new Shape("Stack",[new Orientation("Horizontal",[]),toList(delay(function(){return collect(function(e){var t=e[1][1],n=e[1][0];return singleton(function(){var i=void 0,r=[a.Completed,tryFind$1(n,a.Guesses)];switch((r[0]?null==r[1]?[2]:[0]:null==r[1]?[2]:[1])[0]){case 0:var o=r[1];i=[.6,a.CompletionStep*t+(1-a.CompletionStep)*o];break;case 1:i=[.6,r[1]];break;case 2:i=[.2,a.Default]}var s=new Shape("Style",[function(t){var n=new FillStyle("Solid",[[i[0],new Color("HTML",[e[0]])]]);return new Style(t.StrokeColor,t.StrokeWidth,t.StrokeDashArray,n,t.Animation,t.Font,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},Derived.Column(new categorical("CA",[n]),new continuous("CO",[i[1]]))]);return new Shape("Padding",[[0,10,0,10],s])}())},zip(CompostHelpers.infinitely(CompostHelpers.vega10),a.Data))}))])),delay(function(){return append(collect(function(e){var t=(e[1][1],e[1][0]),n=tryFind$1(t,a.Guesses);if(null!=n){var i=new Shape("Line",[ofArray$1([[new Value("CAR",[new categorical("CA",[t]),0]),new Value("COV",[new continuous("CO",[n])])],[new Value("CAR",[new categorical("CA",[t]),1]),new Value("COV",[new continuous("CO",[n])])]])]);return singleton(new Shape("Style",[function(t){return new Style([1,new Color("HTML",[e[0]])],new Width("Pixels",[4]),ofArray$1([new _Number("Integer",[5]),new _Number("Integer",[5])]),t.Fill,t.Animation,t.Font,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},new Shape("Padding",[[0,10,0,10],i])]))}return empty()},zip(CompostHelpers.infinitely(CompostHelpers.vega10),a.Data)),delay(function(){if(null!=o){var e=new Value("CAR",[new categorical("CA",[a.Data[~~(a.Data.length/2)][0]]),a.Data.length%2==0?0:.5]),t=new Value("COV",[new continuous("CO",[.9*a.Maximum])]);return singleton(new Shape("Style",[function(e){var t=new FillStyle("Solid",[[1,new Color("HTML",["#808080"])]]);return new Style([0,new Color("RGB",[0,0,0])],e.StrokeWidth,e.StrokeDashArray,t,e.Animation,"13pt Roboto,sans-serif",e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Text",[e,t,new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),0,o])]))}return empty()}))}))}))}))])])])])]);return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(toList(delay(function(){return append(singleton(Compost.createSvg(!1,!1,i,r,l)),delay(function(){return a.Completed&&function(){return null!=e}()?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(ofArray$1([op_EqualsGreater("class","solved")]))(ofArray$1([text(e)]))]))):t?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append(singleton(op_EqualsGreater("type","button")),delay(function(){return append(singleton(op_EqualsBangGreater("click",function(e){return function(e){s(new n("ShowResults",[]))}})),delay(function(){return a.Guesses.size!==a.Data.length?singleton(op_EqualsGreater("disabled","disabled")):empty()}))}))})))(ofArray$1([text("Show me how I did")]))]))):empty()}))})))},e.renderBars=function(e,t,i,r,o,s,a,l){var u=[r,o];l.Completed&&l.CompletionStep<1&&window.setTimeout(function(){a(new n("Animate",[]))},50);var c=void 0;if(i&&function(){return null==s.yAxis.labelOffset}()){var p=void 0;p=new AxisOptions(s.yAxis.minValue,s.yAxis.maxValue,s.yAxis.label,10,s.yAxis.labelMinimalSize),c=new ChartOptions(s.size,s.xAxis,p,s.title,s.legend,s.emptyMessage)}else c=s;var h=Internal.applyStyle(function(e){if(l.Completed)return e;return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,"col-resize",e.FormatAxisXLabel,e.FormatAxisYLabel)},Internal.applyInteractive(l.Completed?new List$1:ofArray$1([new EventHandler("MouseMove",[function(e){return function(t){var i=CompostHelpers["|Cont|"](t[0]),r=CompostHelpers["|Cat|"](t[1]);1==(1&~~e.buttons)&&a(new n("Update",[r[0],i]))}}]),new EventHandler("MouseDown",[function(e){return function(e){var t=CompostHelpers["|Cont|"](e[0]),i=CompostHelpers["|Cat|"](e[1]);a(new n("Update",[i[0],t]))}}]),new EventHandler("TouchStart",[function(e){return function(e){var t=CompostHelpers["|Cont|"](e[0]),i=CompostHelpers["|Cat|"](e[1]);a(new n("Update",[i[0],t]))}}]),new EventHandler("TouchMove",[function(e){return function(e){var t=CompostHelpers["|Cont|"](e[0]),i=CompostHelpers["|Cat|"](e[1]);a(new n("Update",[i[0],t]))}}])]),new Shape("Layered",[toList(delay(function(){return append(singleton(new Shape("Stack",[new Orientation("Vertical",[]),toList(delay(function(){return collect(function(e){var t=(e[1][1],e[1][0]);return singleton(function(){var e=new Shape("Style",[function(e){var t=new FillStyle("Solid",[[.2,new Color("HTML",["#a0a0a0"])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.Bar(new continuous("CO",[l.Maximum]),new categorical("CA",[t]))]);return new Shape("Padding",[[10,0,10,0],e])}())},zip(CompostHelpers.infinitely(CompostHelpers.vega10),l.Data))}))])),delay(function(){return append(singleton(new Shape("Stack",[new Orientation("Vertical",[]),toList(delay(function(){return collect(function(e){var t=e[1][1],n=e[1][0];return singleton(function(){var i=void 0,r=[l.Completed,tryFind$1(n,l.Guesses)];switch((r[0]?null==r[1]?[2]:[0]:null==r[1]?[2]:[1])[0]){case 0:var o=r[1];i=[.6,l.CompletionStep*t+(1-l.CompletionStep)*o];break;case 1:i=[.6,r[1]];break;case 2:i=[.2,l.Default]}var s=new Shape("Style",[function(t){var n=new FillStyle("Solid",[[i[0],new Color("HTML",[e[0]])]]);return new Style(t.StrokeColor,t.StrokeWidth,t.StrokeDashArray,n,t.Animation,t.Font,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},Derived.Bar(new continuous("CO",[i[1]]),new categorical("CA",[n]))]);return new Shape("Padding",[[10,0,10,0],s])}())},zip(CompostHelpers.infinitely(CompostHelpers.vega10),l.Data))}))])),delay(function(){return append(i?collect(function(e){
var t=e[1][0],n=new Value("COV",[new continuous("CO",[.95*l.Maximum])]),i=new Value("CAR",[new categorical("CA",[t]),.5]);return singleton(new Shape("Style",[function(t){var n=new FillStyle("Solid",[[1,new Color("HTML",[e[0]])]]);return new Style([0,new Color("RGB",[0,0,0])],t.StrokeWidth,t.StrokeDashArray,n,t.Animation,"13pt Roboto,sans-serif",t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},new Shape("Text",[n,i,new VerticalAlign("Middle",[]),new HorizontalAlign("End",[]),0,t])]))},zip(CompostHelpers.infinitely(CompostHelpers.vega10),l.Data)):empty(),delay(function(){return collect(function(e){var t=(e[1][1],e[1][0]),n=tryFind$1(t,l.Guesses);if(null!=n){var i=new Shape("Line",[ofArray$1([[new Value("COV",[new continuous("CO",[n])]),new Value("CAR",[new categorical("CA",[t]),0])],[new Value("COV",[new continuous("CO",[n])]),new Value("CAR",[new categorical("CA",[t]),1])]])]);return singleton(new Shape("Style",[function(t){return new Style([1,new Color("HTML",[e[0]])],new Width("Pixels",[4]),ofArray$1([new _Number("Integer",[5]),new _Number("Integer",[5])]),t.Fill,t.Animation,t.Font,t.Cursor,t.FormatAxisXLabel,t.FormatAxisYLabel)},new Shape("Padding",[[10,0,10,0],i])]))}return empty()},zip(CompostHelpers.infinitely(CompostHelpers.vega10),l.Data))}))}))}))}))]))),d=function(){var e=zip(CompostHelpers.infinitely(CompostHelpers.vega10),map$3(function(e){return e[0]},l.Data));return function(t){return Internal.applyLegend(u[0],u[1],e,t)}}()(Internal.applyAxes(!1,!1,!0,!i,Internal.applyLabels(Internal.applyScales(function(e){return Internal.initChart(u[0],u[1],l.XData,l.YData,c,e)}(h)))));return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(toList(delay(function(){return append(singleton(function(){return Compost.createSvg(!1,!1,u[0],u[1],d.Chart)}()),delay(function(){return l.Completed&&function(){return null!=e}()?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(ofArray$1([op_EqualsGreater("class","solved")]))(ofArray$1([text(e)]))]))):t?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append(singleton(op_EqualsGreater("type","button")),delay(function(){return append(singleton(op_EqualsBangGreater("click",function(e){return function(e){a(new n("ShowResults",[]))}})),delay(function(){return l.Guesses.size!==l.Data.length?singleton(op_EqualsGreater("disabled","disabled")):empty()}))}))})))(ofArray$1([text("Show me how I did")]))]))):empty()}))})))};return e}({}),YouGuessSortHelpers=function(e){var t=e.YouGuessState=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.Data=t,this.Colors=n,this.Assignments=i,this.Selected=r,this.Maximum=o,this.CompletionStep=s,this.Completed=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessSortHelpers.YouGuessState",interfaces:["FSharpRecord","System.IEquatable"],properties:{Data:FableArray(Tuple(["string","number"])),Colors:Interface("System.Collections.Generic.IDictionary"),Assignments:makeGeneric(FableMap,{Key:"string",Value:"string"}),Selected:"string",Maximum:"number",CompletionStep:"number",Completed:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessSortHelpers.YouGuessState",t);var n=e.YouGuessEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessSortHelpers.YouGuessEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Animate:[],AssignCurrent:["string"],SelectItem:["string"],ShowResults:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessSortHelpers.YouGuessEvent",n);e.initState=function(e,n,i){var r=new _Map(map2(function(e,t){return[e[0],t]},i,CompostHelpers.vega10)),o=head(i)[0],s=InteractiveHelpers.calclateMax(n,i);return new t(i,r,e?create$6(toList(delay(function(){return collect(function(e){return singleton([e[0],e[0]])},i)})),new GenericComparer(compare)):create$6(null,new GenericComparer(compare)),o,s,0,e)},e.update=function(e,n,i){if("ShowResults"===i.Case){e("completed")(ofArray$1([["values",function(){return n.Data.map(function(e){return[e[0],e[1]]})}()],["guess",function(){return _Array$from(map$3(function(e){var t=e,i=pick(function(e){return e[0]===t[0]?e[1]:null},n.Data);return[t[1],i]},n.Assignments))}()]]));return new t(n.Data,n.Colors,n.Assignments,n.Selected,n.Maximum,n.CompletionStep,!0)}if("SelectItem"===i.Case)return e("select")(ofArray$1([["selection",i.Fields[0]]])),new t(n.Data,n.Colors,n.Assignments,i.Fields[0],n.Maximum,n.CompletionStep,n.Completed);if("AssignCurrent"===i.Case){var r=function(e){return add$3(i.Fields[0],n.Selected,e)}(filter$3(function(e,t){return t!==n.Selected},n.Assignments)),o=create$5(map$3(function(e){return e[1]},r),new GenericComparer(compare)),s=tryHead(filter(function(e){return function(e){return!e}(function(e){return o.has(e)}(e))},map$3(function(e){return e[0]},n.Data))),a=null!=s?s:n.Selected;return new t(n.Data,n.Colors,r,a,n.Maximum,n.CompletionStep,n.Completed)}var l=1<n.CompletionStep+.05?1:n.CompletionStep+.05;return new t(n.Data,n.Colors,n.Assignments,n.Selected,n.Maximum,l,n.Completed)},e.renderBars=function(e,t,i,r,o,s){s.Completed&&s.CompletionStep<1&&window.setTimeout(function(){o(new n("Animate",[]))},50);var a=new Shape("Axes",[!1,!1,!0,!1,new Shape("AutoScale",[!0,!1,new Shape("Interactive",[s.Completed?new List$1:ofArray$1([new EventHandler("MouseDown",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[1]);o(new n("AssignCurrent",[t[0]]))}}]),new EventHandler("TouchStart",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[1]);o(new n("AssignCurrent",[t[0]]))}}]),new EventHandler("TouchMove",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[1]);o(new n("AssignCurrent",[t[0]]))}}])]),new Shape("Style",[function(e){if(s.Completed)return e;return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,"pointer",e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Layered",[toList(delay(function(){return singleton(new Shape("Stack",[new Orientation("Vertical",[]),toList(delay(function(){return collect(function(e){var t=e[1][1],n=e[1][0],i=void 0,r=[s.Completed,tryFind$1(n,s.Assignments)];switch((r[0]?null==r[1]?[2]:[0]:null==r[1]?[2]:[1])[0]){case 0:var o=r[1],a=find(function(e){return e[0]===o},s.Data);i=[.6,s.CompletionStep*a[1]+(1-s.CompletionStep)*t,s.Colors.get(o)];break;case 1:var l=r[1];i=[.6,t,s.Colors.get(l)];break;case 2:i=[.3,t,"#a0a0a0"]}return append(e[0]===s.Data.length-1&&0===s.Assignments.size?function(){var e=new Shape("Text",[new Value("COV",[new continuous("CO",[.05*s.Maximum])]),new Value("CAR",[new categorical("CA",[n]),.5]),new VerticalAlign("Middle",[]),new HorizontalAlign("Start",[]),0,"Assign highlighted value to one of the bars by clicking on it!"]);return singleton(new Shape("Style",[function(e){var t=new FillStyle("Solid",[[1,new Color("HTML",["#606060"])]]);return new Style([0,new Color("HTML",["white"])],e.StrokeWidth,e.StrokeDashArray,t,e.Animation,"13pt Roboto,sans-serif",e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},e]))}():empty(),delay(function(){var e=new Shape("Style",[function(e){var t=new FillStyle("Solid",[[i[0],new Color("HTML",[i[2]])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.Bar(new continuous("CO",[i[1]]),new categorical("CA",[n]))]);return append("#a0a0a0"!==i[2]?function(){var e=new Shape("Line",[ofArray$1([[new Value("COV",[new continuous("CO",[t])]),new Value("CAR",[new categorical("CA",[n]),0])],[new Value("COV",[new continuous("CO",[t])]),new Value("CAR",[new categorical("CA",[n]),1])]])]);return singleton(new Shape("Style",[function(e){return new Style([1,new Color("HTML",[i[2]])],new Width("Pixels",[4]),ofArray$1([new _Number("Integer",[5]),new _Number("Integer",[5])]),e.Fill,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Padding",[[5,0,5,0],e])]))}():empty(),delay(function(){return singleton(new Shape("Padding",[[5,0,5,0],e]))}))}))},mapIndexed(function(e,t){return[e,t]},sortWith(function(e,t){return compare(function(e){return e[1]}(e),function(e){return e[1]}(t))},s.Data)))}))]))}))])])])])]),l=new Shape("Padding",[[0,20,20,25],new Shape("InnerScale",[[new continuous("CO",[0]),new continuous("CO",[100])],null,new Shape("Interactive",[s.Completed?new List$1:ofArray$1([new EventHandler("MouseDown",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[1]);o(new n("SelectItem",[t[0]]))}}]),new EventHandler("TouchStart",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[1]);o(new n("SelectItem",[t[0]]))}}]),new EventHandler("TouchMove",[function(e){return function(e){var t=CompostHelpers["|Cat|"](e[1]);o(new n("SelectItem",[t[0]]))}}])]),new Shape("Layered",[toList(delay(function(){return collect(function(e){var t=s.Colors.get(e[0]),n=new Value("COV",[new continuous("CO",[5])]),i=new Value("CAR",[new categorical("CA",[e[0]]),.5]),r=s.Completed||e[0]===s.Selected?[.9,1]:[.2,.6];return append(singleton(new Shape("Style",[function(e){var n=new FillStyle("Solid",[[r[0],new Color("HTML",[t])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,n,e.Animation,e.Font,e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Padding",[[2,0,2,0],Derived.Bar(new continuous("CO",[4]),new categorical("CA",[e[0]]))])])),delay(function(){return append(singleton(new Shape("Style",[function(e){var n=new FillStyle("Solid",[[r[1],new Color("HTML",[t])]]);return new Style([0,new Color("RGB",[0,0,0])],e.StrokeWidth,e.StrokeDashArray,n,e.Animation,"11pt Roboto,sans-serif",e.Cursor,e.FormatAxisXLabel,e.FormatAxisYLabel)},new Shape("Text",[n,i,new VerticalAlign("Middle",[]),new HorizontalAlign("Start",[]),0,e[0]])])),delay(function(){return s.Completed?empty():singleton(new Shape("Style",[function(e){var t=new FillStyle("Solid",[[0,new Color("HTML",["white"])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,"pointer",e.FormatAxisXLabel,e.FormatAxisYLabel)},Derived.Bar(new continuous("CO",[100]),new categorical("CA",[e[0]]))]))}))}))},reverse(s.Data))}))])])])]),u=new Shape("Layered",[ofArray$1([new Shape("OuterScale",[null,new Scale("Continuous",[new continuous("CO",[0]),new continuous("CO",[3])]),l]),new Shape("OuterScale",[null,new Scale("Continuous",[new continuous("CO",[3]),new continuous("CO",[10])]),new Shape("Padding",[[0,20,0,20],a])])])]);return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(toList(delay(function(){return append(singleton(Compost.createSvg(!1,!1,i,r,u)),delay(function(){return s.Completed&&function(){return null!=e}()?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(ofArray$1([op_EqualsGreater("class","solved")]))(ofArray$1([text(e)]))]))):t?singleton(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray$1([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray$1([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append(singleton(op_EqualsGreater("type","button")),delay(function(){return append(singleton(op_EqualsBangGreater("click",function(e){return function(e){o(new n("ShowResults",[]))}})),delay(function(){return s.Assignments.size!==s.Data.length?singleton(op_EqualsGreater("disabled","disabled")):empty()}))}))})))(ofArray$1([text("Show me how I did")]))]))):empty()}))})))};return e}({}),YouGuessColsBarsKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessColsBarsKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Bars:[],Cols:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessColsBarsKind",YouGuessColsBarsKind);var YouGuessColsBars=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.kind=t,this.data=n,this.logger=i,this.interactive=r,this.solvedComment=o,this.options=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessColsBars",interfaces:["FSharpRecord"],properties:{kind:YouGuessColsBarsKind,data:makeGeneric(series,{k:"string",v:"number"}),logger:Option("function"),interactive:"boolean",solvedComment:Option("string"),options:ChartOptions}}}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.kind,this.data,this.logger,this.interactive,this.solvedComment,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.kind,this.data,this.logger,this.interactive,this.solvedComment,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.kind,this.data,this.logger,this.interactive,this.solvedComment,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.kind,this.data,this.logger,this.interactive,this.solvedComment,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.kind,this.data,this.logger,this.interactive,this.solvedComment,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.kind,this.data,this.logger,this.interactive,this.solvedComment,a)}},{key:"setSolvedComment",value:function(t){var n=t;return new e(this.kind,this.data,this.logger,this.interactive,n,this.options)}},{key:"setLogger",value:function(t){var n=t;return new e(this.kind,this.data,n,this.interactive,this.solvedComment,this.options)}},{key:"setLabel",value:function(e){return this.setTitle(e)}},{key:"setMaximum",value:function(e){return this.kind.Equals(new YouGuessColsBarsKind("Bars",[]))?this.setAxisX(null,e):this.setAxisY(null,e)}},{key:"setInteractive",value:function(t){return new e(this.kind,this.data,this.logger,t,this.solvedComment,this.options)}},{key:"show",value:function(e){var t=this;InteractiveHelpers.showApp(e,this.options,this.data,function(e){return YouGuessColsHelpers.initState(!t.interactive,t.kind.Equals(new YouGuessColsBarsKind("Bars",[])),e,t.kind.Equals(new YouGuessColsBarsKind("Bars",[]))?t.options.xAxis.maxValue:t.options.yAxis.maxValue)},function(e){return function(e){if("Cols"===t.kind.Case){var n=t.options.title;return function(i){return function(r){return YouGuessColsHelpers.renderCols(t.solvedComment,t.interactive,e[0],e[1],n,i,r)}}}return function(n){return function(i){return YouGuessColsHelpers.renderBars(t.solvedComment,t.interactive,!0,e[0],e[1],t.options,n,i)}}}},function(n){var i=void 0,r=InteractiveHelpers.createLogger(e,t.logger);return i=function(e){var t=r(e);return function(e){t(e)}},function(e){return function(t){return YouGuessColsHelpers.update(i,e,t)}}})}}]),e}();setType("TheGamma.Interactive.YouGuessColsBars",YouGuessColsBars);var YouGuessLine=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d){_classCallCheck(this,e),this.data=t,this.markers=n,this.clip=i,this.markerColor=r,this.knownColor=o,this.unknownColor=s,this.drawColor=a,this.knownLabel=l,this.guessLabel=u,this.logger=c,this.interactive=p,this.solvedComment=h,this.options=d}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessLine",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:Any,v:"number"}),markers:Option(makeGeneric(series,{k:Any,v:Any})),clip:Option("number"),markerColor:Option("string"),knownColor:Option("string"),unknownColor:Option("string"),drawColor:Option("string"),knownLabel:Option("string"),guessLabel:Option("string"),logger:Option("function"),interactive:"boolean",solvedComment:Option("string"),options:ChartOptions}}}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,a)}},{key:"setSolvedComment",value:function(t){var n=t;return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,n,this.options)}},{key:"setLogger",value:function(t){var n=t;return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,n,this.interactive,this.solvedComment,this.options)}},{key:"setRange",value:function(e,t){return this.setAxisY(e,t)}},{key:"setClip",value:function(t){var n=t instanceof Date?t.getTime():t;return new e(this.data,this.markers,n,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,this.options)}},{key:"setColors",value:function(t,n){var i=t,r=n;return new e(this.data,this.markers,this.clip,this.markerColor,i,r,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,this.options)}},{key:"setDrawColor",value:function(t){var n=t;return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,n,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,this.options)}},{key:"setMarkerColor",value:function(t){var n=t;return new e(this.data,this.markers,this.clip,n,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,this.options)}},{key:"setLabels",value:function(t,n,i){var r=CompostHelpers.orElse(n,this.knownLabel),o=CompostHelpers.orElse(i,this.guessLabel),s=void 0,a=CompostHelpers.orElse(t,this.options.title);return s=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,a,this.options.legend,this.options.emptyMessage),new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,r,o,this.logger,this.interactive,this.solvedComment,s)}},{key:"setMarkers",value:function(t){var n=t;return new e(this.data,n,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,this.interactive,this.solvedComment,this.options)}},{key:"setInteractive",value:function(t){return new e(this.data,this.markers,this.clip,this.markerColor,this.knownColor,this.unknownColor,this.drawColor,this.knownLabel,this.guessLabel,this.logger,t,this.solvedComment,this.options)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){var i=defaultArg(t.markers,series.create(singleton$2.Return([]),"","",""));return n.Bind(Async_AwaitFuture_Static(i.data),function(i){var r=_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]}(e),function(e){return e[0]}(t))},i.map(function(e){return[e[0]instanceof Date?e[0].getTime():e[0],e[1]]})));return n.ReturnFrom(InteractiveHelpers.showAppAsync(e,t.options,t.data,function(e){var n=null!=t.clip?t.clip:e[~~(e.length/2)][0]instanceof Date?e[~~(e.length/2)][0].getTime():e[~~(e.length/2)][0];return YouGuessLineHelpers.initState(!t.interactive,_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(e),function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(t))},e)),n)},function(e){return function(n){return function(i){var o=[defaultArg(t.knownColor,"#606060"),defaultArg(t.unknownColor,"#FFC700"),defaultArg(t.drawColor,"#808080"),defaultArg(t.markerColor,"#C65E31")],s=_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(e),function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(t))},e)),a=void 0,l=void 0,u=t.options.xAxis;l=new AxisOptions(s[0][0]instanceof Date?s[0][0].getTime():s[0][0],s[s.length-1][0]instanceof Date?s[s.length-1][0].getTime():s[s.length-1][0],u.label,u.labelOffset,u.labelMinimalSize),a=new ChartOptions(t.options.size,l,t.options.yAxis,t.options.title,t.options.legend,t.options.emptyMessage);var c=[defaultArg(t.knownLabel,""),defaultArg(t.guessLabel,"")],p=[o[0],o[1],o[2],o[3]];return function(e){return YouGuessLineHelpers.render(t.solvedComment,t.interactive,a,n[0],n[1],r,c[0],c[1],p[0],p[1],p[2],p[3],i,e)}}}},function(n){var i=void 0,r=InteractiveHelpers.createLogger(e,t.logger);return i=function(e){var t=r(e);return function(e){t(e)}},function(e){return function(t){return YouGuessLineHelpers.handler(i,e,t)}}}))})})}(singleton$2))}}]),e}();setType("TheGamma.Interactive.YouGuessLine",YouGuessLine);var YouGuessLineOffset=function(){function e(t,n,i,r,o,s,a,l,u,c){_classCallCheck(this,e),this.data=t,this.markers=n,this.labels=i,this.logger=r,this.interactive=o,this.lineColor=s,this.guessColor=a,this.markerColor=l,this.solvedComment=u,this.options=c}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessLineOffset",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:Any,v:"number"}),markers:Option(makeGeneric(series,{k:Any,v:Any})),labels:FableArray("string"),logger:Option("function"),interactive:"boolean",lineColor:Option("string"),guessColor:Option("string"),markerColor:Option("string"),solvedComment:Option("string"),options:ChartOptions}}}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,a)}},{key:"setLabels",value:function(t){return new e(this.data,this.markers,t,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,this.options)}},{key:"setSolvedComment",value:function(t){var n=t;return new e(this.data,this.markers,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,n,this.options)}},{key:"setLogger",value:function(t){var n=t;return new e(this.data,this.markers,this.labels,n,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,this.options)}},{key:"setColors",value:function(t,n,i){var r=CompostHelpers.orElse(t,this.guessColor),o=CompostHelpers.orElse(n,this.lineColor),s=CompostHelpers.orElse(i,this.markerColor);return new e(this.data,this.markers,this.labels,this.logger,this.interactive,o,r,s,this.solvedComment,this.options)}},{key:"setMarkers",value:function(t){var n=t;return new e(this.data,n,this.labels,this.logger,this.interactive,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,this.options)}},{key:"setInteractive",value:function(t){return new e(this.data,this.markers,this.labels,this.logger,t,this.lineColor,this.guessColor,this.markerColor,this.solvedComment,this.options)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){var i=defaultArg(t.markers,series.create(singleton$2.Return([]),"","",""));return n.Bind(Async_AwaitFuture_Static(i.data),function(i){var r=_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]}(e),function(e){return e[0]}(t))},i.map(function(e){return[e[0]instanceof Date?e[0].getTime():e[0],e[1]]})));return n.ReturnFrom(InteractiveHelpers.showAppAsync(e,t.options,t.data,function(e){var n=_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(e),function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(t))},e)),i=defaultArg(t.options.yAxis.minValue,n[0][0]instanceof Date?n[0][0].getTime():n[0][0]),r=defaultArg(t.options.yAxis.maxValue,n[n.length-1][0]instanceof Date?n[n.length-1][0].getTime():n[n.length-1][0]),o=void 0,s=void 0,a=t.options.yAxis;return s=new AxisOptions(i,r,a.label,a.labelOffset,a.labelMinimalSize),o=new ChartOptions(t.options.size,t.options.xAxis,s,t.options.title,t.options.legend,t.options.emptyMessage),YouGeussLineOffsetHelpers.initState(!t.interactive,o,_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(e),function(e){return e[0]instanceof Date?e[0].getTime():e[0]}(t))},n)))},function(e){return function(e){return function(n){var i=defaultArg(t.lineColor,"#bcbd22"),o=defaultArg(t.guessColor,"#808080"),s=defaultArg(t.markerColor,"#800080"),a=[o,i,s];return function(i){return YouGeussLineOffsetHelpers.render(t.solvedComment,t.interactive,e[0],e[1],t.labels,r,a[0],a[1],a[2],n,i)}}}},function(n){
var i=void 0,r=InteractiveHelpers.createLogger(e,t.logger);return i=function(e){var t=r(e);return function(e){t(e)}},function(e){return function(t){return YouGeussLineOffsetHelpers.handler(i,e,t)}}}))})})}(singleton$2))}}]),e}();setType("TheGamma.Interactive.YouGuessLineOffset",YouGuessLineOffset);var YouGuessSortBars=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.data=t,this.maxValue=n,this.size=i,this.logger=r,this.interactive=o,this.solvedComment=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessSortBars",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:"string",v:"number"}),maxValue:Option("number"),size:Tuple([Option("number"),Option("number")]),logger:Option("function"),interactive:"boolean",solvedComment:Option("string")}}}},{key:"setSolvedComment",value:function(t){var n=t;return new e(this.data,this.maxValue,this.size,this.logger,this.interactive,n)}},{key:"setLogger",value:function(t){var n=t;return new e(this.data,this.maxValue,this.size,n,this.interactive,this.solvedComment)}},{key:"setMaximum",value:function(t){var n=t;return new e(this.data,n,this.size,this.logger,this.interactive,this.solvedComment)}},{key:"setSize",value:function(t,n){var i=[CompostHelpers.orElse(t,this.size[0]),CompostHelpers.orElse(n,this.size[1])];return new e(this.data,this.maxValue,i,this.logger,this.interactive,this.solvedComment)}},{key:"setInteractive",value:function(t){return new e(this.data,this.maxValue,this.size,this.logger,t,this.solvedComment)}},{key:"show",value:function(e){var t=this;InteractiveHelpers.showApp(e,function(){var e=ChartOptions.Default;return new ChartOptions(t.size,e.xAxis,e.yAxis,e.title,e.legend,e.emptyMessage)}(),this.data,function(){var e=!t.interactive;return function(n){return YouGuessSortHelpers.initState(e,t.maxValue,n)}}(),function(e){return function(e){return function(n){return function(i){return YouGuessSortHelpers.renderBars(t.solvedComment,t.interactive,e[0],e[1],n,i)}}}},function(n){var i=void 0,r=InteractiveHelpers.createLogger(e,t.logger);return i=function(e){var t=r(e);return function(e){t(e)}},function(e){return function(t){return YouGuessSortHelpers.update(i,e,t)}}})}}]),e}();setType("TheGamma.Interactive.YouGuessSortBars",YouGuessSortBars);var youguess=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.youguess",properties:{}}}}],[{key:"columns",value:function(e){var t=new YouGuessColsBarsKind("Cols",[]),n=ChartOptions.Default;return new YouGuessColsBars(t,e,null,!0,null,n)}},{key:"bars",value:function(e){var t=new YouGuessColsBarsKind("Bars",[]),n=ChartOptions.Default;return new YouGuessColsBars(t,e,null,!0,null,n)}},{key:"sortBars",value:function(e){return new YouGuessSortBars(e,null,[null,null],null,!0,null)}},{key:"line",value:function(e){var t=ChartOptions.Default;return new YouGuessLine(e,null,null,null,null,null,null,null,null,null,!0,null,t)}},{key:"vlineOffset",value:function(e){var t=_Array$from(delay(function(){return map$3(function(e){return e},rangeChar("A","Z"))})),n=ChartOptions.Default;return new YouGuessLineOffset(e,null,t,null,!0,null,null,null,null,n)}}]),e}();setType("TheGamma.Interactive.youguess",youguess);var CompostBubblesChartSet=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.data=t,this.selectY=n,this.selectX=i,this.selectLabel=r,this.selectSize=o,this.bubbleColor=s,this.options=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.CompostBubblesChartSet",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:Any,v:Any}),selectY:"function",selectX:"function",selectLabel:Option("function"),selectSize:Option("function"),bubbleColor:Option("string"),options:ChartOptions}}}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,this.bubbleColor,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,this.bubbleColor,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,this.bubbleColor,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,this.bubbleColor,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,this.bubbleColor,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,this.bubbleColor,a)}},{key:"setColors",value:function(t){var n=null!=t?t:this.bubbleColor;return new e(this.data,this.selectY,this.selectX,this.selectLabel,this.selectSize,n,this.options)}},{key:"show",value:function(e){var t=this;InteractiveHelpers.showApp(e,this.options,this.data,function(e){return-1},function(e){return function(n){return function(i){return function(r){var o=function(e){return null!=e?function(t){return e(t)}:function(e){return null}},s=e.map(function(e){return[t.selectX(e[1]),t.selectY(e[1]),o(t.selectSize)(e[1]),o(t.selectLabel)(e[1])]}),a=defaultArg(t.bubbleColor,"#20a030");return Charts.renderBubbles(i,r,t.options,n[0],n[1],a,s)}}}},function(e){return function(e){return function(e){return e}}})}}]),e}();setType("TheGamma.Interactive.CompostBubblesChartSet",CompostBubblesChartSet);var CompostBubblesChart=function(){function e(t){_classCallCheck(this,e),this.data=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.CompostBubblesChart",properties:{}}}}]),_createClass(e,[{key:"set",value:function(e,t,n,i){var r=this.data,o=void 0,s=e;o=function(e){return s(e)};var a=void 0,l=t;a=function(e){return l(e)};var u=n,c=ChartOptions.Default;return new CompostBubblesChartSet(r,a,o,i,u,null,c)}}]),e}();setType("TheGamma.Interactive.CompostBubblesChart",CompostBubblesChart);var CompostColBarChart=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.isBar=t,this.data=n,this.colors=i,this.inlineLabels=r,this.options=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.CompostColBarChart",interfaces:["FSharpRecord","System.IEquatable"],properties:{isBar:"boolean",data:makeGeneric(series,{k:"string",v:"number"}),colors:Option(FableArray("string")),inlineLabels:"boolean",options:ChartOptions}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.isBar,this.data,this.colors,this.inlineLabels,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.isBar,this.data,this.colors,this.inlineLabels,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.isBar,this.data,this.colors,this.inlineLabels,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isBar,this.data,this.colors,this.inlineLabels,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isBar,this.data,this.colors,this.inlineLabels,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isBar,this.data,this.colors,this.inlineLabels,a)}},{key:"setStyle",value:function(t){var n=null!=t?t:this.inlineLabels;return new e(this.isBar,this.data,this.colors,n,this.options)}},{key:"setColors",value:function(t){var n=null!=t?t:this.colors;return new e(this.isBar,this.data,n,this.inlineLabels,this.options)}},{key:"show",value:function(e){var t=this;InteractiveHelpers.showStaticApp(e,this.options,this.data,function(e){return function(n){var i=defaultArg(t.colors,CompostHelpers.vega10),r=i,o=map$3(function(e){return e[0]},e);return Charts.renderColsBars(t.isBar,t.inlineLabels,t.options,n[0],n[1],r,o,e)}})}}]),e}();setType("TheGamma.Interactive.CompostColBarChart",CompostColBarChart);var CompostLineAreaChart=function(){function e(t,n,i,r){_classCallCheck(this,e),this.isArea=t,this.data=n,this.lineColor=i,this.options=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.CompostLineAreaChart",interfaces:["FSharpRecord","System.IEquatable"],properties:{isArea:"boolean",data:makeGeneric(series,{k:Any,v:Any}),lineColor:Option("string"),options:ChartOptions}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.isArea,this.data,this.lineColor,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColor,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.isArea,this.data,this.lineColor,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColor,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColor,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColor,a)}},{key:"setColors",value:function(t){var n=null!=t?t:this.lineColor;return new e(this.isArea,this.data,n,this.options)}},{key:"show",value:function(e){var t=this;InteractiveHelpers.showStaticApp(e,this.options,this.data,function(e){return function(n){var i=defaultArg(t.lineColor,"#1f77b4"),r=[i],o=ofArray$1(["Data"]),s=[e];return Charts.renderLines(t.isArea,t.options,n[0],n[1],r,o,s)}})}}]),e}();setType("TheGamma.Interactive.CompostLineAreaChart",CompostLineAreaChart);var CompostLinesAreasChart=function(){function e(t,n,i,r){_classCallCheck(this,e),this.isArea=t,this.data=n,this.lineColors=i,this.options=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.CompostLinesAreasChart",interfaces:["FSharpRecord","System.IEquatable"],properties:{isArea:"boolean",data:FableArray(makeGeneric(series,{k:Any,v:Any})),lineColors:Option(FableArray("string")),options:ChartOptions}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"setEmptyMessage",value:function(t){var n=void 0,i=t;return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,i),new e(this.isArea,this.data,this.lineColors,n)}},{key:"setTitle",value:function(t){var n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,t,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColors,n)}},{key:"setLegend",value:function(t){var n=void 0,i=new LegendOptions(t);return n=new ChartOptions(this.options.size,this.options.xAxis,this.options.yAxis,this.options.title,i,this.options.emptyMessage),new e(this.isArea,this.data,this.lineColors,n)}},{key:"setSize",value:function(t,n){var i=new ChartOptions([CompostHelpers.orElse(t,this.options.size[0]),CompostHelpers.orElse(n,this.options.size[1])],this.options.xAxis,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColors,i)}},{key:"setAxisX",value:function(t,n,i,r,o){var s=void 0;this.options.xAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.xAxis.minValue),CompostHelpers.orElse(n,this.options.xAxis.maxValue),CompostHelpers.orElse(i,this.options.xAxis.label),CompostHelpers.orElse(r,this.options.xAxis.labelOffset),CompostHelpers.orElse(o,this.options.xAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,s,this.options.yAxis,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColors,a)}},{key:"setAxisY",value:function(t,n,i,r,o){var s=void 0;this.options.yAxis;s=new AxisOptions(CompostHelpers.orElse(t,this.options.yAxis.minValue),CompostHelpers.orElse(n,this.options.yAxis.maxValue),CompostHelpers.orElse(i,this.options.yAxis.label),CompostHelpers.orElse(r,this.options.yAxis.labelOffset),CompostHelpers.orElse(o,this.options.yAxis.labelMinimalSize));var a=new ChartOptions(this.options.size,this.options.xAxis,s,this.options.title,this.options.legend,this.options.emptyMessage);return new e(this.isArea,this.data,this.lineColors,a)}},{key:"setColors",value:function(t){var n=null!=t?t:this.lineColors;return new e(this.isArea,this.data,n,this.options)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Bind(parallel(toList(delay(function(){return map$3(function(e){return Async_AwaitFuture_Static(e.data)},t.data)}))),function(i){var r=fold(function(e,t){return e.append(t)},series.create(singleton$2.Return([]),"","",""),t.data);return n.ReturnFrom(InteractiveHelpers.showStaticAppAsync(e,t.options,r,function(e){var n=defaultArg(t.lineColors,CompostHelpers.vega10),r=n,o=map$3(function(e){return e.seriesName},t.data);return Charts.renderLines(t.isArea,t.options,e[0],e[1],r,o,i)}))})})}(singleton$2))}}]),e}();setType("TheGamma.Interactive.CompostLinesAreasChart",CompostLinesAreasChart);var CompostCharts=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.CompostCharts",properties:{}}}}]),_createClass(e,[{key:"bubbles",value:function(e){return new CompostBubblesChart(e)}},{key:"line",value:function(e){var t=e,n=ChartOptions.Default;return new CompostLineAreaChart(!1,t,null,n)}},{key:"area",value:function(e){var t=e,n=ChartOptions.Default;return new CompostLineAreaChart(!0,t,null,n)}},{key:"lines",value:function(e){var t=e,n=ChartOptions.Default;return new CompostLinesAreasChart(!1,t,null,n)}},{key:"areas",value:function(e){var t=e,n=ChartOptions.Default;return new CompostLinesAreasChart(!0,t,null,n)}},{key:"bar",value:function(e){var t=ChartOptions.Default;return new CompostColBarChart(!0,e,null,!1,t)}},{key:"column",value:function(e){var t=ChartOptions.Default;return new CompostColBarChart(!1,e,null,!1,t)}}]),e}();setType("TheGamma.Interactive.CompostCharts",CompostCharts);var compost=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.compost",properties:{charts:CompostCharts}}}}],[{key:"charts",get:function(){return new CompostCharts}}]),e}();setType("TheGamma.Interactive.compost",compost);var FormattingContext=function(){function e(t){_classCallCheck(this,e),this.Strings=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Ast.FormattingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Strings:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"Add",value:function(e){this.Strings.push(formatToken(e))}}]),e}();setType("TheGamma.Ast.FormattingContext",FormattingContext);var Lazy=function(){function e(e){this.factory=e,this.isValueCreated=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue},enumerable:!0,configurable:!0}),e}(),GenericParameterType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.name=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.GenericParameterType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.GenericParameterType",GenericParameterType);var ArrayType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.element=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.ArrayType",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",element:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.ArrayType",ArrayType);var PrimitiveType$1=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.name=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.PrimitiveType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.PrimitiveType",PrimitiveType$1);var FunctionType=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.arguments=n,this.returns=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.FunctionType",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",arguments:FableArray(Any),returns:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.FunctionType",FunctionType);var NamedType=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.name=n,this.typargs=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.NamedType",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",name:"string",typargs:FableArray(Any)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.NamedType",NamedType);var Argument$1=function(){function e(t,n,i){_classCallCheck(this,e),this.name=t,this.optional=n,this.type=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.Argument",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",optional:"boolean",type:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.Argument",Argument$1);var MethodMember=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.kind=t,this.name=n,this.typepars=i,this.arguments=r,this.returns=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.MethodMember",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",name:"string",typepars:FableArray(Any),arguments:FableArray(Argument$1),returns:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.MethodMember",MethodMember);var PropertyMember=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.name=n,this.returns=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.PropertyMember",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",name:"string",returns:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.PropertyMember",PropertyMember);var ExportedType=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.name=t,this.typepars=n,this.static=i,this.instance=r,this.members=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.ExportedType",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",typepars:FableArray(Any),static:"boolean",instance:FableArray("string"),members:FableArray(Any)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.ExportedType",ExportedType);var TypeSchema=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.TypeSchema",interfaces:["FSharpUnion"],cases:{Function:[makeGeneric(List$1,{T:e}),e],GenericType:[Interface("TheGamma.TypeProviders.FSharpProvider.GenericTypeSchema")],List:[e],Parameter:["string"],Primitive:[Type]}}}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.TypeSchema",TypeSchema);var AnyType=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.AnyType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.AnyType",AnyType);var TypeNested=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.endpoint=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypeNested",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypeNested",TypeNested);var TypeProvider=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.provider=n,this.endpoint=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypeProvider",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",provider:"string",endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypeProvider",TypeProvider);var TypePrimitive=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.type=n,this.endpoint=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypePrimitive",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",type:Any,endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypePrimitive",TypePrimitive);var Documentation$1=function(){function e(t,n){_classCallCheck(this,e),this.title=t,this.details=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Documentation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{title:Option("string"),details:Option("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Documentation",Documentation$1);var Parameter=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.name=t,this.optional=n,this.kind=i,this.cookie=r,this.trace=o,this.type=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Parameter",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",optional:"boolean",kind:"string",cookie:Option("string"),trace:Option("string"),type:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Parameter",Parameter);var Member$1=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.name=t,this.returns=n,this.parameters=i,this.documentation=r,this.schema=o,this.trace=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Member",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",returns:AnyType,parameters:Option(FableArray(Parameter)),documentation:Option(Any),schema:FableArray(Any),trace:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Member",Member$1);var ResultType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.ResultType",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Generic:["string",FableArray(e)],Primitive:["string"],Record:[FableArray(Tuple(["string",e]))]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.ResultType",ResultType);var RawField=function(){function e(t,n){_classCallCheck(this,e),this.name=t,this.type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.RawField",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",type:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.RawField",RawField);var RawResultType=function(){function e(t,n,i){_classCallCheck(this,e),this.name=t,this.fields=n,this.params=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.RawResultType",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",fields:FableArray(RawField),params:FableArray(Any)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.RawResultType",RawResultType);var restTypeCache=new _Map,GroupAggregation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.GroupAggregation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ConcatValues:["string"],CountAll:[],CountDistinct:["string"],GroupKey:[],Mean:["string"],Sum:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.GroupAggregation",GroupAggregation);var WindowAggregation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.WindowAggregation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{FirstKey:[],LastKey:[],Max:["string"],Mean:["string"],MiddleKey:[],Min:["string"],Sum:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.WindowAggregation",WindowAggregation);var SortDirection=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.SortDirection",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Ascending:[],Descending:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.SortDirection",SortDirection)
;var Paging=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Paging",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Skip:["string"],Take:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Paging",Paging);var FilterOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.FilterOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{And:[],Or:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.FilterOperator",FilterOperator);var RelationalOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.RelationalOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Equals:[],GreaterThan:[],InRange:[],LessThan:[],Like:[],NotEquals:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.RelationalOperator",RelationalOperator);var Transformation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Transformation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{DropColumns:[makeGeneric(List$1,{T:"string"})],Empty:[],ExpandBy:["string",makeGeneric(List$1,{T:WindowAggregation})],FilterBy:[FilterOperator,makeGeneric(List$1,{T:Tuple([RelationalOperator,"string","string"])})],GetRange:["string"],GetSeries:["string","string"],GetTheData:[],GroupBy:[makeGeneric(List$1,{T:"string"}),makeGeneric(List$1,{T:GroupAggregation})],Metadata:[],Paging:[makeGeneric(List$1,{T:Paging})],SortBy:[makeGeneric(List$1,{T:Tuple(["string",SortDirection])})],WindowBy:["string","string",makeGeneric(List$1,{T:WindowAggregation})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Transformation",Transformation);var Field=function(){function e(t,n){_classCallCheck(this,e),this.Name=t,this.Type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Field",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Name:"string",Type:PrimitiveType}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Field",Field);var Transform=function(e){var t=function(e){return"CountAll"===e.Case?"count-all":"CountDistinct"===e.Case?"count-dist "+escapeIdent(e.Fields[0]):"ConcatValues"===e.Case?"concat-vals "+escapeIdent(e.Fields[0]):"Sum"===e.Case?"sum "+escapeIdent(e.Fields[0]):"Mean"===e.Case?"mean "+escapeIdent(e.Fields[0]):"key"},n=function(e){return"MiddleKey"===e.Case?"mid-key":"LastKey"===e.Case?"last-key":"Mean"===e.Case?"mean "+escapeIdent(e.Fields[0]):"Min"===e.Case?"min "+escapeIdent(e.Fields[0]):"Max"===e.Case?"max "+escapeIdent(e.Fields[0]):"Sum"===e.Case?"sum "+escapeIdent(e.Fields[0]):"first-key"},i=e.formatCondition=function(e,t,n){var i="NotEquals"===e.Case?"neq":"LessThan"===e.Case?"lte":"GreaterThan"===e.Case?"gte":"InRange"===e.Case?"in":"Like"===e.Case?"like":"eq";return escapeIdent(t)+" "+i+" "+escapeIdent(n)},r=(e.toUrl=function(e){return join("$",map$5(function(e){return null==e[1].tail?e[0]:e[0]+"("+join(",",e[1])+")"},concat$1(toList(delay(function(){return map$3(function(e){return"Metadata"===e.Case?ofArray$1([["metadata",new List$1]]):"GetRange"===e.Case?ofArray$1([["range",ofArray$1([e.Fields[0]])]]):"FilterBy"===e.Case?ofArray$1([["filter",new List$1("Or"===e.Fields[0].Case?"or":"and",map$5(function(e){return i(e[0],e[1],e[2])},e.Fields[1]))]]):"DropColumns"===e.Case?ofArray$1([["drop",e.Fields[0]]]):"SortBy"===e.Case?ofArray$1([["sort",map$5(function(e){return e[0]+(e[1].Equals(new SortDirection("Ascending",[]))?" asc":" desc")},e.Fields[0])]]):"GroupBy"===e.Case?ofArray$1([["groupby",append$1(map$5(function(e){return"by "+escapeIdent(e)},e.Fields[0]),map$5(function(e){return t(e)},e.Fields[1]))]]):"WindowBy"===e.Case?ofArray$1([["windowby",ofArray$1(["by "+escapeIdent(e.Fields[0]),e.Fields[1]],map$5(function(e){return n(e)},e.Fields[2]))]]):"ExpandBy"===e.Case?ofArray$1([["expandby",new List$1("by "+escapeIdent(e.Fields[0]),map$5(function(e){return n(e)},e.Fields[1]))]]):"Paging"===e.Case?map$5(function(e){return"Skip"===e.Case?["skip",ofArray$1([e.Fields[0]])]:["take",ofArray$1([e.Fields[0]])]},e.Fields[0]):"GetSeries"===e.Case?ofArray$1([["series",ofArray$1([e.Fields[0],e.Fields[1]])]]):(e.Case,new List$1)},e)})))))},e.singleTransformFields=function(e,t){var n="Metadata"===t.Case?[1]:"GetRange"===t.Case?[2]:"GetTheData"===t.Case?[3]:"SortBy"===t.Case?[4]:"Paging"===t.Case?[5]:"FilterBy"===t.Case?[6]:"GetSeries"===t.Case?[7]:"DropColumns"===t.Case?[8]:"ExpandBy"===t.Case?[9,t.Fields[1],t.Fields[0]]:"WindowBy"===t.Case?[9,t.Fields[2],t.Fields[0]]:"GroupBy"===t.Case?[10]:[0];switch(n[0]){case 0:return e;case 1:throw new Error("Metadata should not appear in normal queries");case 2:throw new Error("GetRange should not appear in normal queries");case 3:case 4:case 5:case 6:return e;case 7:return ofArray$1([find(function(e){return e.Name===t.Fields[0]},e),find(function(e){return e.Name===t.Fields[1]},e)]);case 8:var i=create$5(t.Fields[0],new GenericComparer(compare));return filter$2(function(e){return!i.has(e.Name)},e);case 9:var r=new _Map(toList(delay(function(){return map$3(function(e){return[e.Name,e]},e)})));return collect$1(function(e){var t="MiddleKey"===e.Case?[1]:"LastKey"===e.Case?[2]:"Mean"===e.Case?[3,e.Fields[0]]:"Min"===e.Case?[3,e.Fields[0]]:"Sum"===e.Case?[3,e.Fields[0]]:"Max"===e.Case?[3,e.Fields[0]]:[0];switch(t[0]){case 0:return ofArray$1([new Field("first "+n[2],r.get(n[2]).Type)]);case 1:return ofArray$1([new Field("middle "+n[2],r.get(n[2]).Type)]);case 2:return ofArray$1([new Field("last "+n[2],r.get(n[2]).Type)]);case 3:return ofArray$1([r.get(t[1])])}},n[1]);case 10:var o=new _Map(toList(delay(function(){return map$3(function(e){return[e.Name,e]},e)})));return collect$1(function(e){var n="ConcatValues"===e.Case?[1,e.Fields[0]]:"Sum"===e.Case?[1,e.Fields[0]]:"Mean"===e.Case?[2]:"CountAll"===e.Case?[3]:"CountDistinct"===e.Case?[4]:[0];switch(n[0]){case 0:return map$5(function(e){return o.get(e)},t.Fields[0]);case 1:return ofArray$1([o.get(n[1])]);case 2:return ofArray$1([o.get(e.Fields[0])]);case 3:return ofArray$1([new Field("count",new PrimitiveType("Number",[]))]);case 4:return ofArray$1([new Field(o.get(e.Fields[0]).Name,new PrimitiveType("Number",[]))])}},t.Fields[1])}});e.transformFields=function(e,t){return toList(function(){var t=toList(e);return function(e){return fold(function(e,t){return r(e,t)},t,e)}}()(t))};return e}({}),PivotObject=function(){function e(t){_classCallCheck(this,e),this.members=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.PivotObject",interfaces:["TheGamma.ObjectType"],properties:{MemberNames:makeGeneric(List$1,{T:"string"})}}}}]),_createClass(e,[{key:"TypeEquals",value:function(t){return t instanceof e&&t.MemberNames.Equals(this.MemberNames)}},{key:"MemberNames",get:function(){var e=this;return toList(delay(function(){return map$3(function(e){return e.Name},e.members)}))}},{key:"Members",get:function(){return _Array$from(this.members)}}]),e}();setType("TheGamma.TypeProviders.Pivot.PivotObject",PivotObject);var propertyEmitter=new Emitter(function(e){return e}),Context=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.Root=t,this.IgnoreFiltersInRange=n,this.LookupNamed=i,this.InputFields=r,this.Fields=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Context",interfaces:["FSharpRecord"],properties:{Root:"string",IgnoreFiltersInRange:"boolean",LookupNamed:"function",InputFields:makeGeneric(List$1,{T:Field}),Fields:makeGeneric(List$1,{T:Field})}}}}]),e}();setType("TheGamma.TypeProviders.Pivot.Context",Context);var BindingContext=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.Variables=t,this.GlobalValues=n,this.Root=i,this.CallSite=r,this.Chain=o,this.Table=s,this.Bound=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Binder.BindingContext",interfaces:["FSharpRecord"],properties:{Variables:makeGeneric(FableMap,{Key:Name,Value:Entity}),GlobalValues:makeGeneric(FableMap,{Key:Name,Value:Entity}),Root:Entity,CallSite:Option(Entity),Chain:Option(Entity),Table:makeGeneric(_Map,{TKey:Interface("TheGamma.Common.Symbol"),TValue:makeGeneric(ListDictionaryNode,{K:Interface("TheGamma.Common.Symbol"),T:makeGeneric(FableMap,{Key:Tuple(["number","string"]),Value:Entity})})}),Bound:FableArray(Tuple([_Range,Entity]))}}}}]),e}();setType("TheGamma.Binder.BindingContext",BindingContext);var BindingResult=function(){function e(t){_classCallCheck(this,e),this.ents=t;for(var n=new _Map,i=this.ents,r=0;r<=i.length-1;r++){var o=i[r],s=Entity_get_Antecedents.bind(o[1])(),a=!0,l=!1,u=void 0;try{for(var c,p=_getIterator(s);!(a=(c=p.next()).done);a=!0){var h=c.value;!function(e){return function(t){n.has(e)||n.set(e,[]),n.get(e).push(t)}}(h.Symbol)(o[1])}}catch(e){l=!0,u=e}finally{try{!a&&p.return&&p.return()}finally{if(l)throw u}}}this.childrenLookup=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Binder.BindingResult",properties:{Entities:FableArray(Tuple([_Range,Entity]))}}}}]),_createClass(e,[{key:"GetChildren",value:function(e){var t=tryGetValue(this.childrenLookup,e.Symbol,null);return t[0]?_Array$from(t[1]):[]}},{key:"Entities",get:function(){return this.ents}}]),e}();setType("TheGamma.Binder.BindingResult",BindingResult);var QueueCell=function(){function e(e){this.value=e}return e}(),MailboxQueue=function(){function e(){}return e.prototype.add=function(e){var t=new QueueCell(e);this.firstAndLast?(this.firstAndLast[1].next=t,this.firstAndLast=[this.firstAndLast[0],t]):this.firstAndLast=[t,t]},e.prototype.tryGet=function(){if(this.firstAndLast){var e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}},e}(),MailboxProcessor=function(){function e(e,t){this.body=e,this.cancellationToken=t||defaultCancellationToken,this.messages=new MailboxQueue}return e.prototype.__processEvents=function(){if(this.continuation){var e=this.messages.tryGet();if(e){var t=this.continuation;delete this.continuation,t(e)}}},e.prototype.start=function(){startImmediate(this.body(this),this.cancellationToken)},e.prototype.receive=function(){var e=this;return fromContinuations(function(t){if(e.continuation)throw new Error("Receive can only be called once!");e.continuation=t[0],e.__processEvents()})},e.prototype.post=function(e){this.messages.add(e),this.__processEvents()},e.prototype.postAndAsyncReply=function(e){function t(){n&&i&&i(n)}var n,i,r={reply:function(e){n=e,t()}};return this.messages.add(e(r)),this.__processEvents(),fromContinuations(function(e){i=e[0],t()})},e}(),Tokenizer=function(e){e.inputEndInsideString=function(e,t){return new _Error(101,fsFormat('Missing " at the end of the input. The string "%s" ends without closing double-quote.')(function(e){return e})(t),e)},e.missingClosingQuote=function(e,t){return new _Error(102,fsFormat("Quoted identifier '%s' is missing closing quote.")(function(e){return e})(t),e)},e.unexpectedCharacter=function(e,t){return new _Error(103,fsFormat("Unexcpected character '%s' in the input.")(function(e){return e})(t),e)};return e}({}),Parser=function(e){e.unexpectedTokenAfterDot=function(e,t){return new _Error(201,fsFormat("Unexpected %s after '.' in method chain")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndAfterDot=function(e,t){return new _Error(202,fsFormat("Unexpected end of scope after %s. Did you forget to indent the rest of the member chain?")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedTokenInPlaceholder=function(e,t){return new _Error(203,fsFormat("Unexpected token '%s' in placeholder expression. Shold be `[ident: <expr>]`")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInPlaceholder=function(e,t){if(null!=t){return new _Error(204,fsFormat("Unexpected end of scope in placeholder after %s. Did you forget to indent the body of the plceholder?")(function(e){return e})(formatTokenInfo(t)),e)}return new _Error(204,"Unexpected end of scope in placeholder after expression. Did you forget to indent the body of the plceholder?",e)},e.unexpectedEndOfPlaceholder=function(e){return new _Error(205,"Incomplete placeholder expression. Shold be `[ident: <expr>]`",e)},e.unexpectedEndAfterOperator=function(e,t){return new _Error(206,fsFormat("Unexpected token after operator '%s'. Expected an expression or closing parenthesis.")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedTokenInArgList=function(e,t){return new _Error(207,fsFormat("Unexpected token '%s' in list of call arguments")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInArgList=function(e){return new _Error(208,"Unexpected end of argument list. Did you forget to indent the arguments?",e)},e.unexpectedTokenInParenthesizedExpr=function(e,t){return new _Error(209,fsFormat("Unexpected token '%s' in parenthesized expression. Are you missing ')'?")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInParenthesizedExpr=function(e){return new _Error(210,"Unexpected end of nested expression in `(`. Did you forget to indent the body of the expression?",e)},e.missingParenthesizedExpr=function(e){return new _Error(211,"The parenthesized expression (...) is missing body!",e)},e.unexpectedTokenInList=function(e,t){return new _Error(212,fsFormat("Unexpected token '%s' in list expression")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInList=function(e){return new _Error(213,"Unexpected end of list expression. Did youu forget to indent the elements of the list?",e)},e.unexpectedTokenInLetBinding=function(e,t){return new _Error(214,fsFormat("Unexpected token '%s' in let declaration (should be `let name = expr`)")(function(e){return e})(formatTokenInfo(t)),e)},e.missingBodyInLetBinding=function(e){return new _Error(215,"This let binding is missing body after equals (should be `let name = expr`",e)},e.unexpectedNestedTokenInCommand=function(e,t){return new _Error(216,fsFormat("Unexpected indented token '%s' in command list. Try removing the indentation before the token.")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedTokenAfterFun=function(e,t){return new _Error(217,fsFormat("Unexpected token '%s' after `fun`. Expected variable name.")(function(e){return e})(formatTokenInfo(t)),e)},e.missingArrowInFunc=function(e){return new _Error(218,"Missing arrow after variable in function definition",e)},e.unexpectedScopeEndInFunc=function(e){return new _Error(219,"Unexpected end of function declaration. Did you forget to indent the body of the function?",e)},e.missingBodyOfFunc=function(e){return new _Error(220,"The function is missing body. Did you forget to indent the body of the function?",e)},e.unexpectedScopeEndInLet=function(e){return new _Error(221,"Unexpected end of let declaration. Did you forget to indent the body of the let declaration?",e)},e.exceptionWhileParsing=function(e,t){return new _Error(299,"Unexpected exception while parsing: "+t,e)};return e}({}),TypeChecker=function(e){var t=(e.numericOperatorExpectsNumbers=function(e,t,n,i,r){return new _Error(301,fsFormat("Both operands of binary operator '%s' should be %s but the %s operand was %s instead.")(function(e){return e})(join(" or ",map$5(function(e){return formatTypeInfo(e)},n)))(formatToken(new TokenKind("Operator",[e])))(0===t?"left":"right")(formatTypeInfo(i)),r)},e.variableNotInScope=function(e,t){return new _Error(302,fsFormat("Variable '%s' is not in scope.")(function(e){return e})(e),t)},function(e){var t=_Array$from(e),n=t.length>10?fsFormat(", (%d members)")(function(e){return e})(t.length-10):"";return join(", ",toList(delay(function(){return map$3(function(e){return e.Name},t)})))+n});e.memberMissing=function(e,n,i){return new _Error(303,fsFormat("Could not find property '%s' in the list '%s'.")(function(e){return e})(e)(t(n)),i)},e.notAnObject=function(e,t,n){return new _Error(305,fsFormat("Type is not an object but %s and it does not have member `%s`")(function(e){return e})(formatTypeInfo(t))(e),n)},e.listElementTypeDoesNotMatch=function(e,t,n){return new _Error(306,fsFormat("The type of this list element is %s but it should be %s")(function(e){return e})(formatTypeInfo(t))(formatTypeInfo(e)),n)},e.nameBasedParamMustBeLast=function(e){return new _Error(307,"All named parameters must be at the end of parameter list.",e)},e.parameterMissingValue=function(e,t){return new _Error(308,fsFormat("Required parameter `%s` is not given a value.")(function(e){return e})(e),t)},e.notAnMethod=function(e,t,n){return new _Error(309,fsFormat("The type of member %s is `%s` and not a method and so it cannot be called.")(function(e){return e})(e)(formatTypeInfo(t)),n)},e.parameterConflict=function(e){return new _Error(310,"Invalid argument type",e)},e.callMissingInstance=function(e,t){return new _Error(311,fsFormat("The `%s` property access or call is missing an instance")(function(e){return e})(e),t)};return e}({}),_stringWs="\t\n\v\f\r \u2028\u2029\ufeff",$export$12=_export,defined$3=_defined,fails$2=_fails,spaces=_stringWs,space="["+spaces+"]",non="",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(e,t,n){var i={},r=fails$2(function(){return!!spaces[e]()||non[e]()!=non}),o=i[e]=r?t(trim$1):spaces[e];n&&(i[n]=o),$export$12($export$12.P+$export$12.F*r,"String",i)},trim$1=exporter.trim=function(e,t){return e=String(defined$3(e)),1&t&&(e=e.replace(ltrim,"")),2&t&&(e=e.replace(rtrim,"")),e},_stringTrim=exporter,$parseFloat$1=_global.parseFloat,$trim=_stringTrim.trim,_parseFloat$3=1/$parseFloat$1(_stringWs+"-0")!=-1/0?function(e){var t=$trim(String(e),3),n=$parseFloat$1(t);return 0===n&&"-"==t.charAt(0)?-0:n}:$parseFloat$1,$export$11=_export,$parseFloat=_parseFloat$3;$export$11($export$11.S+$export$11.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat});var _parseFloat$1=parseFloat,_parseFloat=createCommonjsModule(function(e){e.exports={default:_parseFloat$1,__esModule:!0}}),_Number$parseFloat=unwrapExports(_parseFloat),Context$2=function(){function e(t,n,i){_classCallCheck(this,e),this.Tokens=t,this.Errors=n,this.Input=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Tokenizer.Context",interfaces:["FSharpRecord","System.IEquatable"],properties:{Tokens:FableArray(Token),Errors:FableArray(makeGeneric(_Error,{Range:_Range})),Input:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Tokenizer.Context",Context$2);var ParsingContext=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.Tokens=t,this.Whitespace=n,this.Errors=i,this.SilentMode=r,this.Position=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.ParsingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Tokens:FableArray(Token),Whitespace:FableArray(Token),Errors:FableArray(makeGeneric(_Error,{Range:_Range})),SilentMode:"boolean",Position:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Parser.ParsingContext",ParsingContext);var Context$1=function(e){var t=(e.clone=function(e){var t=_Array$from(e.Whitespace),n=_Array$from(e.Errors),i=e.Position;return new ParsingContext(e.Tokens,t,n,e.SilentMode,i)},e.next=function(e){e.Position=e.Position+1});e.error=function(e,t){e.SilentMode||e.Errors.push(t)},e.silent=function(e,t){e.SilentMode=!0;var n=t(e);return e.SilentMode=!1,n},e.tokenIndent=function(e){e:for(;;){var n=e.Tokens[e.Position],i="Newline"===n.Token.Case?[0]:"Error"===n.Token.Case?[1,n]:"White"===n.Token.Case?[1,n]:[2];switch(i[0]){case 0:var r=e.Tokens[e.Position+1];if("White"===r.Token.Case){r.Token.Fields[0];t(e),t(e),e.Whitespace.push(n),e.Whitespace.push(r),e=e;continue e}return null;case 1:e.Whitespace.push(i[1]),t(e),e=e;continue e;case 2:var o=toList(e.Whitespace);return e.Whitespace.splice(0),[o,n]}}},e.tokenNonIndent=function(e){var n=e.Tokens[e.Position],i="Newline"===n.Token.Case?[0,n]:"White"===n.Token.Case&&0===e.Position?[1]:[2];switch(i[0]){case 0:for(var r=e.Position,o=e.Position;o<e.Tokens.length;){var s=e.Tokens[o].Token;"Newline"===s.Case?(r=o,o+=1):"White"===s.Case?o+=1:o=e.Tokens.length}e.Position=r;var a=e.Tokens[e.Position+1];if("White"===a.Token.Case)return null;t(e),e.Whitespace.push(i[1]);var l=toList(e.Whitespace);return e.Whitespace.splice(0),[l,a];case 1:return null;case 2:return 0===e.Position||e.Position===e.Tokens.length-1?[new List$1,n]:null}};return e}({}),Associativity=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.Associativity",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Left:[],Right:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Parser.Associativity",Associativity);var OpExpr=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.OpExpr",interfaces:["FSharpUnion"],cases:{OpExpr:[makeGeneric(_Node,{T:Expr}),Option(Tuple([makeGeneric(_Node,{T:Operator}),e]))]}}}}]),e}();setType("TheGamma.Parser.OpExpr",OpExpr);var CheckingContext=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Errors=t,this.Globals=n,this.Ranges=i,this.Evaluate=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeChecker.CheckingContext",interfaces:["FSharpRecord"],properties:{Errors:FableArray(makeGeneric(_Error,{Range:_Range})),Globals:Interface("System.Collections.Generic.IDictionary"),Ranges:Interface("System.Collections.Generic.IDictionary"),Evaluate:"function"}}}}]),e}();setType("TheGamma.TypeChecker.CheckingContext",CheckingContext);var LineColumnRange=function(){function e(t,n,i,r){_classCallCheck(this,e),this.StartLineNumber=t,this.StartColumn=n,this.EndLineNumber=i,this.EndColumn=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.LineColumnRange",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{StartLineNumber:"number",StartColumn:"number",EndLineNumber:"number",EndColumn:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.LineColumnRange",LineColumnRange);var LocationMapper=function(){function e(t){_classCallCheck(this,e),this.lengths=_Array$from(map$3(function(e){return e.length},split$$1(t,"\n")))}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.LocationMapper",properties:{}}}}]),_createClass(e,[{key:"AbsoluteToLineCol",value:function(e){for(var t=0,n=e;t<=this.lengths.length&&n>this.lengths[t];)n=n-this.lengths[t]-1,t+=1;return[t+1,n+1]}},{key:"LineColToAbsolute",value:function(e,t){for(var n=0,i=1;i<=e-1;i++)n=n+this.lengths[i-1]+1;return n+t-1}}]),e}();setType("TheGamma.LocationMapper",LocationMapper);var LiveEditorZone=function(){function e(t,n){_classCallCheck(this,e),this.Line=t,this.Preview=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveEditorZone",interfaces:["FSharpRecord"],properties:{Line:"number",Preview:DomNode}}}}]),e}();setType("TheGamma.Live.Common.LiveEditorZone",LiveEditorZone);var LivePreview=function(){function e(t,n,i,r){_classCallCheck(this,e),this.ID=t,this.Update=n,this.Render=i,this.InitialState=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LivePreview",interfaces:["FSharpRecord"],properties:{ID:"string",Update:"function",Render:"function",InitialState:GenericParam("TState")}}}}]),e}();setType("TheGamma.Live.Common.LivePreview",LivePreview);var LiveState=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.Globals=t,this.Code=n,this.Program=i,this.Mapper=r,this.Location=o,this.Selection=s,this.State=a,this.CurrentPreview=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveState",interfaces:["FSharpRecord"],properties:{Globals:Interface("System.Collections.Generic.IEnumerable"),Code:"string",Program:Program$$1,Mapper:LocationMapper,Location:"number",Selection:Option(LineColumnRange),State:GenericParam("T"),CurrentPreview:Option(makeGeneric(LivePreview,{TState:Interface("TheGamma.Live.Common.CustomLiveState"),TEvent:Interface("TheGamma.Live.Common.CustomLiveEvent")}))}}}}]),e}();setType("TheGamma.Live.Common.LiveState",LiveState);var LiveEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveEvent",interfaces:["FSharpUnion"],cases:{CustomEvent:[GenericParam("T")],InitializeGlobals:[Interface("System.Collections.Generic.IEnumerable")],UpdateLocation:["number"],UpdateSource:["string","number",Program$$1,LocationMapper]}}}}]),e}();setType("TheGamma.Live.Common.LiveEvent",LiveEvent);var NestedChain=function(){function e(t){_classCallCheck(this,e),this.Chain=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.NestedChain",interfaces:["FSharpRecord"],properties:{Chain:makeGeneric(List$1,{T:Tuple(["number",makeGeneric(_Node,{T:Expr})])})}}}}]),e}();setType("TheGamma.Live.Common.NestedChain",NestedChain);var CheckingMessage=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.CheckingMessage",interfaces:["FSharpUnion","System.IEquatable"],cases:{IsWellTyped:["string",Any],TypeCheck:["string",Any]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}}]),e}();setType("TheGamma.Services.CheckingMessage",CheckingMessage);var Position$1=function(){function e(t,n){_classCallCheck(this,e),this.Line=t,this.Column=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.Position",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Line:"number",Column:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Services.Position",Position$1);var LineRange=function(){function e(t,n){_classCallCheck(this,e),this.Start=t,this.End=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.LineRange",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Start:Position$1,End:Position$1}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Services.LineRange",LineRange);var CheckingService=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.globals=n,this.errorsReported=new Event$2;var r=new Program$$1(node(new _Range(0,0),new List$1));this.bindingContext=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.globals),function(n){return e.Return(createContext(n,t))})})}(singleton$2)),this.agent=start$1(function(e){return function t(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(e.receive(),function(e){if("TypeCheck"===e.Case){if(e.Fields[0]===n)return Log.trace("service","Returning previous result"),e.Fields[1].reply(o),s.ReturnFrom(t(n)(o));if("TypeCheck"===e.Case)return Log.trace("service","Type checking source code"),s.Bind(i.typeCheck(e.Fields[0]),function(a){if(null==a)return e.Fields[1].reply([!1,new BindingResult([]),r]),s.ReturnFrom(t(n)(o));var l=a[0],u=a[2],c=a[1];i.errorsReported.Trigger([e.Fields[0],u]);var p=[0===u.length,c,l];return e.Fields[1].reply(p),s.ReturnFrom(t(e.Fields[0])(p))});throw new Error("C:\\Tomas\\Public\\the-gamma\\thegamma-script\\src\\thegamma\\services.fs",64,12)}return s.Bind(i.typeCheck(e.Fields[0]),function(i){return s.Combine(function(){switch((null!=i&&function(){return 0===i[2].length}()?[0,i[2]]:[1])[0]){case 0:return e.Fields[1].reply(!0),s.Zero();case 1:return e.Fields[1].reply(!1),s.Zero()}}(),s.Delay(function(){return s.ReturnFrom(t(n)(o))}))})})})}(singleton$2)}}("")([!1,new BindingResult([]),r])})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.CheckingService",properties:{ErrorsReported:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"TypeCheck",value:function(e){return this.agent.postAndAsyncReply(function(t){return new CheckingMessage("TypeCheck",[e,t])})}},{key:"IsWellTyped",value:function(e){return this.agent.postAndAsyncReply(function(t){return new CheckingMessage("IsWellTyped",[e,t])})}},{key:"errorsToLineCol",value:function(e,t){var n=map$5(function(e){return e.length},toList(split$$1(e,"\n")));return t.map(function(e){return new _Error(e.Number,e.Message,rangeToLoc(n,e.Range))})}},{key:"typeCheck",value:function(e){var t=this;return function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.globals),function(i){return Log.trace("service","Evaluated globals"),n.Combine(n.For(i,function(e){return Log.trace("service","Global value '%s' : %O = %O",Entity_get_Name.bind(e)(),defaultArg(e.Type,null,function(e){return formatType(e)}),e.Value),n.Zero()}),n.Delay(function(){return n.TryWith(n.Delay(function(){var r=parseProgram(e);return n.Bind(Async_AwaitFuture_Static(t.bindingContext),function(o){var s=bindProgram(o,r[0]);return n.Bind(typeCheckProgram(i,s[1],function(e){return evaluate(i,e)},s[0]),function(){var i=collectTypeErrors(s[0]);Log.trace("service","Type checking completed");var o=void 0,a=r[1].concat(i);return o=t.errorsToLineCol(e,a),n.Return([r[0],s[1],o])})})}),function(e){return Log.exn("service","Type checking failed: %O",e),n.Return(null)})}))})})}(singleton$2)}},{key:"ErrorsReported",get:function(){return this.errorsReported.Publish}}]),e}();setType("TheGamma.Services.CheckingService",CheckingService);var PreviewService=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.checker=t,this.globals=n,this.ed=i,this.livePreviews=r,this.zoneSizeChanged=new Event$2,this.currentZone=null,this.zoneHeight=0,this.tree={},this.container=document.createElement("div"),this.lastCode="",this.lastMapper=new LocationMapper(""),this.changingEditor=!1;var s=function(e){return o.createLivePreview(e)}(this.ed);this.ed.onDidChangeCursorPosition(function(e){if(!o.changingEditor){var t=o.ed.getModel().getValue(1,!1)
;Log.trace("live","Cursor position changed: code <> lastCode = %s",t!==o.lastCode),function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(o.getUpdateEventAfterChange(),function(t){return s(t),e.Zero()})})}(singleton$2))}})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.PreviewService",properties:{ZoneHeight:"number",ZoneSizeChanged:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"removeZone",value:function(){var e=this.currentZone;if(null==e);else{var t=e[0];this.ed.changeViewZones(function(e){e.removeZone(t)})}this.currentZone=null,this.zoneSizeChanged.Trigger(null)}},{key:"createAndAddZone",value:function(e){var t=this,n=-1,i={},r=document.createElement("div");r.style.width="1000px",r.style.height="1000px",this.container=document.createElement("div"),this.tree={},r.appendChild(this.container),this.ed.changeViewZones(function(o){var s=t.currentZone;if(null!=s){var a=s[0];o.removeZone(a)}i.afterLineNumber=e,i.heightInPx=1,i.domNode=r,t.zoneHeight=1,n=o.addZone(i),t.currentZone=[n,i]})}},{key:"updateZones",value:function(e,t){var n=this,i=defaultArg(t.CurrentPreview,null,function(n){return n.Render(e)(t)});if(null!=i){if(function(){return null==n.currentZone}()){var r=i.Line;this.createAndAddZone(r)}var o=this.currentZone,s=renderVirtual(i.Preview),a=diff(this.tree,s);this.container=patch(this.container,a),this.tree=s;var l=function e(t){return function(i){return i.Delay(function(){var r=n.container.clientHeight;return 10===t||0!==r?i.Return(r):i.Bind(sleep(t*t),function(){return i.ReturnFrom(e(t+1))})})}(singleton$2)};!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(l(1),function(t){return Log.trace("live","Old height: %s, New height: %s",n.zoneHeight,t),n.zoneHeight!==t||o[1].afterLineNumber!==i.Line?(o[1].afterLineNumber=i.Line,o[1].heightInPx=t,n.zoneHeight=t,n.ed.changeViewZones(function(e){e.layoutZone(o[0])}),n.zoneSizeChanged.Trigger(null),e.Zero()):e.Zero()})})}(singleton$2))}else this.removeZone()}},{key:"getUpdateEventAfterChange",value:function(){var e=this;return function(t){return t.Delay(function(){var n=e.ed.getModel().getValue(1,!1),i=e.ed.getPosition();if(n!==e.lastCode){e.lastCode=n,e.lastMapper=new LocationMapper(n);var r=e.lastMapper.LineColToAbsolute(~~i.lineNumber,~~i.column);return t.Bind(e.checker.TypeCheck(n),function(i){return t.Return(new LiveEvent("UpdateSource",[n,r,i[2],e.lastMapper]))})}var o=e.lastMapper.LineColToAbsolute(~~i.lineNumber,~~i.column);return t.Return(new LiveEvent("UpdateLocation",[o]))})}(singleton$2)}},{key:"createLivePreview",value:function(e){var t=this,n=new Event$2,i=void 0;i=_defineProperty({},_Symbol.reflection,function(){return{interfaces:["TheGamma.Live.Common.CustomLiveState"]}});var r=void 0,o=new LocationMapper(""),s=new Program$$1(node(new _Range(0,0),new List$1));r=new LiveState(new List$1,"",s,o,0,null,i,null);var a=function(e){var o=updateLiveState(r,e),s=null==o.CurrentPreview?null:o.CurrentPreview.Update(function(e){n.Trigger(e)})(o)(e),a=void 0;switch(("UpdateSource"===e.Case?[0]:"UpdateLocation"===e.Case?[0]:[1])[0]){case 0:Log.trace("live","Searching for available previews"),a=tryPick(function(t){var i=void 0,r=t;return i=new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,t.InitialState,r),t.Update(function(e){n.Trigger(e)})(i)(e)},t.livePreviews);break;case 1:a=null}var l=[s,a],u=null!=l[0]&&null!=l[0].CurrentPreview&&null!=l[1]&&null!=l[1].CurrentPreview&&function(){var e=l[1].CurrentPreview;return l[0].CurrentPreview.ID!==e.ID}()?[0,l[0].CurrentPreview,l[1].CurrentPreview,l[1],l[0]]:[1];switch(u[0]){case 0:return u[3];case 1:if(null!=l[0]){return l[0]}if(null!=l[1]){return l[1]};return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,i,null)}};return add$5(function(i){try{Log.trace("live","Updating state %O with event %O",r,i);var o=r;r=a(i),"UpdateSource"!==i.Case&&o.Code!==r.Code&&(t.changingEditor=!0,e.getModel().setValue(r.Code));var s=r.Selection;if(null!=s){t.changingEditor=!0;var l={};l.startColumn=s.StartColumn,l.startLineNumber=s.StartLineNumber,l.endColumn=s.EndColumn,l.endLineNumber=s.EndLineNumber,e.setSelection(l);r=new LiveState(r.Globals,r.Code,r.Program,r.Mapper,r.Location,null,r.State,r.CurrentPreview)}if(!0===t.changingEditor)t.changingEditor=!1,function(e){startImmediate(e)}(function(e){return e.Delay(function(){return Log.trace("live","Editor changed. Getting after change event..."),e.Bind(t.getUpdateEventAfterChange(),function(i){Log.trace("live","Editor changed. Updating state %O with event %O",r,i),r=a(i),Log.trace("live","Editor changed. New state %O",r);var o=function(e){n.Trigger(e)};return t.updateZones(o,r),e.Zero()})})}(singleton$2));else{var u=function(e){n.Trigger(e)};t.updateZones(u,r)}}catch(e){Log.exn("live","Error when updating state %O with event %O: %O",r,i,e)}},n.Publish),function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(t.globals),function(t){return n.Trigger(new LiveEvent("InitializeGlobals",[t])),e.Zero()})})}(singleton$2)),function(e){n.Trigger(e)}}},{key:"ZoneSizeChanged",get:function(){return this.zoneSizeChanged.Publish}},{key:"ZoneHeight",get:function(){return equals(this.currentZone,null)?0:this.zoneHeight}}]),e}();setType("TheGamma.Services.PreviewService",PreviewService);var CompilationContext=function(){function e(t,n){_classCallCheck(this,e),this.LineLengths=t,this.Globals=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.CompilationContext",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{LineLengths:makeGeneric(List$1,{T:"number"}),Globals:makeGeneric(FableMap,{Key:"string",Value:Expression})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.CompilationContext",CompilationContext);var PivotSection=function(){function e(t,n){_classCallCheck(this,e),this.Transformation=t,this.Nodes=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotSection",interfaces:["FSharpRecord"],properties:{Transformation:Transformation,Nodes:makeGeneric(List$1,{T:makeGeneric(_Node,{T:Expr})})}}}}]),e}();setType("TheGamma.Live.Pivot.PivotSection",PivotSection);var PivotEditorMenus=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorMenus",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AddDropdownOpen:[],ContextualDropdownOpen:[],Hidden:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorMenus",PivotEditorMenus);var PivotEditorAction=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorAction",interfaces:["FSharpUnion"],cases:{AddElement:[Interface("TheGamma.Common.Symbol"),"string",Option(makeGeneric(List$1,{T:Expr}))],AddTransform:[Transformation],RemoveElement:[Interface("TheGamma.Common.Symbol")],RemoveSection:[Interface("TheGamma.Common.Symbol")],ReplaceElement:[Interface("TheGamma.Common.Symbol"),"string",Option(makeGeneric(List$1,{T:Expr}))],ReplaceRange:[_Range,"string"],SelectChainElement:["number"],SelectRange:[_Range],SwitchMenu:[PivotEditorMenus],UpdatePreview:[DomNode]}}}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorAction",PivotEditorAction);var PivotEditorState=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.Body=t,this.FirstNode=n,this.Preview=i,this.Sections=r,this.SelectedEntity=o,this.Menus=s,this.Focus=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorState",interfaces:["FSharpRecord"],properties:{Body:makeGeneric(_Node,{T:Expr}),FirstNode:makeGeneric(_Node,{T:Expr}),Preview:DomNode,Sections:makeGeneric(List$1,{T:PivotSection}),SelectedEntity:Entity,Menus:PivotEditorMenus,Focus:Option(Tuple(["string",Option("number")]))}}}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorState",PivotEditorState);var marker="InsertPropertyHere",preview=new LivePreview("Pivot",function(e){return function(t){return function(n){return updatePivotState(e,t,n)}}},function(e){return function(t){return renderPivot(e,t)}},function(){var e=node(new _Range(0,0),new Expr("Empty",[])),t=node(new _Range(0,0),new Expr("Empty",[]));return new PivotEditorState(e,t,text("not created"),new List$1,null,new PivotEditorMenus("Hidden",[]),null)}()),ShowableEditorState=function(){function e(t,n,i,r){_classCallCheck(this,e),this.EndLocation=t,this.Preview=n,this.PreviewSymbol=i,this.PreviewID=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Showable.ShowableEditorState",interfaces:["FSharpRecord"],properties:{EndLocation:"number",Preview:DomNode,PreviewSymbol:Interface("TheGamma.Common.Symbol"),PreviewID:"number"}}}}]),e}();setType("TheGamma.Live.Showable.ShowableEditorState",ShowableEditorState);var preview$1=new LivePreview("Showable",function(e){return function(t){return function(n){return updateShowableState(e,t,n)}}},function(e){return function(t){return renderShowable(e,t)}},function(){var e=_Symbol2();return new ShowableEditorState(0,text("not created"),e,0)}()),_Event$1=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Blocks.Event",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AddElement:["string"],RemoveLast:[],UpdateParameter:["string","string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Blocks.Event",_Event$1);var State=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.CheckingService=t,this.Globals=n,this.Chain=i,this.Completions=r,this.Entity=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Blocks.State",interfaces:["FSharpRecord"],properties:{CheckingService:CheckingService,Globals:makeGeneric(List$1,{T:Entity}),Chain:makeGeneric(List$1,{T:Tuple(["string",Option(makeGeneric(List$1,{T:Tuple(["string","string"])}))])}),Completions:FableArray("string"),Entity:Option(Entity)}}}}],[{key:"Create",value:function(t,n){return new e(t,n,new List$1,[],null)}}]),e}();setType("TheGamma.Blocks.State",State);var i$1=1;eval("monaco$"+i$1+" = monaco"),monaco=monaco;var noState=_defineProperty({clone:function(){return this},equals:function(e){return!0}},_Symbol.reflection,function(){return{interfaces:["Fable.Import.monaco.languages.IState"]}}),tokensProvider=_defineProperty({tokenize:function(e,t){var n={};n.endState=noState,n.tokens=[];for(var i=tokenize(e),r=0;r<=i[0].length-1;r++){var o=i[0][r],s={};s.startIndex=o.Range.Start,s.scopes=getColorClass(o.Token),n.tokens.push(s)}return n},getInitialState:function(){return noState}},_Symbol.reflection,function(){return{interfaces:["Fable.Import.monaco.languages.TokensProvider"]}}),createdEditors=new _Map,TheGammaProviders=function(){function e(t){_classCallCheck(this,e),this.globals=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.TheGammaProviders",interfaces:["FSharpRecord","System.IEquatable"],properties:{globals:Interface("TheGamma.Common.Future")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Main.TheGammaProviders",TheGammaProviders);var TheGammaContext=function(){function e(t,n){_classCallCheck(this,e),this.checkingService=t,this.providers=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.TheGammaContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{checkingService:CheckingService,providers:TheGammaProviders}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Main.TheGammaContext",TheGammaContext);var previews=ofArray$1([preview,preview$1]),editorOptions=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.width=t,this.height=n,this.maxHeight=i,this.autoHeight=r,this.enablePreview=o,this.monacoOptions=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.editorOptions",interfaces:["FSharpRecord"],properties:{width:Option("number"),height:Option("number"),maxHeight:Option("number"),autoHeight:Option("boolean"),enablePreview:Option("boolean"),monacoOptions:Option("function")}}}}]),e}();setType("TheGamma.Main.editorOptions",editorOptions);var error=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.number=t,this.message=n,this.startLine=i,this.startColumn=r,this.endLine=o,this.endColumn=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.error",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{number:"number",message:"string",startLine:"number",startColumn:"number",endLine:"number",endColumn:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Main.error",error);var defaultEditorOptions=function(){return new editorOptions(null,null,null,null,null,null)}(),thenable=function(){function e(t){var n=this;_classCallCheck(this,e),this.resCell=new Choice("Choice1Of3",[null]),this.trigger=function(){},function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(t,function(t){return n.resCell=new Choice("Choice2Of3",[t]),n.trigger(null),e.Zero()})}),function(t){return n.resCell=new Choice("Choice3Of3",[t]),n.trigger(null),e.Zero()})})}(singleton$2))}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.thenable",properties:{}}}}]),_createClass(e,[{key:"then",value:function(e,t){var n=this;this.trigger=function(){var i=n.resCell;"Choice2Of3"===i.Case?(n.trigger=function(){},e(i.Fields[0])):"Choice3Of3"===i.Case&&(n.trigger=function(){},function(){return null!=t}()&&t(i.Fields[0]))},this.trigger(null)}}]),e}();setType("TheGamma.Main.thenable",thenable);var checkingResult=function(){function e(t,n,i){_classCallCheck(this,e),this._wellTyped=t,this._bindingResult=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.checkingResult",properties:{wellTyped:"boolean"}}}}]),_createClass(e,[{key:"getEntities",value:function(){return this._bindingResult.Entities.map(function(e){return serializeEntity(e[0],e[1])})}},{key:"wellTyped",get:function(){return this._wellTyped}}]),e}();setType("TheGamma.Main.checkingResult",checkingResult);var editor$1=function(){function e(t){_classCallCheck(this,e),this.ed=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.editor",properties:{}}}}]),_createClass(e,[{key:"getMonacoEditor",value:function(){return this.ed}},{key:"getValue",value:function(){return this.ed.getModel().getValue(1,!1)}},{key:"setValue",value:function(e){this.ed.getModel().setValue(e)}}]),e}();setType("TheGamma.Main.editor",editor$1);var gamma=function(){function e(t){_classCallCheck(this,e),this.ctx=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.gamma",properties:{}}}}]),_createClass(e,[{key:"check",value:function(e){var t=this;return new thenable(function(n){return n.Delay(function(){return n.Bind(t.ctx.checkingService.TypeCheck(e),function(e){return n.Return(function(e){return new checkingResult(e[0],e[1],e[2])}(e))})})}(singleton$2))}},{key:"evaluate",value:function(e,t){var n=this;return new thenable(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.ReturnFrom(_evaluate(n.ctx,e,t))}),function(t){return Log.exn("api","Evaluating code '%O' failed with error '%O'.",e,t),i.ReturnFrom(function(){throw t}())})})}(singleton$2))}},{key:"errorsReported",value:function(e){add$5(function(t){e(_Array$from(sortWith(function(e,t){return compare(function(e){return e.Range.Start}(e),function(e){return e.Range.Start}(t))},t[1])).map(function(e){return new error(e.Number,e.Message,e.Range.Start.Line,e.Range.Start.Column,e.Range.End.Line,e.Range.End.Column)}))},this.ctx.checkingService.ErrorsReported)}},{key:"createBlocks",value:function(e){createBlockEditor(this.ctx.checkingService,this.ctx.providers.globals,e)}},{key:"createEditor",value:function(e,t,n){var i=20,r=null!=n?n:defaultEditorOptions,o=document.getElementById(e),s=defaultArg(r.width,o.clientWidth),a=defaultArg(r.height,o.clientHeight),l=defaultArg(r.maxHeight,2147483647),u=createMonacoEditor(e,t,this.ctx.checkingService,function(e){e.fontSize=15,e.lineHeight=20,defaultArg(r.monacoOptions,function(e){})(e);var t=e.lineHeight;null!=t&&(i=t)}),c={};c.width=s,c.height=a,u.layout(c);var p=defaultArg(r.enablePreview,!0)?new PreviewService(this.ctx.checkingService,this.ctx.providers.globals,u,previews):null,h=-1,d=function(){var e=u.getModel().getValue(1,!1),t=1+split$$1(e,"\n").length,n=null!=p?p.ZoneHeight:0,i=l<(200>20*t+n?200:20*t+n)?l:200>20*t+n?200:20*t+n;if(i!==h){h=i;var r={};r.width=s,r.height=i,u.layout(r),o.style.height=String(r.height)+"px",o.style.width=String(r.width)+"px"}};return equals(r.autoHeight,!0)&&(u.getModel().onDidChangeContent(function(e){d()}),null!=p&&add$5(function(){d()},p.ZoneSizeChanged),d()),new editor$1(u)}}],[{key:"createContext",value:function(t){var n=new CheckingService("",t.globals);return new e(new TheGammaContext(n,t))}}]),e}();setType("TheGamma.Main.gamma",gamma);var providers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Main.providers",properties:{}}}}],[{key:"createProviders",value:function(e){var t=buildGlobalsTable(function(t){return function(n){return n.Delay(function(){var i=function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(e).map(function(e){return e.value(e.key)(t)});return n.Bind(parallel(i),function(e){return n.Return(concat(e))})})}(singleton$2)});return new TheGammaProviders(t)}},{key:"rest",value:function(e,t,n){return function(i){return function(r){return function(o){return o.Delay(function(){var s=provideRestType(r,function(){var e=null!=n&&n;return function(t){return function(n){return resolveProvider(r,e,t,n)}}}(),i,e,null!=t?t:"");return o.Return(ofArray$1([s]))})}(singleton$2)}}}},{key:"library",value:function(e){return function(t){return function(t){return provideFSharpTypes(t,e)}}}},{key:"pivot",value:function(e,t){return function(n){return function(i){return function(r){return r.Delay(function(){return r.Bind(providePivotType(e,null!=t&&t,n,i),function(e){return r.Return(ofArray$1([e]))})})}(singleton$2)}}}}]),e}();setType("TheGamma.Main.providers",providers),exports.evaluate=_evaluate,exports.buildGlobalsTable=buildGlobalsTable,exports.resolveProvider=resolveProvider,exports.TheGammaProviders=TheGammaProviders,exports.TheGammaContext=TheGammaContext,exports.callShowMethod=callShowMethod,exports.previews=previews,exports.editorOptions=editorOptions,exports.error=error,exports.defaultEditorOptions=defaultEditorOptions,exports.thenable=thenable,exports.serializeType=serializeType,exports.serializeEntity=serializeEntity,exports.checkingResult=checkingResult,exports.editor=editor$1,exports.gamma=gamma,exports.providers=providers,Object.defineProperty(exports,"__esModule",{value:!0})});

//# sourceMappingURL=thegamma.min.js.map