<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Droid+Sans+Mono&family=Kreon:wght@300;400;500;600&family=PT+Sans:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="alternate" type="application/rss+xml" title="Latest news from Tomas Petricek" href="/rss.xml" />
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <link href="/custom/style.css" rel="stylesheet">
  <link href="/custom/tooltips.css" rel="stylesheet">
  <script src="/custom/tooltips.js" type="text/javascript"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon-big.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/favicon-big.png">
  <meta name="msapplication-TileColor" content="#004C6B">
  <meta name="msapplication-TileImage" content="/img/favicon-big.png">
  <meta name="theme-color" content="#004C6B">
  
  <title>Tagged joinads - Latest writings from my blog - Tomas Petricek</title>
  <meta name="description" content="Tomas Petricek's latest blog posts about programming languages and tools, working with data, philosophy of science and more." />
  <meta name="author" content="Tomas Petricek" />
  <meta name="copyright" content="Tomas Petricek" />

</head>
<body class="default">
  
<span class="tplink"><a href="/">TP</a></span>

<article>
  
    <h1><a href="http://tomasp.net/blog/joinads-async-implement.aspx/">TryJoinads (VII.) - Implementing joinads for async workflows</a></h1>
    
<p>The article <a href="http://tomasp.net/blog/joinads-async-prog.aspx">Asynchronous workflows and joinads</a> gives numerous
examples of programming with asynchronous workflows using the <code>match!</code> construct.
Briefly, when matching on multiple asynchronous workflows, they are executed in 
parallel. When pattern matching consists of multiple clauses, the clause that matches
on computations that complete first gets executed. These two behaviours are 
implemented by the <code>Merge</code> and the <code>Choose</code> operation of joinads. Additionally, 
asynchronous workflows require the <code>Alias</code> operation, which makes it possible to 
share the result of a started asynchronous workflow in multiple clauses.</p>

<p>In this article, we look at the definition of the additional <code>AsyncBuilder</code>
operations that enable the <code>match!</code> syntax. We do not look at additional examples
of using the syntax, because these can be <a href="http://tomasp.net/blog/joinads-async-prog.aspx">found in a previous article</a>.</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?implement/async.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Friday, 23 March 2012, 5:21 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinads-async-implement.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/joinads-parsing.aspx/">TryJoinads (VI.) - Parsing with joinads</a></h1>
    
<p>In functional programming, parser combinators are a powerful way of writing parsers. 
A parser is a function that, given some input, returns possible parsed values and 
the rest of the input. Parsers can be written using combinators for composition, for
example run two parsers in sequence or perform one parser any number of times.</p>

<p>Parsers can also implement the monad structure. In some cases, this makes the parser
less efficient, but it is an elegant way of composing parsers and we can also benefit
from the syntactic support for monads. In this article, we implement a simple parser
combinators for F# and we look what additional expressive power we can get from the
<em>joinad</em> structure and <code>match!</code> construct. This article is largely based on a
previous article <em>"Fun with Parallel Monad Comprehensions"</em>, which can be found on the
<a href="../pubs.html">publications</a> page.</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?implement/parsers.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Wednesday, 21 March 2012, 4:27 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/joinads/">joinads</a>, <a
              href="/blog/tag/research/">research</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinads-parsing.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/joinads-options.aspx/">TryJoinads (V.) - Implementing the option joinad</a></h1>
    
<p>This article shows how to implement the <em>joinad</em> structure for one of the 
simplest monads - the <code>option&lt;'T&gt;</code> type. This is a slightly oversimplified example. 
The <code>match!</code> construct can be used to write patterns that specify that a monadic
value (in this case <code>option&lt;'T&gt;</code>) should contain a certain value, or we can specify
that we do not require a value. When working with options, this means the same thing 
as matching the value against <code>Some</code> and against <code>_</code>, respectively.</p>

<p>However, the example demonstrates the operations that need to be implemented and
their type signatures. Later articles give more interesting examples including
parsers and asynchronous workflows (and you can explore other examples if you look
at the <a href="https://github.com/tpetricek/FSharp.Joinads">FSharp.Joiands source code</a> at GitHub).</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?implement/options.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Friday, 2 March 2012, 1:24 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinads-options.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/joinads-join-calculus.aspx/">TryJoinads (IV.) - Concurrency using join calculus</a></h1>
    
<p>Join calculus provides a declarative way of expressing asynchronous synchronization
patterns. It has been use as a basis for programming languages (JoCaml and COmega), but also
as a basis for libraries (embedded in C# and Scala). Using joinads, it is possible to 
embed join calculus in F# with a nice syntax using the <code>match!</code> construct. Formally,
join calculus does not form a <em>monad</em>, but it can be viewed as a version of <em>joinad</em>
as described in the <a href="../pubs.html">first paper on joinads</a>.</p>

<p>The programming model is based on <em>channels</em> and <em>join patterns</em>. A channel can be viewed
as a thread-safe mailbox into which we can put values without blocking the caller. In some
sense, this is quite similar to <a href="agents.html">F# agents</a>. A join pattern is then a rule
saying that a certain combination of values in channels should trigger a specific reaction
(and remove values from the channels). The ability to match on multiple channels distinguishes
join calculus from F# agents.</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?use/joins.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Wednesday, 22 February 2012, 5:38 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/joinads/">joinads</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/parallel/">parallel</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinads-join-calculus.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/joinads-agents.aspx/">TryJoinads (III.): Agent-based programming</a></h1>
    
<p>Another area where the <code>match!</code> syntax can be used is when programming with F# <em>agents</em>,
implemented by the <code>MailboxProcessor</code> type. Formally, agents do not form the monad
structure in a useful way - when programming with agents, we do not compose a new agents,
but instead we write code that (imperatively) receives messages from the agent's mailbox
and handles them.</p>

<p>This article demonstrates an <code>agent { ... }</code> computation builder that can be used for 
implementing the body of an agent. Normally, the body of an agent is an <em>asynchronous
workflow</em>. The code in the body uses <code>let!</code> to perform asynchronous operations, most 
importantly to call <code>inbox.Receive</code> to get the next message from the inbox. When the
agent intends to handle only certain kinds of messages, it can use <code>inbox.Scan</code>. When
using the <code>agent</code> builder, pattern matching on messages can be written using <code>match!</code> and
it is possible to write code that ignores certain types of messages simply by writing an
incomplete pattern matching.</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?use/agents.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Monday, 20 February 2012, 12:36 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/joinads/">joinads</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinads-agents.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/joinad-tasks.aspx/">TryJoinads (II.): Task-based parallelism</a></h1>
    
<p>The implementation of joinad operations for the <code>Task&lt;'T&gt;</code> type is quite similar to the 
implementation of <code>Async&lt;'T&gt;</code>, because the two types have similar properties. They both
produce at most one value (or an exception) and they both take some time to complete.</p>

<p>Just like for asynchronous workflows, pattern matching on multiple computations using 
<code>match!</code> gives us a parallel composition (with the two tasks running in parallel) and
choice between clauses is non-deterministic, depending on which clause completes first.</p>

<p>Unlike asynchronous workflows, the <code>Task&lt;'T&gt;</code> type does not require any support for
aliasing. A value of type <code>Task&lt;'T&gt;</code> represents a <em>running</em> computation that can be
accessed from multiple parts of program. In this sense, the type <code>Async&lt;'T&gt;</code> is more
similar to a function <code>unit -&gt; Task&lt;'T&gt;</code> than to the type <code>Task&lt;'T&gt;</code> itself.</p>

<p>The key difference between tasks and asynchronous workflows is that the latter provides
better support for writing non-blocking computations that involve <em>asynchronous</em> 
long-running operations such as I/O or waiting for a certain event. Tasks are more
suitable for high-performance CPU-intensive computations.</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?use/tasks.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Friday, 17 February 2012, 1:10 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinad-tasks.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/joinads-async-prog.aspx/">TryJoinads (I.) - Asynchronous programming</a></h1>
    
<p>Asynchronous workflows provide a way of writing code that does not block a thread
when waiting for a completion of long-running operation such as web service call,
another I/O operation or waiting for the completion of some background operation.
In this article, we look at the new expressive power that <em>joinads</em> add to 
asynchronous workflows written using the <code>async { ... }</code> block in F#.</p>

<p><em><strong>Note:</strong> This blog post is a re-publication of a tutorial from the <a href="http://tryjoinads.org">TryJoinads.org</a>
web page. If you read the article there, you can run the examples interactively
and experiment with them: <a href="http://tryjoinads.org/index.html?use/async.html">view the article on TryJoinads</a>.</em></p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Monday, 13 February 2012, 5:35 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/joinads-async-prog.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/introducing-tryjoinads.aspx/">Introducing TryJoinads.org</a></h1>
    
<div class="rdecor" style="text-align:center">
  <a href="http://tomasp.net/articles/introducing-tryjoinads/screen.png" target="_blank">
    <img src="http://tomasp.net/articles/introducing-tryjoinads/screen-sm.png" alt="TryJoinads.Org web site" style="border:none" />
  </a><br />
  <small>(<a href="http://tomasp.net/articles/introducing-tryjoinads/screen.png" target="_blank">Click for a larger version</a>)</small>
</div>

<p>If you have been following my blog, you've probably already heard of <em>joinads</em>. It is
a research extension of F# computation expressions (or monads in Haskell). The extension
makes computation expressions more useful in domains like parallel, concurrent and reactive
programming. However, it can be used for any type of computation including, for example, parsers.
If you're interested in detailed description, you can find it in two academic papers that
I blogged about previously: <a href="http://tomasp.net/blog/match-bang-paper.aspx">PADL 2011</a> and <a href="http://tomasp.net/blog/docase-haskell.aspx">Haskell 2011</a>.</p>

<p>The extension adds a keyword <code>match!</code> - as the syntax suggests, it is akin to pattern
matching using <code>match</code>, but instead of pattern matching on values, you can pattern match
on computations like <code>Async&lt;'T&gt;</code> (or on other monadic values). Just like other features of
computation expressions, the <code>match!</code> syntax is translated to applications of several
methods defined by the computation builder.</p>

<p>I won't say more about joinads in this post, because you can now easily try joinads yourself...</p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Monday, 13 February 2012, 4:21 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/links/">links</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/introducing-tryjoinads.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/docase-haskell.aspx/">Extending Monads with Pattern Matching (Haskell 2011)</a></h1>
    
<p>Some time ago, I wrote a <a href="http://tomasp.net/blog/match-bang-paper.aspx">paper about <em>joinads</em></a> and the <code>match!</code> extension
  of the F# language. The paper was quite practically oriented and didn't go into much details about 
  the theory behind <em>joinads</em>. Many of the examples from the F# version relied on some
  imperative features of F#. I believe that this is useful for parctical programming, but I 
  also wanted to show that the same idea can work in the <em>purely functional</em> context.</p>

<p>To show that joinads work in the pure setting, I created a Haskell version of the idea.
  The implementation (available below) is quite simple and consists of a pre-processor for 
  Haskell source files and numerous examples. However, more important part of the recent work of 
  joinads is a more detailed theoretical background.</p>

<p>The theory of joinads, together with the language design of Haskell extension that implements
  it is discussed in a paper <em>Extending Monads with Pattern Matching</em>, which was accepted
  for publication at the <a href="http://www.haskell.org/haskell-symposium/2011/index.html">Haskell 
  Symposium 2011</a>. Here is the abstract of the paper:</p>

      <p style="padding-left:60px;padding-right:60px;font-style:italic;">
      Sequencing of effectful computations can be neatly captured using monads and elegantly written using 
      <code>do</code> notation. In practice such monads often allow additional ways of composing computations, 
      which have to be written explicitly using combinators.
      </p><p style="padding-left:60px;padding-right:60px;font-style:italic;">
      We identify joinads, an abstract notion of computation that is stronger than monads and captures
      many such ad-hoc extensions. In particular, joinads are monads with three additional operations: 
      one of type <code>m a -> m b -> m (a, b)</code> captures various forms of <em>parallel composition</em>, 
      one of type <code>m a -> m a -> m a</code> that is inspired by <em>choice</em> and one of type <code>m a -> m (m a)</code> 
      that captures <em>aliasing</em> of computations. Algebraically, the first two operations form a 
      near-semiring with commutative multiplication.
      </p><p style="padding-left:60px;padding-right:60px;font-style:italic;">
      We introduce <code>docase</code> notation that can be viewed as a monadic version of <code>case</code>. Joinad laws
      make it possible to prove various syntactic equivalences of programs written using <code>docase</code> 
      that are analogous to equivalences about <code>case</code>. Examples of joinads that benefit from the notation
      include speculative parallelism, waiting for a combination of user interface events, but also 
      encoding of validation rules using the intersection of parsers.
      </p>
<p>Links to the full paper, source code and additional materials are <a href="http://tomasp.net/blog/docase-haskell.aspx#dscl">available below</a>.</p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Wednesday, 20 July 2011, 12:19 AM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/writing/">writing</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/haskell/">haskell</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/docase-haskell.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/fsharp-variations-joinads.aspx/">Variations in F#: Research compiler with Joinads and more!</a></h1>
    
<p>In this article, I'll write about an experimental extension for F# that I call 
  <em>joinads</em>. If you're following my blog, you may have seen an 
  <a href="http://tomasp.net/blog/match-bang-paper.aspx">academic paper</a> that
  I wrote about it some time ago. Anyway, the motivation for the extension
  is that there are many useful programming models for reactive, concurrent and parallel programming 
  that would deserve some syntactic support in the programming language.</p>

<p>For example, when programming with <em>futures</em> (the <code>Task&lt;T&gt;</code> type), 
  you may want to implement logical "or" operator for tasks that returns <code>true</code>
  immediately when the first task completes returning <code>true</code>. When programming with 
  <em>events</em> (the <code>IObservable&lt;T&gt;</code> type),
  we'd like to wait for the event that happens first. Finally, when programming using <em>agents</em>,
  we sometimes need to wait only for certain types of messages. All of these problems can
  be solved, but require the use of (sometimes fairly complicated) functions. Joinads make
  it possible to solve them directly using the <code>match!</code> syntax. For example, here
  is the "or" operator for tasks:</p>

<pre class="fssnip">
<span class="l">1: </span><span onmouseout="hideTip(event, 'jofs1', 1)" onmouseover="showTip(event, 'jofs1', 1)" class="i">future</span> {
<span class="l">2: </span>  <span class="k">match!</span> <span onmouseout="hideTip(event, 'jofs2', 2)" onmouseover="showTip(event, 'jofs2', 2)" class="i">after</span> <span class="n">100</span> <span class="k">true</span>, <span onmouseout="hideTip(event, 'jofs2', 3)" onmouseover="showTip(event, 'jofs2', 3)" class="i">after</span> <span class="n">1000</span> <span class="k">false</span> <span class="k">with</span>
<span class="l">3: </span>  | <span class="o">!</span><span class="k">true</span>, _ <span class="k">-&gt;</span> <span class="k">return</span> <span class="k">true</span>
<span class="l">4: </span>  | _, <span class="o">!</span><span class="k">true</span> <span class="k">-&gt;</span> <span class="k">return</span> <span class="k">true</span>
<span class="l">5: </span>  | <span class="o">!</span><span onmouseout="hideTip(event, 'jofs3', 4)" onmouseover="showTip(event, 'jofs3', 4)" class="i">a</span>, <span class="o">!</span><span onmouseout="hideTip(event, 'jofs4', 5)" onmouseover="showTip(event, 'jofs4', 5)" class="i">b</span> <span class="k">-&gt;</span> <span class="k">return</span> <span onmouseout="hideTip(event, 'jofs3', 6)" onmouseover="showTip(event, 'jofs3', 6)" class="i">a</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'jofs4', 7)" onmouseover="showTip(event, 'jofs4', 7)" class="i">b</span> }</pre>

<p>I'll write more about this example (and the implementation) in a later article. This article
  focuses on the compiler extension itself. I created a first implementation of the idea above during
  my <a href="http://tomasp.net/blog/internship-match-bang.aspx">internship with Don Syme at MSR Cambridge</a>,
  but then changed it quite a bit when writing the academic paper mentioned above. However, I never released
  the source code.
</p>
<p>Thanks to the <a href="http://blogs.msdn.com/b/dsyme/archive/2010/11/04/announcing-the-f-compiler-library-source-code-drop.aspx">open-source release of F#</a> it is now 
  quite easy to modify the F# compiler and make the modifications available, so I decided I should 
  finally release my F# extensions. I also recently <a href="http://tomasp.net/blog/idioms-in-linq.aspx">blogged</a>
  <a href="http://tomasp.net/blog/formlets-in-linq.aspx">about</a> encoding <em>idioms</em> (also called
  <em>applicative functors</em>) in C#. I was wondering how to do that in F# and so I also created a simple
  extension computations based on this abstraction. The support for <em>idioms</em> is just an experiment, but it could 
  be useful, for example, for programming with formlets. You'll find more about it at the end of the 
  article.
</p>
<p>You can find the <a href="https://github.com/tpetricek/FSharp.Extensions">source code on my GitHub</a> 
  (there is also a link compiled binaries at the end of the article).
  The source code is cloned from an F# Mono repository, which means that it should build on Linux and 
  MacOS too. </p>

<div class="tip" id="jofs1">val future : FutureBuilder<br /><br />Full name: JoinadsDemo.future<br /></div>
<div class="tip" id="jofs2">val after : int -&gt; &#39;a -&gt; Task&lt;&#39;a&gt;<br /><br />Full name: JoinadsDemo.after<br /></div>
<div class="tip" id="jofs3">val a : bool<br /><br />&#160;&#160;type: bool<br />&#160;&#160;implements: IComparable<br />&#160;&#160;implements: IConvertible<br />&#160;&#160;implements: IComparable&lt;bool&gt;<br />&#160;&#160;implements: IEquatable&lt;bool&gt;<br />&#160;&#160;inherits: ValueType<br /></div>
<div class="tip" id="jofs4">val b : bool<br /><br />&#160;&#160;type: bool<br />&#160;&#160;implements: IComparable<br />&#160;&#160;implements: IConvertible<br />&#160;&#160;implements: IComparable&lt;bool&gt;<br />&#160;&#160;implements: IEquatable&lt;bool&gt;<br />&#160;&#160;inherits: ValueType<br /></div>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Friday, 25 March 2011, 12:04 AM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/fsharp-variations-joinads.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/match-bang-paper.aspx/">Reactive, parallel and concurrent programming in F# (PADL 2011)</a></h1>
    
<p>Don Syme blogged about <a href="http://blogs.msdn.com/b/dsyme/archive/2010/10/21/the-f-asynchronous-programming-model-padl-2010-pre-publication-draft.aspx" type="extenal">
  a paper on the F# Asynchrounous Programming Model</a> that I helped to write. Without any doubt,
  the asynchronous programming features of F# are one of the reason for its success and also 
  influence other teams in Microsoft. However, I'm very glad that there is now also an academic
  paper that makes this idea accessible to the academic community. I believe that the ideas could
  evolve in interesting ways when used in other programming languages and also, it is now easier to 
  create research projects that build on top of the F# model.</p>

<p>Don already mentioned that we have another paper accepted at PADL. The paper describes work 
  that started during my internship at Microsoft Research in 2009. It presents a simple 
  language extension for <em>computation expressions</em> that makes them even more useful 
  in some reactive, concurrent and parallel programming models. Note that this is only a 
  research project and there are currently no plans to support the extension in the F# language
  (although, if there will, eventually, be an open-source F# release, then you'll hear about the 
  extension again...)</p>

<p>Here is the abstract of the paper (accepted at <a href="http://www.dcc.fc.up.pt/PADL-2011/">PADL 2011</a>) and a PDF download link:</p>

<h3 style="padding-left:60px;padding-right:60px;">Joinads: A retargetable control-flow construct for reactive, parallel and concurrent programming</h3>

<p style="padding-left:60px;padding-right:60px;font-style:italic;">
  Modern challenges led to a design of a wide range of programming models for reactive, parallel 
  and concurrent programming, but these are often difficult to encode in general purpose languages. 
  We present an abstract type of computations called joinads together with a syntactic language 
  extension that aims to make it easier to use joinads in modern functional languages. </p>
<p style="padding-left:60px;padding-right:60px;font-style:italic;">
  Our extension generalizes pattern matching to work on abstract computations. It keeps a familiar 
  syntax and semantics of pattern matching making it easy to reason about code, even in a 
  non-standard programming model. We demonstrate our extension using three important programming 
  models – a reactive model based on events; a concurrent model based on join calculus and a 
  parallel model using futures. All three models are implemented as libraries that benefit from 
  our syntactic extension. This makes them easier to use and also opens space for exploring new 
  useful programming models.</p>

<ul>
  <li>Download the <a href="http://tomasp.net/academic/joinads/joinads.pdf">full text</a> (PDF, pre-publication draft)</li>
</ul>

<p>The paper can still be revised before the final publication, so any comments and suggestions
  for improvement are largely welcome. You can contact me either via comments (below) or using 
  email at <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a>. I would be also quite interested
  to hear from anybody who would like to implement similar feature in other programming languages
  (for example Haskell or Scala).</p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Monday, 25 October 2010, 12:00 AM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/links/">links</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/match-bang-paper.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  
    <h1><a href="http://tomasp.net/blog/internship-match-bang.aspx/">Internship project: Reactive pattern matching</a></h1>
    
<a href="http://cid-6ddff5260c96e30a.skydrive.live.com/albums.aspx">
<img src="http://tomasp.net/articles/internship-match-bang/image.jpg" alt="Cambridge, 2009" class="ldecor" 
  style="border:0px;float:left; margin:20px" />
</a>

<p>I already <a href="http://tomasp.net/blog/book-source-available.aspx">mentioned</a> that I was doing my second internship
  with <a href="http://blogs.msdn.com/dsyme/" type="external">Don Syme</a> at Microsoft Research in Cambridge.
  This time, I was in Cambridge for 6 months from October until April, so it has been more than a month since 
  I left, but as you can guess I didn't have time to write anything about the internship until now... There isn't
  much to say though, because the internship was simply fantastic. Cambridge is a beautiful place (here are
  some <a href="http://cid-6ddff5260c96e30a.skydrive.live.com/browse.aspx/2008%20Autumn%20-%20Cambridge" type="external">autumn</a> and <a href="http://cid-6ddff5260c96e30a.skydrive.live.com/browse.aspx/2009%20Winter%20-%20Cambridge" type="external">winter</a> photos),
  the Microsoft Research lab in Cambridge is full of smart people, so it is a perferct working environment
  (except that you realize that you're not as clever as you think :-)). Also, it is just a few meters away from the
  <a href="http://www.cl.cam.ac.uk" type="external">Computer Laboratory</a> of the Cambridge University, so there are always many 
  interesting talks and seminars. So, big thanks to Don Syme, James Margetson and everyone else who I had a chance 
  to work with during the internship.</p>
  
<p>One of the reasons why I didn't have much time to write about the internship earlier is that I
  was invited to the <a href="http://www.langnetsymposium.com/" type="external">Lang.NET Symposium</a> shortly
  after the end of the internship. I had a chance to talk about my project there as well and there is
  even a video recording from the talk (the link is below), so you can watch it to find out more about my recent F# work.</p>

    <div class="info">
      <p class="details">
        <strong>Published</strong>: <span>Sunday, 17 May 2009, 11:00 PM</span>
        
          <br />
          <strong>Tags</strong>:
            <a
              href="/blog/tag/random-thoughts/">random thoughts</a>, <a
              href="/blog/tag/universe/">universe</a>, <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/joinads/">joinads</a>
        
        <br />
        <a href="http://tomasp.net/blog/internship-match-bang.aspx/">Read the complete article</a><br /><br />
      </p>
    </div>
  

  <h1>All blog posts by tag</h1>
  
  <a
    href="/blog/tag/fsharp/">f# (112)</a>, <a
    href="/blog/tag/functional/">functional (66)</a>, <a
    href="/blog/tag/research/">research (50)</a>, <a
    href="/blog/tag/csharp/">c# (37)</a>, <a
    href="/blog/tag/academic/">academic (28)</a>, <a
    href="/blog/tag/asynchronous/">asynchronous (27)</a>, <a
    href="/blog/tag/programming-languages/">programming languages (23)</a>, <a
    href="/blog/tag/parallel/">parallel (23)</a>, <a
    href="/blog/tag/functional-programming/">functional programming (20)</a>, <a
    href="/blog/tag/universe/">universe (20)</a>, <a
    href="/blog/tag/meta-programming/">meta-programming (18)</a>, <a
    href="/blog/tag/philosophy/">philosophy (16)</a>, <a
    href="/blog/tag/links/">links (15)</a>, <a
    href="/blog/tag/presentations/">presentations (14)</a>, <a
    href="/blog/tag/thegamma/">thegamma (12)</a>, <a
    href="/blog/tag/data-science/">data science (12)</a>, <a
    href="/blog/tag/writing/">writing (12)</a>, <a
    href="/blog/tag/joinads/">joinads (12)</a>, <a
    href="/blog/tag/web/">web (11)</a>, <a
    href="/blog/tag/talks/">talks (9)</a>, <a
    href="/blog/tag/data-journalism/">data journalism (9)</a>, <a
    href="/blog/tag/math-and-numerics/">math and numerics (9)</a>, <a
    href="/blog/tag/random-thoughts/">random thoughts (9)</a>, <a
    href="/blog/tag/phalanger/">phalanger (8)</a>, <a
    href="/blog/tag/haskell/">haskell (7)</a>, <a
    href="/blog/tag/mono/">mono (7)</a>, <a
    href="/blog/tag/webcast/">webcast (7)</a>, <a
    href="/blog/tag/design/">design (6)</a>, <a
    href="/blog/tag/architecture/">architecture (5)</a>, <a
    href="/blog/tag/fslab/">fslab (5)</a>, <a
    href="/blog/tag/open-source/">open source (5)</a>, <a
    href="/blog/tag/type-providers/">type providers (4)</a>, <a
    href="/blog/tag/visualization/">visualization (4)</a>, <a
    href="/blog/tag/fun/">fun (4)</a>, <a
    href="/blog/tag/accelerator/">accelerator (4)</a>, <a
    href="/blog/tag/linq/">linq (3)</a>, <a
    href="/blog/tag/fsharp-data/">f# data (3)</a>, <a
    href="/blog/tag/dotnet/">.net (3)</a>, <a
    href="/blog/tag/training/">training (2)</a>, <a
    href="/blog/tag/coeffects/">coeffects (2)</a>, <a
    href="/blog/tag/deedle/">deedle (2)</a>, <a
    href="/blog/tag/monads/">monads (2)</a>, <a
    href="/blog/tag/art/">art (2)</a>, <a
    href="/blog/tag/fractals/">fractals (2)</a>, <a
    href="/blog/tag/funscript/">funscript (2)</a>, <a
    href="/blog/tag/new-york/">new york (2)</a>, <a
    href="/blog/tag/manning/">manning (2)</a>, <a
    href="/blog/tag/books/">books (2)</a>
</article>


  <footer>
  <div class="footer-body">
    <div class="fl70"><div class="fmr">
      <h4><a href="http://tomasp.net/rss.xml"><i class="fa fa-rss" style="margin-right:5px;"></i></a> Blog archives</h4>
      <p>
      
      <a href="/blog/archive/february_2025/">February 2025 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2023/">December 2023 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2023/">February 2023 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2022/">September 2022 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2022/">April 2022 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2021/">October 2021 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2021/">April 2021 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2020/">October 2020 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2020/">July 2020 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2020/">April 2020 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2019/">December 2019 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2019/">February 2019 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2018/">November 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2018/">October 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2018/">May 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2017/">September 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2017/">June 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2017/">April 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2017/">March 2017 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2017/">January 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2016/">October 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2016/">September 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/august_2016/">August 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2016/">July 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2016/">May 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2016/">April 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2015/">December 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2015/">November 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2015/">September 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2015/">July 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2015/">June 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2015/">May 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2015/">April 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2015/">March 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2015/">February 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2015/">January 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2014/">December 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2014/">May 2014 (3)</a>,&nbsp;
      
      <a href="/blog/archive/april_2014/">April 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2014/">March 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2014/">January 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2013/">December 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2013/">November 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2013/">October 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2013/">September 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2013/">August 2013 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2013/">May 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2013/">April 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2013/">March 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2013/">February 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2013/">January 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2012/">December 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/october_2012/">October 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2012/">August 2012 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2012/">June 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2012/">April 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2012/">March 2012 (4)</a>,&nbsp;
      
      <a href="/blog/archive/february_2012/">February 2012 (5)</a>,&nbsp;
      
      <a href="/blog/archive/january_2012/">January 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2011/">November 2011 (5)</a>,&nbsp;
      
      <a href="/blog/archive/august_2011/">August 2011 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2011/">July 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/june_2011/">June 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2011/">May 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2011/">March 2011 (4)</a>,&nbsp;
      
      <a href="/blog/archive/december_2010/">December 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2010/">November 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2010/">October 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/september_2010/">September 2010 (4)</a>,&nbsp;
      
      <a href="/blog/archive/july_2010/">July 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2010/">June 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2010/">May 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2010/">February 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2010/">January 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/december_2009/">December 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2009/">July 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2009/">June 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2009/">May 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2009/">April 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2009/">March 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2009/">February 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2008/">December 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2008/">November 2008 (5)</a>,&nbsp;
      
      <a href="/blog/archive/october_2008/">October 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2008/">September 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2008/">June 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2008/">March 2008 (3)</a>,&nbsp;
      
      <a href="/blog/archive/february_2008/">February 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2007/">December 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2007/">November 2007 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2007/">October 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2007/">September 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2007/">August 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2007/">July 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2007/">April 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2007/">March 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2007/">February 2007 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2007/">January 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2006/">November 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2006/">October 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/august_2006/">August 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/july_2006/">July 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2006/">June 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2006/">May 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2006/">April 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2005/">December 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2005/">July 2005 (4)</a>,&nbsp;
      
      <a href="/blog/archive/june_2005/">June 2005 (5)</a>,&nbsp;
      
      <a href="/blog/archive/may_2005/">May 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2005/">April 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2005/">March 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2005/">January 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2004/">December 2004 (3)</a>,&nbsp;
      
      <a href="/blog/archive/november_2004/">November 2004 (2)</a>,&nbsp;
      
      </p>
    </div></div>
    <div class="fr30"><div class="fmr">
      <h4>License and about</h4>
      <p>All articles on this site are licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>.
        All source code samples are licensed under the MIT License.
      </p>
      <p>This site is hosted on GitHub and is generated using <a href="https://github.com/tpetricek/FSharp.Formatting">F# Formatting</a>
        and <a href="http://dotliquidmarkup.org/">DotLiquid</a>.
        For more info, see the <a href="https://github.com/tpetricek/tomasp.net">website source on GitHub</a>.
      </p>
      <p>Please submit issues &amp; corrections on GitHub. Use pull requests for minor corrections only.</p>
      <ul>
        <li><i class="fab fa-twitter"></i> Twitter: <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a></li>
        <li><i class="fab fa-github"></i> GitHub: <a href="https://github.com/tpetricek">@tpetricek</a></li>
        <li><i class="fa fa-envelope"></i> Email: <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a></li>
      </ul>
      <p style="text-align:center;margin-top:15px;"><img src="https://tomasp.net/img/cc-sa.png" alt="CC License logo" /></p>
    </div></div>
  </div>
  </footer>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1561220-1']);
    _gaq.push(['_trackPageview']);
    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>
</html>
