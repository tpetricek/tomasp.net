<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="Latest news from Tomas Petricek" href="/rss.xml" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">  
    
  <link href="/custom/style.css" rel="stylesheet">
  <link href="/custom/tooltips.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon-big.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/favicon-big.png">
  <meta name="msapplication-TileColor" content="#00202D">
  <meta name="msapplication-TileImage" content="/img/favicon-big.png">
  <meta name="theme-color" content="#00202D">  
  
  
  <title>Latest writings from my blog - Tomas Petricek</title>

  <meta name="description" content="Tomas Petricek's latest blog posts about programming languages and tools, working with data, philosophy of science and more." />
  <meta name="author" content="Tomas Petricek" />
  <meta name="copyright" content="Tomas Petricek" />
  
</head>
<body class="default">  
  <div class="not-footer">
  <div class="top-panel-wrapper">
  <div class="top-panel">
  <div id="tomas" class="visible-" itemscope itemtype="http://schema.org/Person"><header>
    <div class="container">
      <div class="col-md-8">
        
        <div class="row">
          <div class="col-xs-12 col-sm-8 col-md-12" style="padding:0px">
            <h2 itemprop="name">Tomas Petricek</h1>
            <h3 itemprop="description">Searching for new ways of thinking in programming &amp; working with data</h2>
            <div> 
              <img src="/img/tomas-sl-sq.jpg" class="hidden-lg hidden-md hidden-sm tomas-float" />
                <p>I believe that the most interesting work is not the one solving hard problems, but the one changing how
                  we think about the world. I follow this belief in my work on data science tools,
                  functional programming and F# teaching, in my programming languages research
                  and I try to understand it through philosophy of science.
                </p>
            </div>
          </div>
          <div class="hidden-lg hidden-md col-sm-4 hidden-xs">
            <img src="/img/tomas-sl-sq.jpg" class="tomas-square" />
            <p class="social">
              <a title="Follow my occasional rants" itemprop="sameAs" href="http://twitter.com/tomaspetricek"><i class="fa fa-twitter"></i></a>
              <a title="Send me a message" itemprop="sameAs" href="mailto:tomas@tomasp.net"><i class="fa fa-envelope"></i></a>
              <a title="Most of my open-source projects" itemprop="sameAs" href="http://github.com/tpetricek"><i class="fa fa-github-alt"></i></a>
              <a title="My F# answers on StackOverflow" itemprop="sameAs" href="http://stackoverflow.com/users/33518/tomas-petricek"><i class="fa fa-stack-overflow"></i></a>
              <a title="Read my papers!" itemprop="sameAs" href="http://dblp.uni-trier.de/pers/hd/p/Petricek:Tomas"><i class="fa fa-university"></i></a>
              <a title="Send me recruiter spam?" itemprop="sameAs" href="https://www.linkedin.com/in/tomaspetricek"><i class="fa fa-linkedin-square"></i></a>
            </p>
          </div>
        </div>
          
        <div class="row themes">
          <div class="col-sm-4">
            <h4><a href="http://thegamma.net"><i class="fa fa-area-chart"></i> The Gamma</a></h3>
            <p>I'm working on making data-driven storytelling easier, more open and reproducible
              at the <a href="https://turing.ac.uk/">Alan Turing Institute</a>.</p>              
          </div>
          <div class="col-sm-4">
            <h4><a href="http://fsharpworks.com"><i class="fa fa-industry"></i> Consulting</a></h3>
            <p>I'm author of definitive F# books and open-source libraries.
              I offer my F# training and consulting services as part of 
              <a href="http://fsharpworks.com">fsharpWorks</a>.</p>
          </div>
          <div class="col-sm-4">
            <h4><a href="/academic"><i class="fa fa-university"></i> Academic</a></h3>
            <p>I published papers about theory of context-aware programming languages, 
              type providers, but also philosophy of science.</p>
          </div>
        </div>
          
      </div>
      
      <div class="col-sm-4">
        <img itemprop="image" src="/img/tomas-sl-wide.jpg" class="hidden-sm hidden-xs tomas-wide" />
        <p class="social hidden-sm">
          <a title="Follow my occasional rants" itemprop="sameAs" href="http://twitter.com/tomaspetricek"><i class="fa fa-twitter"></i></a>
          <a title="Send me a message" itemprop="sameAs" href="mailto:tomas@tomasp.net"><i class="fa fa-envelope"></i></a>
          <a title="Most of my open-source projects" itemprop="sameAs" href="http://github.com/tpetricek"><i class="fa fa-github-alt"></i></a>
          <a title="My F# answers on StackOverflow" itemprop="sameAs" href="http://stackoverflow.com/users/33518/tomas-petricek"><i class="fa fa-stack-overflow"></i></a>
          <a title="Read my papers!" itemprop="sameAs" href="http://dblp.uni-trier.de/pers/hd/p/Petricek:Tomas"><i class="fa fa-university"></i></a>
          <a title="Send me recruiter spam?" itemprop="sameAs" href="https://www.linkedin.com/in/tomaspetricek"><i class="fa fa-linkedin-square"></i></a>
        </p>
      </div>
    </div>
  </header></div>
  
  <div class="nav-wrapper hidden-xs-home">
  <nav>
    <div class="container"><div class="col-sm-12">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand visible-xs hidden-home toggle-tomas" href="/">Tomas Petricek <i class="tomas-fa fa fa-caret-up"></i></a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right hidden-xs hidden-home">
          <li><a class="toggle-tomas" href="/">Tomas Petricek <i class="tomas-fa fa fa-caret-up"></i></a></li>
        </ul>
        <ul class="nav navbar-nav navbar-left">
          <li><a href="/">Home</a></li>
          <li><a href="http://fsharpworks.com"><span class="hidden-sm">F#</span> Trainings</a></li>
          <li><a href="http://fsharpworks.com/materials.html">Talks<span class="hidden-sm"> and books</span></a></li>
          <li><a href="http://thegamma.net/">The Gamma</a></li>
          <li><a href="/academic/" class="last-left">Academic</a></li>
        </ul>
      </div>
    </div></div>
  </nav></div>
  </div></div>
  
  
<article>
  <div class="container"><div class="row">
  <div class="col-lg-2 col-md-1"></div>
  <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8">
    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Upcoming F# events - learn Suave, FsLab &amp; more!" />
    <meta itemprop="image" content="http://tomasp.net/blog/2016/fsharp-events/map.png" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2016/fsharp-events/">Upcoming F# events - learn Suave, FsLab &amp; more!</a></h1>
      <div itemprop="description"><p>Some people in the F# community have reputation for traveling too much. I do not know how that is
possible, but as it happens, I will be visiting a couple of places in June and doing a number of
talks, workshops and courses. So, if you are thinking about getting into F#, web development with
F# using the <a href="http://suave.io">amazing Suave library</a>, playing with the new trendy F# to JavaScript
compiler <a href="http://fsprojects.github.io/Fable">called Fable</a>, or learning about the recent
features in <a href="https://twitter.com/fslaborg/status/728397249697488896">FsLab and Ionide</a>, then
continue reading!</p>
<img src="http://tomasp.net/blog/2016/fsharp-events/map.png" style="margin:0px 5% 20px 5%; width:90%" />
<p>The map includes all my travels, but not all of the pins are for F# events. I'm visiting Prague
just to see my family (even though there is a <a href="http://www.fsharping.cz">new awesome F# meetup there</a>)
and my stop in Paris is attending <a href="http://www.hapoc.org/hapop3">Symposium for the History and Philosophy of
Programming</a> (although we might still do something with the local F#
group too).</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Tuesday, 31 May 2016, 1:51 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>, <a
              href="/blog/tag/talks/">talks</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2016/fsharp-events/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Comparing date range handling in C# and F#" />
    <meta itemprop="image" content="http://tomasp.net/blog/2015/restricting-ranges/card.png" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2015/restricting-ranges/">Comparing date range handling in C# and F#</a></h1>
      <div itemprop="description"><p>I was recently working on some code for handling date ranges in
<a href="http://github.com/blueMountainCapital/Deedle">Deedle</a>. Although Deedle is written in F#,
I also wrote some internal integration code in C#. After doing that, I realized that the
code I wrote is actually reusable and should be a part of Deedle itself and so I went through
the process of rewriting a simple function from (fairly functional) C# to F#. This is a small
(and by no means representative!) example, but I think it nicely shows some of the reasons why
I like F#, so I thought I'd share it.</p>
<p>One thing that we are adding to Deedle is a "BigDeedle" implementation of internal data
structures. The idea is that you can load very big frames and series without actually loading
all data into memory.</p>
<p>When you perform slicing on a large series and then merge some of the parts of the series
(say, years 2010, 2012 and 2014), you end up with a series that combines a
couple of chunks. If you then restrict the series (say, from June 2012 to June 2014), you
need to restrict the ranges of the chunks:</p>
<img src="http://tomasp.net/blog/2015/restricting-ranges/drawing.png" alt="Demonstration" style="margin:15px; width:370px" />
<p>As the diagram shows, this is just a matter of iterating over the chunks, keeping those
in the range, dropping those outside of the range and restrictingthe boundaries of the other
chunks. So, let's start with the C# version I wrote.</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Wednesday, 22 April 2015, 4:55 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/deedle/">deedle</a>, <a
              href="/blog/tag/linq/">linq</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2015/restricting-ranges/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Pattern matching in action using C# 6" />
    <meta itemprop="image" content="http://tomasp.net/blog/2015/csharp-pattern-matching/hat.png" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2015/csharp-pattern-matching/">Pattern matching in action using C# 6</a></h1>
      <div itemprop="description"><img src="http://tomasp.net/blog/2015/csharp-pattern-matching/hat.png" style="float:right;margin:20px" />
<p>On year ago, on this very day, <a href="http://tomasp.net/blog/2014/csharp-6-released/index.html">I wrote about the open-sourcing of C#
6.0</a>. Thanks to a very special
information leak, I learned about this about a week before Microsoft officially announced
it. However, my information were slightly incorrect - rather then releasing the <a href="https://github.com/Microsoft/visualfsharp/">much
improved version of the language</a>, Microsoft
continued working on language version internally called "Small C#", which is now available
as "C# 6" in the <a href="https://www.visualstudio.com/en-us/news/vs2015-vs.aspx">Visual Studio 2015 preview</a>.</p>
<p>It is my understanding that, with this release, Microsoft is secretly testing the reaction of the
developer audience to some of the amazing features that F# developers loved and used for
the last 7 years and that are coming to C# <em>very soon</em>. To avoid shock, these are however
carefuly hidden!</p>
<p>In this blog post, I'm going to show you <em>pattern matching</em> which is probably the most useful
hidden C# feature and its improvements in C# 6. For reasons that elude me, pattern matching in
C# 6 is called <em>exception filters</em> and has some unfortunate restrictions. But we can still
use it to write nice functional code!</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Wednesday, 1 April 2015, 11:41 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fun/">fun</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2015/csharp-pattern-matching/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Upcoming F# book and event deals" />
    <meta itemprop="image" content="http://tomasp.net/blog/2015/books-trainings/snip.png" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2015/books-trainings/">Upcoming F# book and event deals</a></h1>
      <div itemprop="description"><a href="http://www.functional-programming.net">
<img src="http://tomasp.net/blog/2015/books-trainings/snip.png" style="width:150px;float:right;margin:0px 0px 15px 15px" />
</a>
<p>Since I <a href="https://twitter.com/tomaspetricek/status/544531884030840832">submitted my PhD thesis in December</a>,
I had a little bit of time to finish some of the things that I wanted to do for a really long time, but
never quite found time to actually do them. This included <a href="http://bluemountaincapital.github.io/FSharpRProvider/mac-and-linux.html">getting the R provider to work on
Mac</a> and also creating a new
web site for my various functional programming trainings and books. I even have a nice domain name:</p>
<ul>
<li><strong><a href="http://www.functional-programming.net">www.functional-programming.net</a></strong></li>
</ul>
<p>The page also discusses a couple of business reasons for looking into functional programming. So, if you're
a business person wondering why you should send your developers on an F# course, the site has the answers
for you too! (Or if you are developer and need a page for your boss.) The other place to check out is the
official <a href="http://www.fsharp.org">F# Software Foundation web page</a> is another great resource and the
<a href="http://fsharp.org/testimonials/">testimonials hosted there</a>.</p>
<p>The page has some information about the <a href="http://functional-programming.net/#trainings">various trainings we're offering at fsharpWorks</a>
and about the two F# books I co-authored (<a href="http://functional-programming.net/rwfp/">Real-World Functional Programming</a> and
brand new <a href="http://functional-programming.net/deepdives/">F# Deep Dives</a>).
I'm happy that we can offer some special deals on both the books and the F# FastTrack course in London,
so if you're considering getting into F#, now is a good time!</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Friday, 27 March 2015, 11:16 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>, <a
              href="/blog/tag/talks/">talks</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2015/books-trainings/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Why you should learn F# in 2015 (and how)?" />
    <meta itemprop="image" content="http://tomasp.net/blog/2015/why-fsharp-in-2015/gingerbread.jpg" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2015/why-fsharp-in-2015/">Why you should learn F# in 2015 (and how)?</a></h1>
      <div itemprop="description"><img src="http://tomasp.net/blog/2015/why-fsharp-in-2015/gingerbread.jpg" style="width:200px;float:right;margin:15px" />
<p>I guess that it might be a bit too late for adding to your list of new year's resulution now.
But just if you still have an empty slot (or in case an originally taken slot has become
available), your new year's resolution should be to get involved with F#!</p>
<p>Obviously, the goal of this blog post is to sell you some of my F# trainings and other materials -
including the online course on <a href="http://fsharpworks.com/workshops/finance.html">F# in Finance</a> and our
<a href="http://fsharpworks.com/workshops/fast-track.html">FastTrack to F#</a> course in London and New York
and also the <a href="http://manning.com/petricek2">F# Deep Dives</a> book. But to conceal this fact, I'm
going to fill most of the blog post with useful information about F#, the F# Software Foundation
and the F# community (but if you really just want to read about my courses, scroll down to the
<a href="http://tomasp.net/blog/2015/why-fsharp-in-2015/index.html#courses">second section</a>).</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Wednesday, 7 January 2015, 1:36 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>, <a
              href="/blog/tag/talks/">talks</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2015/why-fsharp-in-2015/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Welcome fsharpWorks &amp; upcoming F# events" />
    <meta itemprop="image" content="http://tomasp.net/blog/2014/fsharpworks-events/logo-sm.png" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2014/fsharpworks-events/">Welcome fsharpWorks &amp; upcoming F# events</a></h1>
      <div itemprop="description"><img src="http://tomasp.net/blog/2014/fsharpworks-events/logo-sm.png" style="width:150px;float:right;margin-left:5px" />
<p>If you are following me or the <a href="https://twitter.com/hashtag/fsharp">#fsharp</a> hashtag on Twitter,
you might have already come across a link to <a href="http://fsharpworks.com/">fsharpWorks</a> or one of the
upcoming F# events organized by fsharpWorks. So, what is fsharpWorks and what are we planning
for you?</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Tuesday, 20 May 2014, 1:47 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>, <a
              href="/blog/tag/talks/">talks</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2014/fsharpworks-events/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="BREAKING: Open-source C# 6.0 released" />
    <meta itemprop="image" content="http://tomasp.net/blog/2014/csharp-6-released/csharp.jpg" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2014/csharp-6-released/">BREAKING: Open-source C# 6.0 released</a></h1>
      <div itemprop="description"><img src="http://tomasp.net/blog/2014/csharp-6-released/csharp.jpg" style="width:170px;float:right;margin:15px" />
<p>At last, the long wait is finally over! After 4 years of waiting, the fully managed implementation
of the C# compiler <a href="http://en.wikipedia.org/wiki/Microsoft_Roslyn">codenamed "Roslyn"</a> has been finally released. In the recent months,
"Roslyn" has been slowly turning into <a href="http://en.wikipedia.org/wiki/Vaporware">vaporware</a>, but thanks to the recent breakthrough,
the team made an enormous progress over the last two months and even implemented a number of new
C# 6.0 features.</p>
<p>The C# 6.0 compiler, together with <a href="http://fsharppowerpack.codeplex.com/SourceControl/latest#compiler/3.1/Nov2013/src/">the full source code</a> has been released today!</p>
<blockquote>
<p><strong>UPDATE:</strong> In case you are reading this article later than on the day when it was
published, let me just point out that this was released on 1 April 2014. Just to
avoid any disappointments. Have fun ;-).</p>
</blockquote>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Tuesday, 1 April 2014, 2:24 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fun/">fun</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2014/csharp-6-released/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="How many tuple types are there in C#?" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/2013/tuples-in-csharp/">How many tuple types are there in C#?</a></h1>
      <div itemprop="description"><p>In a <a href="http://stackoverflow.com/questions/18718232/when-should-i-write-my-functions-in-curried-form/18721711">recent StackOverflow question</a>
the poster asked about the difference between <em>tupled</em> and <em>curried</em> form of a function in F#.
In F#, you can use pattern matching to easily define a function that takes a tuple as an argument.
For example, the poster's function was a simple calculation that multiplies the number
of units sold <em>n</em> by the price <em>p</em>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="f">salesTuple</span> (<span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">price</span>, <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">count</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="i">price</span> <span class="o">*</span> (<span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="f">float</span> <span onmouseout="hideTip(event, 'fs3', 6)" onmouseover="showTip(event, 'fs3', 6)" class="i">count</span>)
</code></pre></td>
</tr>
</table>
<p>The function takes a single argument of type <code>Tuple&lt;float, int&gt;</code> (or, using the nicer F# notation
<code>float * int</code>) and immediately decomposes it into two variables, <code>price</code> and <code>count</code>. The other
alternative is to write a function in the <em>curried</em> form:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="f">salesCurried</span> <span onmouseout="hideTip(event, 'fs2', 8)" onmouseover="showTip(event, 'fs2', 8)" class="i">price</span> <span onmouseout="hideTip(event, 'fs3', 9)" onmouseover="showTip(event, 'fs3', 9)" class="i">count</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 10)" onmouseover="showTip(event, 'fs2', 10)" class="i">price</span> <span class="o">*</span> (<span onmouseout="hideTip(event, 'fs4', 11)" onmouseover="showTip(event, 'fs4', 11)" class="f">float</span> <span onmouseout="hideTip(event, 'fs3', 12)" onmouseover="showTip(event, 'fs3', 12)" class="i">count</span>)
</code></pre></td>
</tr>
</table>
<p>Here, we get a function of type <code>float -&gt; int -&gt; float</code>. Usually, you can read this just as a
function that takes <code>float</code> and <code>int</code> and returns <code>float</code>. However, you can also use <em>partial
function application</em> and call the function with just a single argument - if the price of
an apple is $1.20, we can write <code>salesCurried 1.20</code> to get a <em>new</em> function that takes just
<code>int</code> and gives us the price of specified number of apples. The poster's question was:</p>
<blockquote>
<p>So when I want to implement a function that would have taken <em>n &gt; 1</em> arguments,
should I for example always use a curried function in F# (...)? Or should I take
the simple route and use regular function with an n-tuple and curry later on
if necessary?</p>
</blockquote>
<p>You can see <a href="http://stackoverflow.com/questions/18718232/when-should-i-write-my-functions-in-curried-form/18721711#18721711">my answer on StackOverflow</a>.
The point of this short introduction was that the question inspired me to think about how
the world looks from the C# perspective...</p>


<div class="tip" id="fs1">val salesTuple : price:float * count:int -&gt; float<br /><br />Full name: Tuples-in-csharp.salesTuple</div>
<div class="tip" id="fs2">val price : float</div>
<div class="tip" id="fs3">val count : int</div>
<div class="tip" id="fs4">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = System.Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs5">val salesCurried : price:float -&gt; count:int -&gt; float<br /><br />Full name: Tuples-in-csharp.salesCurried</div>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Tuesday, 17 September 2013, 2:11 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/functional-programming/">functional programming</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/2013/tuples-in-csharp/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Async in C# and F#: Asynchronous gotchas in C#" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/csharp-async-gotchas.aspx/">Async in C# and F#: Asynchronous gotchas in C#</a></h1>
      <div itemprop="description"><p>Back in February, I attended the annual MVP summit - an <a href="http://www.2013mvpsummit.com/about">event organized by Microsoft
for MVPs</a>. I used that opportunity to also visit
Boston and New York and do two F# talks and to record a <a href="http://channel9.msdn.com/posts/Tomas-Petricek-How-F-Learned-to-Stop-Worrying-and-Love-the-Data" title="Tomas Petricek (Channel 9): How F# Learned to Stop Worrying and Love the Data">Channel9 lecutre about type
providers</a>.
Despite all the <em>other activities</em> (often involving pubs, other F# people and long
sleeping in the mornings), I also managed to come to some talks!</p>
<div style="margin-left:auto;margin-right:auto;width:379px;margin-top:10px;margin-bottom:20px;">
<img src="http://tomasp.net/articles/csharp-async-gotchas/async-clinic.png" style="width:379px;" />
</div>
<p>One (non-NDA) talk was the <a href="http://blogs.msdn.com/b/pfxteam/archive/2013/02/20/mvp-summit-presentation-on-async.aspx" title="Lucian Wischik, Stephen Toub: Async Clinic">Async Clinic</a> talk about the new <code>async</code> and <code>await</code> keywords
in C# 5.0. Lucian and Stephen talked about common problems that C# developers face when
writing asynchronous programs. In this blog post, I'll look at some of the problems from
the F# perspective. The talk was quite lively, and someone recorded the reaction of the
F# part of the audience as follows...</p>


</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Monday, 15 April 2013, 4:00 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/async/">async</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/csharp-async-gotchas.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="The theory behind covariance and contravariance in C# 4" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/variance-explained.aspx/">The theory behind covariance and contravariance in C# 4</a></h1>
      <div itemprop="description">
<img src="http://tomasp.net/articles/variance-explained/icon.png" title="Category theory is sometimes called 'general abstract nonsense', but it can actually be useful!" class="rdecor" />

<p>In C# 4.0, we can annotate generic type parameters with <code>out</code> and <code>in</code> annotations to 
specify whether they should behave <em>covariantly</em> or <em>contravariantly</em>. This is mainly
useful when using already defined standard interfaces. Covariance means that you can use
<code>IEnumerable&lt;string&gt;</code> in place where <code>IEnumerable&lt;object&gt;</code> is expected. Contravariance
allows you to pass <code>IComparable&lt;object&gt;</code> as an argument of a method taking <code>IComparable&lt;string&gt;</code>.</p>

<p>So far, so good. If you already learned about covariance and contravariance in C# 4, then 
the above two examples are probably familiar. If you're new to the concepts, then 
the examples should make sense (after a bit of thinking, but I'll say more about them). 
However, there is still a number of questions. Is there some easy way to explain the 
two concepts? Why one option makes sense for some types and the other for different types? 
And why the hell is it called <em>covariance</em> and <em>contravariance</em> anyway?</p>

<p>In this blog post, I'll explain some of the mathematics that you can use to think 
about covariance and contravariance.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Tuesday, 19 June 2012, 2:24 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/research/">research</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/variance-explained.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="F# Math (IV.) - Writing generic numeric code" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/fsharp-generic-numeric.aspx/">F# Math (IV.) - Writing generic numeric code</a></h1>
      <div itemprop="description">
<p>Generic numeric code is some calculation that can be used for working with multiple different numeric 
  types including types such as <code>int</code>, <code>decimal</code> and <code>float</code> or even our own 
  numeric types (such as the type for <a href="http://tomasp.net/blog/fsharp-custom-numeric.aspx">clock arithmetic 
  from the previous article of the series</a>). Generic numeric code differs from ordinary generic F# code such 
  as the <code>'a list</code> type or <code>List.map</code> function, because <em>numeric code</em> uses numeric operators 
  such as <code>+</code> or <code>&gt;=</code> that are defined differently for each numeric type.</p>

<p>When writing simple generic code that has some type parameter <code>'T</code>, we donâ€™t know anything about 
  the type parameter and there is no way to restrict it to a numeric type that provides all the operators that 
  we may need to use in our code. This is a limitation of the .NET runtime and F# provides two ways for 
  overcoming it.</p>

<ul class="spaces">
  <li><strong>Static member constraints</strong> can be used to write generic code where the actual 
    numeric operations are resolved at compile-time (and a generic function is specialized for all required
    numeric types). This approach makes resulting code very efficient and is generally very easy to use
    when writing a function such as <code>List.sum</code>.</li>

  <li><strong>Global numeric associations</strong> (available in F# PowerPack) give us a way to obtain 
    an interface implementing required numeric operations dynamically at runtime. This approach has some 
    runtime overhead, but can be used for complex numeric types (such as <code>Matrix&lt;'T&gt;</code>).</li>

  <li><strong>Combination of both</strong> techniques can be used to implement complex numeric type
    that is generic over the contained numeric values and has only a minimal runtime overhead.</li>
</ul>

<p>Static member constraints are a unique feature of F# that is not available in other .NET
  languages, so if you're interested in writing numeric code for .NET,
  this may be a good reason for choosing F#. In C# or Visual Basic, you would be limited to the 
  second option (which can be implemented in C#). In dynamic languages (like IronPython), everything
  is dynamic, so numeric computations can work with any numeric type, but will be significantly
  less efficient. In the rest of the article, we look at the three options summarized above.
</p>


<p style="font-style:italic;">This article is a part of a series that covers some F# and F# PowerPack features for 
  numerical computing. Other articles in this series discuss matrices, defining custom
  numeric types and writing generic code. For links to other parts, see 
  <a href="http://tomasp.net/blog/powerpack-introduction.aspx">F# Math - Overview of F# PowerPack</a>.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Sunday, 27 November 2011, 5:19 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/math-and-numerics/">math and numerics</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/fsharp-generic-numeric.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="F# Math (I.) - Numeric types in PowerPack" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/powerpack-numeric.aspx/">F# Math (I.) - Numeric types in PowerPack</a></h1>
      <div itemprop="description">
<p>In this article, we'll briefly look at two numeric types that are available in F# PowerPack. 
  The type <code>complex</code> represents complex numbers consisting of real and imaginary parts. 
  Both parts are stored as a floating point numbers. The type <code>BigRational</code> represents 
  rational numbers consisting of numerator and denominator of arbitrary sizes. Integers of arbitrary
  size are represented using <code>BigInteger</code> type that is available in .NET 4.0 
  (in the <code>System.Numerics.dll</code> assembly). On .NET 2.0, the <code>BigInteger</code>
  type is also a part of F# PowerPack.</p>

<p style="font-style:italic;">This article is a part of a series that covers some F# and F# PowerPack features for 
  numerical computing. Other articles in this series discuss matrices, defining custom
  numeric types and writing generic code. For links to other parts, see 
  <a href="http://tomasp.net/blog/powerpack-introduction.aspx">F# Math - Overview of F# PowerPack</a>.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Wednesday, 2 November 2011, 2:34 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/math-and-numerics/">math and numerics</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/powerpack-numeric.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Real-World F# Articles on MSDN" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/real-world-book-msdn.aspx/">Real-World F# Articles on MSDN</a></h1>
      <div itemprop="description">
<img src="http://tomasp.net/articles/real-world-book-msdn/msdn.jpg" style="float:right;margin:0px 15px 15px 15px;" />
<p>More than a year ago, Mike Stephens from <a href="http://manning.com">Manning</a> (who
 was also behind my <a href="http://manning.com/petricek">Real-World Functional Programming</a>
 book) asked me if I'd be interested in collaborating on a project for MSDN. The idea 
 was to collaborate with Microsoft on creating some additional content for the official
 <a href="http://msdn.microsoft.com/library/dd233154(VS.100).aspx">F# Documentation</a>.</p>

<p>A few days ago, the new content appeared on MSDN, so I finally have an excuse for the
  recent lack of blogging! Although the content contains a large number of new articles
  that are not based on my book, you can find it in the MSDN section named after my
  book, right under <em>Visual F#</em>. If you can't wait to check it out, here are all the links:</p>

<ul>
  <li>The <a href="http://msdn.microsoft.com/en-us/library/hh314518.aspx">Real-World Functional Programming</a> section on MSDN.</li>
  <li>The <a href="http://code.msdn.microsoft.com/site/search?query=tomas%20petricek&amp;f%5B0%5D.Value=tomas%20petricek&amp;f%5B0%5D.Type=SearchText&amp;ac=8">source code for individual chapters</a> is available on MSDN Code Gallery.</li>
  <li>I also published <a href="http://functional-programming.net/msdn/">annotated TOC with source code links</a> on my functional programming web site.</li>
</ul>

<p>While working on the articles, I also wrote about a few topics that we didn't use in the final version. You'll see them on my blog in the next few days, as soon as I edit them into a blog post form. <a href="http://tomasp.net/blog/real-world-book-msdn.aspx">Continue reading</a> for more information about individual chapters.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Wednesday, 10 August 2011, 4:38 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/web/">web</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/links/">links</a>, <a
              href="/blog/tag/fsharp/">f#</a>, <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/real-world-book-msdn.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Accessing loosely structured data from F# and C# (GOTO 2011)" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/goto-loosely-structured-data.aspx/">Accessing loosely structured data from F# and C# (GOTO 2011)</a></h1>
      <div itemprop="description">
<img src="http://tomasp.net/articles/fsharp-loosely-typed/goto.png" style="float:right;margin:0px 0px 15px 15px;" />

<p>About two weeks ago, I gave a talk at <a href="http://gotocon.com/cph-2011/">GOTO Conference</a> in
  Copenhagen at a very interesting .NET session organized by <a href="http://blog.ploeh.dk /">Mark Seemann</a>.
  In my talk, I focused on the impedance mismatch between the data structures that are used
  in programming languages (such as classes in C# or records and discriminated unions in F#)
  and the data structures that we need to access (such as database, XML files and REST services).
   </p>

<p>Clearly, both of the sides have <em>some structure</em> (otherwise, it wouldn't be possible
  to write any code against them!). Even an XML file that is returned by a REST service has some
  structure - although the only way to find out about the structure may be to call the service
  and then look at the result. In this article, I'll briefly summarize the ideas that I 
  presented in the talk. Here are links to the slides as well as the source code from the 
  talk: </p>

<ul>
  <li>You can browse the slides <a href="http://slidesha.re/llTgVk">at SlideShare</a> or you
    can download them from GitHub in the <a href="https://github.com/tpetricek/Documents/raw/master/Talks%202011/Data%20Access%20(GOTO%20Copenhagen)/data.ppt">PPT format</a>.</li>
  <li>The source code is in my <a href="https://github.com/tpetricek/Documents/tree/master/Talks%202011/Data%20Access%20(GOTO%20Copenhagen)">GitHub repository</a>
    and can be downloaded as a single <a href="https://github.com/tpetricek/Documents/raw/master/Talks%202011/Data%20Access%20(GOTO%20Copenhagen)/demos.zip">ZIP file</a>.  
  </li>
</ul>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Thursday, 26 May 2011, 10:51 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/presentations/">presentations</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/goto-loosely-structured-data.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Beyond the Monad fashion (II.): Creating web forms with LINQ" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/formlets-in-linq.aspx/">Beyond the Monad fashion (II.): Creating web forms with LINQ</a></h1>
      <div itemprop="description">
<img src="http://tomasp.net/articles/formlets-in-linq/screen.png" style="margin:15px;float:right;" />
<p>The LINQ query syntax can be used for various things. Aside from writing queries, you can 
  also use it to encode any <em>monads</em>. This has become a fashionable topic, so you can learn
  more about it at many .NET conferences (for example <a href="http://gotocon.com/cph-2011/tracks/show_track.jsp?trackOID=434">GOTO 2011</a>).
  There are also many blog posts on this topic and I explained it in details in Chapter 12 of <a href="http://manning.com/petricek">my book</a>, which
  is available as a <a href="http://manning.com/petricek/SampleChapter12.pdf">free sample chapter</a> (PDF).</p>

<p>However, you can also use LINQ syntax for writing different types of computations. In a 
  <a href="http://tomasp.net/blog/idioms-in-linq.aspx">previous blog post</a>, I introduced <em>idioms</em>
  (also called <em>applicative functors</em>) and I demonstrated how to use the <code>join</code> syntax in LINQ
  to write computations based on idioms. We looked at a slightly boring, but simple example - zipping of lists - and
  we also implemented matrix transposition.</p>
 
<p>In this blog post, we look at a more exciting example. I explain <em>formlets</em>, which is an <em>idiom</em>
  for building web forms. Formlets give us an elegant functional way to create reusable components that encapsulate
  both visual aspect (HTML) and behavior (processing of requests). You can think of them as functional ASP.NET controls.
  Formlets come from the <a href="http://groups.inf.ed.ac.uk/links/formlets/">Links project</a> and they are now used in commercial products like
  <a href="http://www.websharper.com/tutorials/GettingStartedWithFormlets.aspx">WebSharper</a>. In this article, you'll see that we can (mis)use LINQ to get a nicer syntax
  for writing code using formlets. My C# implementation of formlets is based on a nice <a href="http://bugsquash.blogspot.com/2011/01/simple-implementation-of-formlets-in-f.html">F# formlets by Mauricio
  Scheffer</a>.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Monday, 14 March 2011, 5:14 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/research/">research</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/formlets-in-linq.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Beyond the Monad fashion (I.): Writing idioms in LINQ" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/idioms-in-linq.aspx/">Beyond the Monad fashion (I.): Writing idioms in LINQ</a></h1>
      <div itemprop="description">
<p>Thanks to LINQ and Erik Meier, monads have become a fashionable topic in the C# developer community.
  Indeed, no serious developer conference on .NET can get away without having a talk on monads. The attractive
  thing about LINQ and monads is that the <code>SelectMany</code> operator roughly corresponds to the <em>bind</em>
  function that defines a monad. In practice, LINQ is used for working with collections of data (<code>IEnumerable&lt;T&gt;</code>),
  but you can also define <em>bind</em> (i.e. <code>SelectMany</code>) for some other data types and use the LINQ syntax
  for working with other types. You won't be really using the full LINQ syntax. You'll probably use just nested
  <code>from</code> clauses (for <em>binding</em>) and <code>select</code> at the end to return the result.</p>

<p>However, monads are not the only notion of computation that we can work with. More interestingly, they are also 
  not the only notion of computation that you can encode using LINQ! In this article, I'll briefly introduce 
  <em>idioms</em> (also called <em>applicative functors</em>), which is another useful abstract type of computations.
  Idioms can be used for a few things that cannot be done using monads.</p>

<p>A provocative summary of this article is: <span style="font-variant:small-caps">"Everyone who tells you that LINQ is a monad is wrong!"</span></p>

<p>The truth is
that LINQ syntax can be used for encoding <em>queries</em> (obviously), <em>monads</em> (as you were told), but also for <em>idioms</em> as you'll learn today (and quite possibly for other types of computations). In this article, we look at a basic example, but I'll describe a more complex real-world scenario in the next blog post.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Thursday, 10 March 2011, 1:26 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/research/">research</a>, <a
              href="/blog/tag/functional/">functional</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/idioms-in-linq.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Asynchronous C# and F# (III.): How does it work?" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/async-compilation-internals.aspx/">Asynchronous C# and F# (III.): How does it work?</a></h1>
      <div itemprop="description">
<p>Some time ago, I started writing a series about the differences between the asynchronous model in F# 
  (in Visual Studio 2010) and the asynchronous language extensions for C# proposed at PDC 2010.
  In the <a href="http://tomasp.net/blog/csharp-fsharp-async-intro.aspx">first article</a>, I showed
  how both of the language features look and I highlighted a couple of differences. In the
  <a href="http://tomasp.net/blog/async-csharp-differences.aspx">second article</a>, I discussed
  the support for cancellation (available only in F#) and how the two models differ 
  <em>semantically</em> (i.e. what are differences in the behaviour). However, I didn't talk about more
  techincal differences and, in particular, how is the asynchronous code compiled. We'll look 
  at this topic today...</p>

<p>Although the C# asynchronous programming model is very similar to F# asynchronous workflows,
  the compilation looks quite different. The C# compiler uses a similar technique as when compiling
  iterators and creates a state machine, while the F# compiler uses an approach based on higher order
  functions (combinators) that's shared with (most) other computation expressions.</p>

<p>I won't discuss the syntax of F# asynchronous workflows or the C# asynchronous extensions in 
  this article, so if you're new to one of these, here are links to other articles in this 
  series: </p>
<ul>
  <li><a href="http://tomasp.net/blog/csharp-fsharp-async-intro.aspx">Asynchronous C# and F# (I.): Simultaneous introduction</a></li>
  <li><a href="http://tomasp.net/blog/async-csharp-differences.aspx">Asynchronous C# and F# (II.): How do they differ?</a></li>
  <li><strong>Asynchronous C# and F# (III.): How does it work?</strong></li>
  <li>Asynchronous C# and F# (IV.): Calling F# libraries from C# <em>(not yet available)</em></li>
</ul>  

<p>Let's start by looking at the mechanism used in the C# compiler. If you already know how
  iterators work in C# 2.0, then you'll find it quite easy to understand. If you're not familiar
  with iterators, then don't worry - I'll make the explanation self-contained.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Sunday, 21 November 2010, 3:15 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/async-compilation-internals.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Asynchronous C# and F# (II.): How do they differ?" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/async-csharp-differences.aspx/">Asynchronous C# and F# (II.): How do they differ?</a></h1>
      <div itemprop="description">
<p>Anders Hejlsberg announced the support for asynchronous programming in the next version of C# announced at PDC 2010.
  The extension looks very similar to F# asynchronous workflows (which are already available in Visual Studio 2010). 
  Despite the large similarity, there are a couple of differences between the two programming models. I already mentioned 
  some of them briefly in <a href="http://tomasp.net/blog/csharp-fsharp-async-intro.aspx">the first article of this series</a>.
  In this article, we'll look at some of the technical differences between the two models.</p>

<p>The most notable non-technical difference is that F# asynchronous workflows are already available in a 
  supported version of Visual Studio and can be used on a large number of .NET runtimes (including, for example,
  Windows Phone and Silverlight). However, there are surprisingly many technical differences as well.
  In this article, I'll talk about the support for cancellation, which is available in F# and is not
  (currently) available in the C# preview. We'll also look at the difference between model where tasks
  are created as running and the delayed model.</p>

<p>This article is the second part of a short series about the asynchronous programming support
  in C# and F#. The previous article shows a simple example in both of the languages and the next
  articles explain how does the feature work (and how you can customize its behavior) as well as 
  how to call F# libraries from C#:</p>
<ul>
  <li><a href="http://tomasp.net/blog/csharp-fsharp-async-intro.aspx">Asynchronous C# and F# (I.): Simultaneous introduction</a></li>
  <li><strong>Asynchronous C# and F# (II.): How do they differ?</strong></li>
  <li><a href="http://tomasp.net/blog/async-compilation-internals.aspx">Asynchronous C# and F# (III.): How does it work?</a></li>
  <li>Asynchronous C# and F# (IV.): Calling F# libraries from C# <em>(not yet available)</em></li>
</ul>  
<p>Let's start by looking at, perhaps, the most important technical difference - the 
  built-in support for cancellation available in F# asynchronous workflows.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Monday, 1 November 2010, 4:36 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/async-csharp-differences.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Asynchronous C# and F# (I.): Simultaneous introduction" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/csharp-fsharp-async-intro.aspx/">Asynchronous C# and F# (I.): Simultaneous introduction</a></h1>
      <div itemprop="description">
<img src="http://tomasp.net/articles/csharp-fsharp-async-intro/pdc2010.png" style="float:right;margin:5px;margin-left:20px;" />
<p>One of the exciting new technologies that was announced at <a href="http://www.microsoftpdc.com/">PDC 2010</a>
  is the support for <em>asynchronous programming</em> in C#. So what exactly is <em>asynchronous programming</em>?
  Many applications today need to connect to some service or external data source including, for example, 
  Web Services and REST APIs. These calls may take a long time to run, but we want to run them without
  blocking the application.</p>

<p>Currently, you can run the operation on a background thread or using a <code>Task</code>, but
  coordinating multiple such operations is difficult. What if you for example need to wait until
  any (or all) of downloads complete and run some more code then? This is not only difficult, but
  it also scales badly, because blocking .NET threads is a bad practice (Threads are expensive and when
  they're just waiting for other operation to complete, we're wasting valuable resources).
  This problem has been the main motivation for including <em>asynchronous workflows</em> in F#
  about 3 years ago. In F#, this also enabled various interesting programming styles - for example
  <a href="http://dotnetslackers.com/articles/net/Programming-user-interfaces-using-f-sharp-workflows.aspx" type="external">creating 
  GUI using asynchronous workflows</a> (also discussed in Chapter 16 of <a href="http://manning.com/petricek">my book</a> and in 
  in <a href="http://tomasp.net/blog/reactive-talk.aspx">my recent talk</a>). The C# asynchronous 
  programming support and the <code>await</code> keyword is largely inspired by
  F# <em>asynchronous workflows</em> (I was quite surprised that F# wasn't more visibly 
  mentioned in the PDC talk).
</p>

<p>In this article series, I'll demonstrate both F# and C# asynchronous programming model,
  I'll look at features that are missing in one or the other as well as a few subtle differences
  (that may be unexpected) and finally, I'll write about writing (asynchronous) F# libraries 
  that are easy to use from C#. The plan for the series is following:</p>
<ul>
  <li><strong>Asynchronous C# and F# (I.): Simultaneous introduction</strong></li>
  <li><a href="http://tomasp.net/blog/async-csharp-differences.aspx">Asynchronous C# and F# (II.): How do they differ?</a></li>
  <li><a href="http://tomasp.net/blog/async-compilation-internals.aspx">Asynchronous C# and F# (III.): How does it work?</a></li>  <li>Asynchronous C# and F# (IV.): Calling F# libraries from C# <em>(not yet available)</em></li>
</ul>  
<p>Let's start with a brief overview of asynchronous programming features in C# and F#...</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Friday, 29 October 2010, 4:34 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/csharp-fsharp-async-intro.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Using custom grouping operators in LINQ" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/custom-linq-grouping.aspx/">Using custom grouping operators in LINQ</a></h1>
      <div itemprop="description">
<p>You can use LINQ to write queries that perform grouping of data using <code>group by</code>
  or ordering of data using <code>orderby</code> clause. LINQ provides the default
  (and the most common) implementation of both of the operations, but sometimes you 
  may need a slightly different behavior when grouping or ordering data (this article
  is motivated by a <a href="http://stackoverflow.com/questions/2194761/can-i-use-linq-to-retrieve-only-on-change-values" type="external">question on StackOverflow</a>
  which needs to do exactly that for grouping).</p>
  
<p>Let's look at a simple example, which shows when we may need a different behavior when 
  grouping data. For example, we may have the following list of stock trades
  containing a name of a stock and the price of the trade (stored for example as a list
  of <code>TradeInfo</code> classes with properties <code>Name</code> and <code>Price</code>):</p>  
<pre lang="csharp">
{ { Name = "MSFT", Price = 80.00 },
  { Name = "MSFT", Price = 70.00 },
  { Name = "GOOG", Price = 100.00 },
  { Name = "GOOG", Price = 200.00 },
  { Name = "GOOG", Price = 300.00 },
  { Name = "MSFT", Price = 30.00 },
  { Name = "MSFT", Price = 20.00 } }</pre>  
<p>Now, we may want to group adjacent trades into a single summary record which will contain
  the name of the stock (which is same for all trades in each group), the number of trades 
  in the group and an average price in the group. The desired results are:</p>
<pre lang="csharp">
{ { Name = "MSFT", Count = 2, AvgPrice = 75.00 },
  { Name = "GOOG", Count = 3, AvgPrice = 200.00 },
  { Name = "MSFT", Count = 2, AvgPrice = 25.00 } }</pre>  
<p>The operation that we want to do is very similar to <code>group by</code> in LINQ, but 
  it doesn't do quite the same thing! If we used <code>group by</code>, we would get only 
  two groups as the result. However, as I wrote earlier, we want to group only 
  <em>adjacent trades</em>. You could write your own extension method to do this,
  but then you need to leave the elegant LINQ query syntax. In this article, I'll show
  you how to get the desired results using a simple LINQ query with a <code>group by</code>
  clause...</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Sunday, 7 February 2010, 8:13 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/academic/">academic</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/parallel/">parallel</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/custom-linq-grouping.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Source code for Real World Functional Programming available!" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/book-source-available.aspx/">Source code for Real World Functional Programming available!</a></h1>
      <div itemprop="description">
<a href="http://cid-8c3f26b4befe2dfa.skydrive.live.com/self.aspx/2009%20-%20Winter%20-%20Cambridge/P1060023.jpg" target="_blank"><img src="http://tomasp.net/articles/book-source-available/cambridge.jpg" class="ldecor" /></a>
<p>As you can see, there has been quite a bit of silence on this blog for a while. 
  There are two reasons for that - the first is that I'm still working on the book 
  <a type="external" href="http://www.manning.com/petricek">Real World Functional
  Programming</a>, so all my writing activities are fully dedicated to the book. The second
  reason is that I'm having a great time doing an internship in the <a href="http://research.microsoft.com/en-us/groups/ppt">Programming Principles and Tools</a> group
  at Microsoft Research in Cambridge with the F# team and namely the F# language 
  designer <a href="http://blogs.msdn.com/dsyme/" type="external">Don Syme</a>. 
  The photo on the left side is the entrance gate to the Trinity College of the Cambridge
  University taken during the few days when there was a snow. I recently started using
  Live Gallery, so you can find more photos from Cambridge in my <a href="http://cid-8c3f26b4befe2dfa.skydrive.live.com/browse.aspx/2009%20-%20Winter%20-%20Cambridge" type="external">online gallery</a>. Anyway,
  I just wanted to post a quick update with some information (and downloads!) related
  to the book...
</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Thursday, 12 February 2009, 2:10 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/random-thoughts/">random thoughts</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/universe/">universe</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/book-source-available.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Functional Programming in .NET using C# and F# (Manning Greenpaper)" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/functional-overview.aspx/">Functional Programming in .NET using C# and F# (Manning Greenpaper)</a></h1>
      <div itemprop="description">
<p>
  Functional programming languages have been around for a while and were always astonishing for their 
  ability to express the ideas in a succinct, declarative way allowing the developer to focus on the 
  essence of problem rather than on technical details of the solution. Recently, functional paradigm is 
  gaining new prominence as an efficient way to handle development of multi-processor, parallel and 
  asynchronous applications.</p>

<p>
  Functional ideas are arising in C# as well as in other main-stream languages and functional languages 
  are becoming an alternative for real-world projects.  Also, Microsoft recently introduced a new 
  language called F#, which has a strong background in traditional functional languages, but as a .NET 
  language also benefits from the rich .NET and Visual Studio ecosystem.</p>

<div class="rdecor">
 <img src="http://www.tomasp.net/img/cover_main.gif" alt="Book cover" /><br /><small>Available via MEAP | 500 pages<br />Softbound print: March 2009 (est.)</small></div>


<p>
  This article is partially an excerpt from my book <strong><a href="http://www.manning.com/petricek">Real-world Functional Programming in .NET</a></strong> [<a href="#fpgpref">1</a>]. 
  Thanks to my editors at <a href="http://www.manning.com" type="external">Manning</a> I have the permission
  to publish it on my blog. Weâ€™ll look at several aspects of functional programming and how the same 
  concepts, which are essential for the functional paradigm, look in the F# and in C# 3.0 with LINQ. We 
  will shortly look at the basic programming language features like lambda functions and type inference 
  that are now available in both F# and C#. Functional programming isnâ€™t only about language features, 
  but also about using different programming style, so weâ€™ll look at some high level concepts as well. 
  These include using immutable data structures for developing code that can be executed in parallel 
  and writing code in a more declarative style.</p>

<p>
  Thanks to the combination of C# 3.0 and F#, this article shows the ideas in a way that should be 
  familiar to you in C#, but also shows a further step that you can take with a primarilly functional
  language F#. If you're a .NET developer and you want to understand what functional programming is
  and how it can help you to become better and more productive then continue reading. If you'll find 
  this article interesting, then don't forget to check out the <a href="http://www.manning.com/petricek">book</a>,
  which explains everything in larger detail and discusses many other interesting ideas.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Thursday, 11 December 2008, 1:48 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/meta-programming/">meta-programming</a>, <a
              href="/blog/tag/writing/">writing</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/functional-overview.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Reactive Programming (IV.) - Developing a game in Reactive LINQ" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/reactive-iv-reactivegame.aspx/">Reactive Programming (IV.) - Developing a game in Reactive LINQ</a></h1>
      <div itemprop="description">
<p>In this part of the article series about <strong>Reactive LINQ</strong>we're going to 
  implement a slightly more complicated application using the library that I introduced
  in the previous three articles. We're going to use basic event stream queries from the <a href="reactive-ii-csevents.aspx">second article</a> 
  as well as advanced operators introduced in the <a href="reactive-iii-linqoperators.aspx">third part</a>.
  This time, I'll also show the F# version of all the examples, so we're going to build on the ideas from
  the <a href="reactive-i-fsevents.aspx">first part</a>.</p>

<p>I originally wanted to write the demo only in Visual Basic, because I think that
  it is really amazig to show an idea that came from functional programming in a language
  that no one (maybe until recently) connects with functional programming. Then I realized that
  I really want to show the F# version too, because F# was an inspiration for the whole
  <strong>Reactive LINQ</strong> idea and it is interesting alone as well. But finally,
  I thought that don't showing the C# version may look offensive to many readers (especially 
  since I'm still C# MVP...). So, I ended up writing the game in all three languages, but 
  the code is surprisingly similar in all of them!</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Monday, 24 November 2008, 3:00 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/functional/">functional</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/reactive-iv-reactivegame.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Reactive Programming (III.) - Useful Reactive LINQ Operators" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/reactive-iii-linqoperators.aspx/">Reactive Programming (III.) - Useful Reactive LINQ Operators</a></h1>
      <div itemprop="description">
<p>In the <a href="reactive-ii-csevents.aspx">previous article</a>, I introduced <strong>Reactive LINQ</strong>.
  I explained the different point of view that we can use when working with .NET events. The idea is that
  .NET events can be viewed as streams of values. The value is information about the event (such as position
  of a mouse click or a mouse movement). These streams can be processed using LINQ queries - we can for example
  filter all values that are not interesting for us using <code>where</code> LINQ clause. For example if we want to handle
  clicks only in some specified area.</p>
<p>In the previous article, I talked about basic LINQ query operators such as <code>select</code> and <code>where</code>
  and some useful methods that <strong>Reactive LINQ</strong> provides (for example for merging event streams).
  Today, we'll take a look at two more advanced kinds of operations that we can use for working with event streams. 
  In particular, we'll talk about aggregation operators (that you certainly know from LINQ) and about switching. 
  Switching is a concept from functional reactive programming and it allows us to change dynamically how the 
  application behaves. However, I'll explain this in a more detail soon.</p>
<p>In this article, I'm going to use mostly C# (and some Visual Basic). The functionality that I'm describing
  in this part isn't part of the standard F# <code>Event</code> module that I discussed in 
  <a href="reactive-i-fsevents.aspx">the first part</a>. I implemented most of them in F# too, but I'm not going
  to write the samples in both of the versions in this part. If you've seen the first two articles, you'll be 
  definitely able to use the F# versions as well, because they follow exactly the same ideas as the C#/LINQ versions.
  I'm going to talk about a larger demo application in the last section and I'll show an F# version as well,
  so you'll see some F# examples in the next part. This part serves more as a reference of the available
  operators, so you may read only some parts of it, then jump to the last one (to see an exciting example!) 
  and then come back here.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Friday, 21 November 2008, 7:59 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/reactive-iii-linqoperators.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Reactive programming (II.) - Introducing Reactive LINQ" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/reactive-ii-csevents.aspx/">Reactive programming (II.) - Introducing Reactive LINQ</a></h1>
      <div itemprop="description">
<p>In this article I'm going to introduce my project <strong>Reactive LINQ</strong>. This is largely inspired
  by the ideas that come from functional reactive programming in the Haskell language and from 
  functionality that's available for working in events in F#. I introduced these ideas in my previous article
  in this mini-series, so if you're interested in learning more about these interesting technologies, you 
  should definitely read the previous article about <a href="reactive-i-fsevents.aspx">First class events in F#</a>.</p>
<p>In this article, we're going to look how to apply the same ideas to the C# language and how 
  to use LINQ queries for processing events. This article is <a href="http://tomasp.net/blog/dynamic-linq-queries.aspx">just</a>&#160;<a href="http://tomasp.net/blog/csharp-async.aspx">another</a> my article that shows how to implement some 
  idea from functional programmin in C#. I believe this will once again show that the new features
  in the C# 3.0 aren't just about querying databases, but are more widely useful even in situations 
  that are not directly related to data-processing. </p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Wednesday, 19 November 2008, 7:57 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/reactive-ii-csevents.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Reactive programming (I.) - First class events in F#" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/reactive-i-fsevents.aspx/">Reactive programming (I.) - First class events in F#</a></h1>
      <div itemprop="description">
<p>I believe that the LINQ project and changes in C# 3.0 and VB 9 are interesting because they 
  allow rewriting of many ideas from functional programming. An ability to express queries easily
  is one of these ideas, but it is definitely not the only one. There are many other interesting ideas.
  The C# 3.0 language isn't primary a functional language, so it isn't easy to discover the idea
  if you use only C#, but it is possible to implement it if you know the idea already.</p>
<p>I already wrote a few interesting C# examples that were inspired by some functional idea.
  I'm a big fan of the F# language, so it is not a surprise that I started with an F# version
  of the problem and then looked at the way to do the same thing in C#. In particular, this is 
  how my article about building dynamic queries in C# came to the existence - the F# version used
  <a href="http://tomasp.net/blog/dynamic-flinq.aspx">FLINQ and Quotations</a> and then I demonstrated how to do the same in <a href="http://tomasp.net/blog/dynamic-linq-queries.aspx">C# 
  using expression trees</a>. Another example is my article about asynchronous 
  programming in C# <a href="http://tomasp.net/blog/csharp-async.aspx">using iterators</a>, which shows how to implement something 
  like F# <a href="http://blogs.msdn.com/dsyme/archive/2007/10/11/introducing-f-asynchronous-workflows.aspx">asynchronous workflows using iterators</a> in C# 2.0.</p>

<h3>Functional Reactive Programming</h3>  
<p>Today, I'm going to look at another very interesting idea from functional programming. It is 
  called <em>Functional Reactive Programming</em> and it comes from the Haskell community. You can find 
  a list of related <a href="http://www.haskell.org/frp/" type="external">Haskell projects here</a>.
  However, similar things (though they are not purely functional and simplified) are available 
  in the F# language as well. Don Syme introduced them in his blog post called 
  <a href="http://blogs.msdn.com/dsyme/archive/2006/03/24/559582.aspx">F# First Class Events: Simplicity and Compositionality in Imperative Reactive Programming</a>. In this article, I'm going to briefly introduce the implementation
  available in F# and I'll extend it a little bit to allow some more interesting things. In the 
  second article from this series, I'll show how to implement the same thing in C# 3.0 (and in VB 9 too!)</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Sunday, 16 November 2008, 5:14 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>, <a
              href="/blog/tag/meta-programming/">meta-programming</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/reactive-i-fsevents.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Calculating with infinite sequences on MSDN" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/sequences-on-msdn.aspx/">Calculating with infinite sequences on MSDN</a></h1>
      <div itemprop="description">
<p>About a year ago, I wrote <a href="http://tomasp.net/blog/lazy-computation-on-msdn.aspx">an article</a> about using lazy computations in C# 3.0. It was published by the C# Community PM <a href="http://blogs.msdn.com/charlie/" type="external">Charlie Calvert</a> at the C# Developer Center. The article was a first of two articles where I wanted to demonstrate that C# 3.0 can be used for implementing useful constructs known from functional languages. I realized that I never posted the link to the second article to my blog, so you can find the annotation and link below.</p>

<p>However, I remembered about these two articles because I was just working on chapters 11 and 12 of the <a href="http://tomasp.net/blog/functional-net-update.aspx">Real-world Functional Programming in .NET</a> book that Iâ€™m writing. Lazy values, which were the topic of my first article, are discussed in the second part of chapter 11 and IEnumerable and F# sequences are the topic for the first part of chapter 12. Because I already wrote two articles on this topic, I had to think really hard to find better (and still simple enough) examples where these concepts are useful in practice. I also finally have enough space to show how these two concepts relate and talk about some interesting background â€“ for example in Haskell, lazy sequences are in fact just ordinary lists that are lazy thanks to the Haskell nature. </p>
<p>A year ago, I definitely wouldnâ€™t believe that today, Iâ€™ll be writing about the same topics, but this time as part of a book that has partly the same goal as these two articles â€“ to show that functional programming ideas are really useful in the real-world and can enrich your programming toolbox (no matter whether youâ€™re using C# or F# language). Anyway, here is the link to the second article â€“ as usual when I look at something that I worked on a long time ago, I think I should rewrite it to make it better :-), but it still gives you an idea what is the book that Iâ€™m working on about...</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Thursday, 13 November 2008, 2:36 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/universe/">universe</a>, <a
              href="/blog/tag/writing/">writing</a>, <a
              href="/blog/tag/links/">links</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/sequences-on-msdn.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Functional Programming in .NET book - An update" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/functional-net-update.aspx/">Functional Programming in .NET book - An update</a></h1>
      <div itemprop="description">
<p>Recently, I announced on my blog that Iâ€™m working on a book for <a href="http://www.manning.com" type="external">Manning</a> 
  called <em>Real world Functional Programming in .NET</em>. The goal of the book is to explain the most interesting and
  useful ideas of functional programming to a real world C# developer. I'm writing this book, because I believe that functional programming is becoming
  increasingly important. Here is a couple of reasons why you should have this book on your bookshelf:</p>
<ul>
  <li><strong>Ideas behind C# 3.0 and LINQ</strong> - these main-stream technologies are inspired by functional programming and the new 
    C# 3.0 features give us definitely much more than just a new way to query databases. The book explains
    the ideas behind these features and shows how to use them more efficiently.</li>
    
  <li><strong>Learning the F# language</strong> - <a href="http://blogs.msdn.com/somasegar/archive/2007/10/17/f-a-functional-programming-language.aspx" type="external">F# is becoming a first-class citizen</a>
    in the Visual Studio family of languages, which alone would be a good reason for learning it! Even if you're not going
    to use it for your next large .NET project, you'll find it useful for quick prototyping of ideas and testing how .NET libraries
    work thanks to the great interactive tools.
  </li>

  <li><strong>Real world examples</strong> - the book includes a large set of real-world examples that show how to develop 
    real applications in a functional way - both in F# and C#. Among other things, the examples show how to utilize multi-core 
    CPUs, how to better obtain and process data and how to implement animations and GUI applications in a functional way.</li>
</ul>  

<p>The book is available via the MEAP (Manning Early Access Program) and if you want to get a better idea what is the book about, 
  you can read the <a href="http://www.manning.com/petricek/" type="external">first chapter for free</a>. Anyway, it is more than a month since I  <a href="http://tomasp.net/blog/functional-programming-book.aspx">posted the announcement</a>, so I decided to write a brief update....</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Monday, 20 October 2008, 10:10 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/universe/">universe</a>, <a
              href="/blog/tag/web/">web</a>, <a
              href="/blog/tag/writing/">writing</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/functional-net-update.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Asynchronous Programming in C# using Iterators" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/csharp-async.aspx/">Asynchronous Programming in C# using Iterators</a></h1>
      <div itemprop="description">
<p>In this article we will look how to write programs that perform asynchronous operations without 
  the typical inversion of control. To briefly introduce what I mean by 'asynchronous' and 
  'inversion of control' - asynchronous refers to programs that perform some long running operations 
  that don't necessary block a calling thread, for example accessing the network, calling web services 
  or performing any other I/O operation in general. The inversion of control refers to the code structure 
  that you have to use when writing a code that explicitly passes a C# delegate as a callback to the
  asynchronous method (typically called <code>Begin<em>Something</em></code> in .NET). The asynchronous method
  calls the delegate when the operation completes, which reverses the way you write the code - instead of
  encoding the control flow using typical language constructs (e.g. <code>while</code> loop) you have to 
  use global variables and write your own control mechanism.</p>
<p>The funny thing about this article is that it could have been written at least 3 years ago when
  a beta version of Visual Studio 2005 and C# 2.0 became first available, but it is using iterators in 
  a slightly bizarre way, so it is not easy to realize that this is possible. Actually, I will use some C# 3.0
  methods in the article as well, but only extension methods and mainly just to keep the code nicer. As with 
  my earlier article about building LINQ queries at runtime, I realized that it can be done in C# when I was playing with 
  the F# solution (called F# Asynchronous Workflows), where this approach is very natural, so I will shortly
  mention the F# implementation as well.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Thursday, 15 November 2007, 3:08 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/parallel/">parallel</a>, <a
              href="/blog/tag/asynchronous/">asynchronous</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/csharp-async.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Lazy Computation in C# on MSDN" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/lazy-computation-on-msdn.aspx/">Lazy Computation in C# on MSDN</a></h1>
      <div itemprop="description">
<p>I think that one of the interesting things about C# 3.0 is that it gives you the ability to use many techniques known from functional languages (like Haskell or F#). Most of the articles about C# 3.0 and LINQ focus on the queries and LINQ to SQL, but I believe that using these functional techniques deserve some attention as well. This is why I'm very happy that my article about one of these techniques - representing lazy computations - is now available at the C# Developer Center. I would like to thank to <a href="http://blogs.msdn.com/charlie/default.aspx">Charlie Calvert</a> [<a href="http://blogs.msdn.com/charlie/default.aspx" target="_blank">^</a>], who is the Community Program Manager for C# and who edited and published my article there. Here is the annotation:</p>

<p style="padding-left:40px;padding-right:40px;font-style:italic;">Most of the programming languages used in practice (including for example C#, VB.NET, C++, Python or Java) employ so called eager evaluation, which means that the program evaluates all expression and statements in the order in which they are written, so all the preceding statements and expressions are evaluated before executing the next piece of code. This, for example, means that all arguments to a method call are evaluated before calling the method. Sometimes it may be useful to delay an execution of some code until the result is actually needed, either because the result may not be needed at all (but we canâ€™t tell that before executing some computation) or because we donâ€™t want to block the program for a long time by executing all computations in advance and instead we want to execute the computations later, when we will actually need the result. </p>

<p style="padding-left:40px;margin-bottom:20px;padding-right:40px;font-style:italic;">In this article we will look how these lazy computations can be written in C# (using some of the new language features from version 3.0). We will first implement a Lazy class to represent this kind of computation, then look at a few simple examples to demonstrate how the class can be used, and finally we will examine one slightly more complicated, but practically useful application.
</p>

<p style="text-indent:0px">You can read the complete article here: <a href="http://msdn2.microsoft.com/en-us/vcsharp/bb870976.aspx">Lazy Computation in C#
</a> [<a href="http://msdn2.microsoft.com/en-us/vcsharp/bb870976.aspx" target="_blank">^</a>]</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Saturday, 6 October 2007, 1:29 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/universe/">universe</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/links/">links</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/lazy-computation-on-msdn.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Building LINQ Queries at Runtime in F#" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/dynamic-flinq.aspx/">Building LINQ Queries at Runtime in F#</a></h1>
      <div itemprop="description">
<p>In an article about building LINQ queries at runtime in C# 3.0, I described how you can build
  a LINQ query dynamically, for example by combining a set of conditions using the 'or' operator in the
  where clause. I mentioned that the way I implemented it is largely influenced by the F# language, 
  which provides very natural way for manipulations with code like this. In this article I will first 
  shortly introduce FLINQ sample, which is an F# library implementing LINQ support and than I will 
  implement the same examples I presented in the earlier article in F#.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Saturday, 18 August 2007, 2:38 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/meta-programming/">meta-programming</a>, <a
              href="/blog/tag/fsharp/">f#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/dynamic-flinq.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Building LINQ Queries at Runtime in C#" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/dynamic-linq-queries.aspx/">Building LINQ Queries at Runtime in C#</a></h1>
      <div itemprop="description">
<p>Since the first beta versions of LINQ we could hear comments that it is perfect for 
  queries known at compile-time, however it is not possible to use it for building queries 
  dynamically at runtime. In this article I show that this can be actually done very well for 
  most of the common cases. The solution offered by Microsoft (mentioned in [<a href="#dynqlinks">1</a>]) is to 
  build query from a string, however this has many limitations and it in fact goes completely 
  against what LINQ tries to achieve, which is writing queries in a type-safe way with full 
  compile-time checking. In this article I will first show a few support functions to make the life 
  a bit easier and then we will use them for building two sample applications that allows user to 
  build a query dynamically. The solution is largely motivated by my previous use of F#, where 
  working with â€œexpressionsâ€ is possible at more advanced level, however Iâ€™ll write about F# later 
  and now letâ€™s get back to C# 3.0...</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Monday, 30 July 2007, 2:10 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/dynamic-linq-queries.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="CLinq - LINQ support for the C++/CLI language" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/clinq-project.aspx/">CLinq - LINQ support for the C++/CLI language</a></h1>
      <div itemprop="description">
<p>I started working on this project, because I attended C++ class at our university and I had to do some application in C++. Because I hate doing useless projects I wanted to work on something interesting and so I started thinking whether it would be possible to enable LINQ support in C++/CLI...</p>

<p>C++/CLI is a very flexible language and the following example proves that enabling LINQ support in C++/CLI isn't impossible. The following database query returns name of contact and company for all customers living in London:</p>

<pre lang="c++">
// create connection to database
NorthwindData db(".. connection string ..");

// declare database query
Expr&lt;Customers^&gt; cvar = Var&lt;Customers^&gt;("c");
CQuery&lt;String^&gt;^ q = db.QCustomers
  -&gt;Where(clq::fun(cvar, cvar.City == "London"))
  -&gt;Select(clq::fun(cvar, 
      cvar.ContactName + Expr&lt;String^&gt;(", ") + cvar.CompanyName));

// execute query and output results
for each(String^ s in q-&gt;Query)
  Console::WriteLine(s);
</pre>  
<p>If you are interested in more information about CLinq project you can...</p>
<ul>
  <li><a href="/articles/clinq-project.aspx">.. continue and read the entire article</a></li>
  <li><a href="http://www.codeplex.com/linqextensions">Visit the CodePlex project homepage</a> [<a href="http://www.codeplex.com/linqextensions" target="_blank">^</a>]</li>
</ul>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Friday, 2 March 2007, 5:11 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/dotnet/">.net</a>, <a
              href="/blog/tag/academic/">academic</a>, <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/clinq-project.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Can't return anonymous type from method? Really?" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/cannot-return-anonymous-type-from-method.aspx/">Can't return anonymous type from method? Really?</a></h1>
      <div itemprop="description">
<p>One of the new features introduced in C# 3.0 which will be available in Visual Studio "Orcas" (currently in CTP version) 
  is anonymous type. Anonymous type is something very similar to tuple type from CÏ‰ [<a href="#returnanonymous">1</a>] (which is based 
  on tuple types known from many functional programming languages including F#). Anonymous types are extremely useful in 
  LINQ queries, because it allows you to construct type with several properties without declaring the type (with all the properties).
  Example of query with anonymous type looks like this:</p>
<pre lang="csharp">
var q = from c in db.Customers
        where c.Country = "Czech Republic"
        select new { FullName=c.Name+" "+c.Surname, Address=c.Address };
</pre>  
<p>Ok, it's probabbly not the best example, but it demonstrates the point - you want to return some information from query
  and you don't need to declare type that contains <code>FullName</code> and <code>Address</code> properties before, because
  you need it only for this single query (and you want to return only these two fields, so you don't transfer additional 
  data that you don't need from database).</p><p>Now let's get to the second point... </p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Tuesday, 23 January 2007, 11:54 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/cannot-return-anonymous-type-from-method.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Concepts behind the C# 3.0 language" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/csharp3-concepts.aspx/">Concepts behind the C# 3.0 language</a></h1>
      <div itemprop="description">
<p>One of the lectures that I attended last year was <a href="http://www.mff.cuni.cz/toISO-8859-2.en/vnitro/is/sis/predmety/kod.php?kod=PRG003">Programming Methodology and Philosophy of Programming Languages</a>. The lecture was mostly about history of programming languages and how several features evolved, disappeared and than after many years appeared again in another programming language.</p>

<p>As I final work I decided to write an article that describes ideas that influenced the design of the C# 3.0 language. Some of these features are known from functional languages (for example from LISP or Haskell), some other were developed at Microsoft Research and appeared in the F# language or CÏ‰. I also wanted to show in what ways are these features limited in the C# 3.0. I think that thanks to these limitation, the C# 3.0 is still a simple (or at least not difficult) to understand which is very important for mainstream language, but I find it interesting to know what is possible in other (less limited) languages.</p>

<ul><li>You can also <a href="http://tomasp.net/articles/csharp3-concepts/csharp3-concepts.pdf">download the article in PDF</a> (404kB)</li>
<li>The article is also available at <a href="http://www.codeproject.com/useritems/csharp3-concepts.asp">CodeProject.com</a></li></ul>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Sunday, 15 October 2006, 3:19 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>, <a
              href="/blog/tag/academic/">academic</a>, <a
              href="/blog/tag/functional/">functional</a>, <a
              href="/blog/tag/meta-programming/">meta-programming</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/csharp3-concepts.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="LINQ extensions - Simplified keyword search" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/linq-expand-update.aspx/">LINQ extensions - Simplified keyword search</a></h1>
      <div itemprop="description">
<p>Recently, I came across interesting question at LINQ Forums (Dynamic conditions: How to achieve multiple "OR" conditions with LINQ? [<a href="#updlq">1</a>]).
  The question is whether LINQ (and especially LINQ to SQL) provides any simple way to return only records that contain one or more of 
  specified keywords in the name. The question looks simple, but it is simple only if you know the number of keywords that you want to 
  look for. In this case you can write following LINQ query:</p>
<pre>
  <span class="c">// Products that contain "kwd1" or "kwd2" in the name </span><br />
  <span class="k">var</span> q = <span class="k">from</span> p <span class="k">in</span> db.Products
    <span class="k">where</span> p.ProductName.Contains("kwd1") || p.ProductName.Contains("kwd2")
    <span class="k">select</span> p;
</pre>
<p>The problem with previous code is that you can't use it if the list of keywords is dynamically entered by user
  (and so its length may vary). Of course, if you want to run query on in-memory data, you can get very nice results by
  writing extension method called <code>ContainsAny</code> that performs test for keyword array, but if you 
  want to be able to translate query to SQL, the situation is a bit complicated.</p>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Friday, 28 July 2006, 3:57 AM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/linq-expand-update.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
    <div itemscope itemtype="http://schema.org/Article">
    <meta itemprop="author publisher" content="Tomas Petricek" />
    <meta itemprop="headline" content="Calling functions in LINQ queries" />
    <meta itemprop="image" content="" />
    <h1 itemprop="mainEntityOfPage name"><a href="http://tomasp.net/blog/linq-expand.aspx/">Calling functions in LINQ queries</a></h1>
      <div itemprop="description">
<p>The <a href="http://msdn.microsoft.com/data/ref/linq/">LINQ Project</a> [<a href="http://msdn.microsoft.com/data/ref/linq/" target="_blank">^</a>] is 
  an extension to .NET Framework and most important .NET languages (C# and VB.Net) that extends these languages with query operators and some 
  language features that make it possible to integrate queries in the languages. Thanks to LINQ you can write queries that read data from database
  (or any other data source). For example, imagine that you want to write set of queries for eshop and you need to perform a price calculation
  in more queries. The problem with LINQ queries is that you can't simply call a function written in C# that calculates price. The following example
  is NOT WORKING for this reason:</p>
<pre>
<span class="c">// function used in filter</span><br />
<span class="k">static</span>Â <span class="k">decimal</span> CalcPrice(Nwind.Product p)
{
  <span class="k">return</span> p.UnitPrice * 1.19m;
}</pre>
<pre>
<span class="c">// query that uses MyFunc</span><br />
<span class="k">var</span> q = 
  <span class="k">from</span> p <span class="k">in</span> db.Products
  <span class="k">where</span> CalcPrice(p) &gt; 30m
  <span class="k">select</span> p
</pre>
<p>I think that this is a big limitation, because when you want to keep some more complex logic in the data access layer you should be able to reuse 
  parts of queries that are similar across more queries. The good thing is that with latest release, LINQ became extensible so it is possible
  to write a extensions that allow this scenario...</p>
<ul>
<li>You can also <a href="http://tomasp.net/articles/linq-expand/linq-expand.pdf">download the article in PDF</a> (80kB)</li>
</ul>
</div>
      <div class="info">
      <p class="details">
        <strong>Published</strong>: <span itemprop="datePublished">Saturday, 10 June 2006, 2:26 PM</span>
        
          <br />      
          <strong>Tags</strong>: 
            <a
              href="/blog/tag/csharp/">c#</a>
        
        <br />
        <a itemprop="sameAs" href="http://tomasp.net/blog/linq-expand.aspx/">Read the complete article</a><br /><br />
      </p>
      </div>
    </div>    
  
  
  <h1>All blog posts by tag</h1>
  
  <a 
    href="/blog/tag/fsharp/">f# (112)</a>, <a 
    href="/blog/tag/functional/">functional (66)</a>, <a 
    href="/blog/tag/research/">research (43)</a>, <a 
    href="/blog/tag/csharp/">c# (37)</a>, <a 
    href="/blog/tag/asynchronous/">asynchronous (27)</a>, <a 
    href="/blog/tag/parallel/">parallel (23)</a>, <a 
    href="/blog/tag/academic/">academic (21)</a>, <a 
    href="/blog/tag/functional-programming/">functional programming (20)</a>, <a 
    href="/blog/tag/universe/">universe (20)</a>, <a 
    href="/blog/tag/programming-languages/">programming languages (18)</a>, <a 
    href="/blog/tag/meta-programming/">meta-programming (18)</a>, <a 
    href="/blog/tag/links/">links (15)</a>, <a 
    href="/blog/tag/philosophy/">philosophy (14)</a>, <a 
    href="/blog/tag/presentations/">presentations (14)</a>, <a 
    href="/blog/tag/data-science/">data science (12)</a>, <a 
    href="/blog/tag/writing/">writing (12)</a>, <a 
    href="/blog/tag/joinads/">joinads (12)</a>, <a 
    href="/blog/tag/thegamma/">thegamma (11)</a>, <a 
    href="/blog/tag/web/">web (10)</a>, <a 
    href="/blog/tag/data-journalism/">data journalism (9)</a>, <a 
    href="/blog/tag/math-and-numerics/">math and numerics (9)</a>, <a 
    href="/blog/tag/random-thoughts/">random thoughts (9)</a>, <a 
    href="/blog/tag/talks/">talks (8)</a>, <a 
    href="/blog/tag/phalanger/">phalanger (8)</a>, <a 
    href="/blog/tag/haskell/">haskell (7)</a>, <a 
    href="/blog/tag/mono/">mono (7)</a>, <a 
    href="/blog/tag/webcast/">webcast (7)</a>, <a 
    href="/blog/tag/fslab/">fslab (5)</a>, <a 
    href="/blog/tag/open-source/">open source (5)</a>, <a 
    href="/blog/tag/visualization/">visualization (4)</a>, <a 
    href="/blog/tag/fun/">fun (4)</a>, <a 
    href="/blog/tag/accelerator/">accelerator (4)</a>, <a 
    href="/blog/tag/type-providers/">type providers (3)</a>, <a 
    href="/blog/tag/linq/">linq (3)</a>, <a 
    href="/blog/tag/fsharp-data/">f# data (3)</a>, <a 
    href="/blog/tag/dotnet/">.net (3)</a>, <a 
    href="/blog/tag/training/">training (2)</a>, <a 
    href="/blog/tag/coeffects/">coeffects (2)</a>, <a 
    href="/blog/tag/deedle/">deedle (2)</a>, <a 
    href="/blog/tag/monads/">monads (2)</a>, <a 
    href="/blog/tag/art/">art (2)</a>, <a 
    href="/blog/tag/fractals/">fractals (2)</a>, <a 
    href="/blog/tag/funscript/">funscript (2)</a>, <a 
    href="/blog/tag/new-york/">new york (2)</a>, <a 
    href="/blog/tag/manning/">manning (2)</a>, <a 
    href="/blog/tag/books/">books (2)</a>, <a 
    href="/blog/tag/teaching/">teaching (1)</a>, <a 
    href="/blog/tag/fable/">fable (1)</a>, <a 
    href="/blog/tag/machine-learning/">machine learning (1)</a>, <a 
    href="/blog/tag/comonads/">comonads (1)</a>, <a 
    href="/blog/tag/fake/">fake (1)</a>, <a 
    href="/blog/tag/fsharp-formatting/">f# formatting (1)</a>, <a 
    href="/blog/tag/deep-dives/">deep dives (1)</a>, <a 
    href="/blog/tag/async/">async (1)</a>, <a 
    href="/blog/tag/events/">events (1)</a>, <a 
    href="/blog/tag/trainings/">trainings (1)</a>, <a 
    href="/blog/tag/london/">london (1)</a>, <a 
    href="/blog/tag/literate/">literate (1)</a>
  
  </div></div>
  </div>
<article>

  
  </div>
  <footer>
  <div class="container"><div class="row">
    <div class="col-sm-3">
      <h4>Contact &amp; about</h4>
      <p>This site is hosted on GitHub and is generated using <a href="https://github.com/tpetricek/FSharp.Formatting">F# Formatting</a>
        and <a href="http://dotliquidmarkup.org/">DotLiquid</a>.
        For more info, see the <a href="https://github.com/tpetricek/tomasp.net">website source on GitHub</a>.
      </p>
      <p>Please submit issues &amp; corrections on GitHub. Use pull requests for minor corrections only.</p>
      <ul>
        <li><i class="fa fa-twitter"></i> Twitter: <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a></li>
        <li><i class="fa fa-github"></i> GitHub: <a href="https://github.com/tpetricek">@tpetricek</a></li>
        <li><i class="fa fa-envelope"></i> Email me: <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a></li>
      </ul>
    </div>
    <div class="col-sm-7">
    <h4><a href="http://tomasp.net/rss.xml"><i class="fa fa-rss" style="margin-right:5px;"></i></a> Blog archives</h4>
      
      <a href="/blog/archive/october_2020/">October 2020 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2020/">July 2020 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2020/">April 2020 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2019/">December 2019 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2019/">February 2019 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2018/">November 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2018/">October 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2018/">May 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2017/">September 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2017/">June 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2017/">April 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2017/">March 2017 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2017/">January 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2016/">October 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2016/">September 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/august_2016/">August 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2016/">July 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2016/">May 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2016/">April 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2015/">December 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2015/">November 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2015/">September 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2015/">July 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2015/">June 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2015/">May 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2015/">April 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2015/">March 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2015/">February 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2015/">January 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2014/">December 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2014/">May 2014 (3)</a>,&nbsp;
      
      <a href="/blog/archive/april_2014/">April 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2014/">March 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2014/">January 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2013/">December 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2013/">November 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2013/">October 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2013/">September 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2013/">August 2013 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2013/">May 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2013/">April 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2013/">March 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2013/">February 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2013/">January 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2012/">December 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/october_2012/">October 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2012/">August 2012 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2012/">June 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2012/">April 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2012/">March 2012 (4)</a>,&nbsp;
      
      <a href="/blog/archive/february_2012/">February 2012 (5)</a>,&nbsp;
      
      <a href="/blog/archive/january_2012/">January 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2011/">November 2011 (5)</a>,&nbsp;
      
      <a href="/blog/archive/august_2011/">August 2011 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2011/">July 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/june_2011/">June 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2011/">May 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2011/">March 2011 (4)</a>,&nbsp;
      
      <a href="/blog/archive/december_2010/">December 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2010/">November 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2010/">October 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/september_2010/">September 2010 (4)</a>,&nbsp;
      
      <a href="/blog/archive/july_2010/">July 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2010/">June 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2010/">May 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2010/">February 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2010/">January 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/december_2009/">December 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2009/">July 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2009/">June 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2009/">May 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2009/">April 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2009/">March 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2009/">February 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2008/">December 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2008/">November 2008 (5)</a>,&nbsp;
      
      <a href="/blog/archive/october_2008/">October 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2008/">September 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2008/">June 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2008/">March 2008 (3)</a>,&nbsp;
      
      <a href="/blog/archive/february_2008/">February 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2007/">December 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2007/">November 2007 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2007/">October 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2007/">September 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2007/">August 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2007/">July 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2007/">April 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2007/">March 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2007/">February 2007 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2007/">January 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2006/">November 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2006/">October 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/august_2006/">August 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/july_2006/">July 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2006/">June 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2006/">May 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2006/">April 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2005/">December 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2005/">July 2005 (4)</a>,&nbsp;
      
      <a href="/blog/archive/june_2005/">June 2005 (5)</a>,&nbsp;
      
      <a href="/blog/archive/may_2005/">May 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2005/">April 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2005/">March 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2005/">January 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2004/">December 2004 (3)</a>,&nbsp;
      
      <a href="/blog/archive/november_2004/">November 2004 (2)</a>,&nbsp;
      
    </div>
    <div class="col-sm-2">
      <h4>License</h4>
      <p>Unless explicitly mentioned, all articles on this site are licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>.
        All source code samples are licensed under the MIT License.
      </p>
      <p style="text-align:center;margin-top:15px;"><img src="http://tomasp.net/img/cc-sa.png" alt="CC License logo" /></p>
    </div>
  </div></div>
  </footer>

  <!-- Third-party standard references -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
    integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>  
  <script type="text/javascript" src="/custom/tooltips.js"></script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1561220-1']);
    _gaq.push(['_trackPageview']);
    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script type="text/javascript">
    var small = (window.innerWidth * window.innerHeight) < 500000;
    if (!small) {
      if ($("body").attr("class").trim() == "home") $('nav').affix({ offset: { top: $('header').outerHeight() }}); 
      else $('.top-panel').addClass("fixed");
    }
    var opened = false;
    function hideOrShow() {
      opened = !opened;
      $("#tomas").show(); 
      $(".tomas-fa").toggleClass("fa-caret-up");
      $(".tomas-fa").toggleClass("fa-caret-down");
      $("#tomas").css("max-height", $("#tomas").css("max-height")!="800px"?"800px":"0px");
      return false; 
    }
    $('.toggle-tomas').on("click", hideOrShow);
    window.onscroll = function() { if (opened) {
      if (!small) hideOrShow(); 
    } };
  </script>
</body>
</html>
