<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Droid+Sans+Mono&family=Kreon:wght@300;400;500;600&family=PT+Sans:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="alternate" type="application/rss+xml" title="Latest news from Tomas Petricek" href="/rss.xml" />
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <link href="/custom/style.css" rel="stylesheet">
  <link href="/custom/tooltips.css" rel="stylesheet">
  <script src="/custom/tooltips.js" type="text/javascript"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon-big.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/favicon-big.png">
  <meta name="msapplication-TileColor" content="#004C6B">
  <meta name="msapplication-TileImage" content="/img/favicon-big.png">
  <meta name="theme-color" content="#004C6B">
  
  <title>F# Parallel Extras (III.): Financial dashboard with cancellation - Tomas Petricek</title>

  <meta name="description" content=" In this article, we revisit an F# implementation of a financial dashboard example from Parallel Programming with .NET. The article explains and demonstrates how to use the built-in support for cancellation in F# asynchronous workflows." />
  <meta name="keywords" content="functional, parallel, asynchronous, f#, " />  
  <meta name="author" content="Tomas Petricek" />
  <meta name="copyright" content="Tomas Petricek" />
  
  <meta property="og:title" content="F# Parallel Extras (III.): Financial dashboard with cancellation" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://tomasp.net/blog/parallel-extra-adash-cancellation.aspx/" />
  <meta property="og:image" content="" />
  <meta property="og:description" content=" In this article, we revisit an F# implementation of a financial dashboard example from Parallel Programming with .NET. The article explains and demonstrates how to use the built-in support for cancellation in F# asynchronous workflows." />
  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@tomaspetricek">
  <meta name="twitter:creator" content="@tomaspetricek">  
  <meta name="twitter:title" content="F# Parallel Extras (III.): Financial dashboard with cancellation" />
  <meta name="twitter:image" content="" />
  <meta name="twitter:description" content=" In this article, we revisit an F# implementation of a financial dashboard example from Parallel Programming with .NET. The article explains and demonstrates how to use the built-in support for cancellation in F# asynchronous workflows." />
    
  <script type="application/ld+json">
  {
  	"@context": "http:\/\/schema.org",
  	"@type": "Article",
  	"name": "F# Parallel Extras (III.): Financial dashboard with cancellation",
    "headline": "F# Parallel Extras (III.): Financial dashboard with cancellation",
  	"description": " In this article, we revisit an F# implementation of a financial dashboard example from Parallel Programming with .NET. The article explains and demonstrates how to use the built-in support for cancellation in F# asynchronous workflows.",
  	"url": "http://tomasp.net/blog/parallel-extra-adash-cancellation.aspx/",
  	"author": {
  		"@type": "Person",
  		"name": "Tomas Petricek",
  		"url": "http://tomasp.net",
  		"sameAs": ["http://twitter.com/tomaspetricek"]
  	},
  	"creator": ["Tomas Petricek"],
  	"dateCreated": "2010-10-27T11:13:08.0000000",
  	"datePublished": "2010-10-27T11:13:08.0000000",
    "dateModified": "2010-10-27T11:13:08.0000000",
    "mainEntityOfPage": "http://tomasp.net/blog/parallel-extra-adash-cancellation.aspx/",
  	"image": "",
  	"thumbnailUrl": "",
  	"keywords": ["functional", "parallel", "asynchronous", "f#",  "tomas", "petricek"],
  	"inLanguage": "en-us",
  	"publisher": {
  		"@type": "Person",
  		"name": "Tomas Petricek",
  		"url": "http://tomasp.net",
      "logo": "http://tomasp.net/img/favicon-big.png",
  		"sameAs": ["http://twitter.com/tomaspetricek"]
  	}
  }  
  </script>

</head>
<body class="default">
    
  <span class="tplink"><a href="/">TP</a></span>

  <article class='article''>
    <h1>F# Parallel Extras (III.): Financial dashboard with cancellation</h1>
<p>In this article we'll look at several improvements that can be done to the Financial dashboard example
  (originally from the <a href="http://parallelpatterns.codeplex.com/" type="external">Parallel Programming with Microsoft .NET</a> book).
  When I was translating samples in the book from C# to F#, the sample struck me, because it looks like
  a perfect fit for F# asynchronous workflows (instead of the <code>Task&lt;T&gt;</code> type used in the
  C# version). I already talked about an <a href="http://tomasp.net/blog/fsharp-parallel-adash.aspx">alternative 
  implementation</a> based on asynchronous workflows. However that version was still following some of the
  programming patterns, from the original C# version, which are not idiomatic in F#. In this article, I'll talk
  about a few other improvements that we can make to the sample...</p>

<p>In the original version of the sample (in both C# and F#), we explicitly checked whether a cancellation
  token has been cancelled in every single operation. This was needed in C#, because tasks do not support
  cancellation automatically. However, F# asynchronous workflows make cancellation easier. They automatically
  check if the computation should be cancelled at the beginning and the end of every asynchronous call. Our
  first change will be to use this feature. Also, the original version propagates a <code>null</code> value
  when the computation is cancelling. In F# we don't need that and we'll only change the type of the overall
  result to <code>option&lt;T&gt;</code>, so that we can notify the user interface (but we don't need to 
  propagate cancellation explicitly). Finally, the original version contained sequential implementation, but
  didn't provide any way of actually running it, so we'll do a bit of refactoring to make that sample 
  actually useable.</p>

<h2>Representing analysis process</h2>
<p>Let's start with the refactoring. The original C# version (as well as the task-based F# implementation) returns 
  a record with <code>Task&lt;T&gt;</code> values, which allows the user interface to wait for the 
  result using <code>ContinueWith</code> method (the code is <a href="http://parallelpatterns.codeplex.com/" type="external">available on CodePlex</a>,
  if you want to take a look). In the previous article, we used events instead, but only in the version based
  on asynchronous workflows. A more convenient option is to encapsulate the reporting of status (implemented 
  using events) in an abstract class that will represent the computation (or analysis process). The class can 
  then be created and returned by various implementations of the financial 
  calculation. Even though abstract classes are very object oriented, it will work very well in this case, 
  because it can hide some implementation and we'll be able to create it using <em>object expressions</em>.</p>

<p>The following snippet implements the class (the listing hides some of the event declarations, because they
  all follow the same pattern). The class simply exposes several events and allows the user of the class to trigger
  them. More interestingly, the class also provides method for starting and cancelling the computation. It is
  worth noting that the original version of the sample returned a computation that was already running. This
  is not perfect (at least when using events), because a user may want to setup handlers for the
  events first and start the computation after that, to make sure that no event occurrences are missed. </p>

<pre class="fssnip">
<span class="l"> 1: </span>[&lt;<span onmouseout="hideTip(event, 'fstips1', 1)" onmouseover="showTip(event, 'fstips1', 1)" class="i">AbstractClass</span>&gt;]
<span class="l"> 2: </span><span class="k">type</span> <span onmouseout="hideTip(event, 'fstips2', 2)" onmouseover="showTip(event, 'fstips2', 2)" class="i">AnalysisProcess</span>() <span class="o">=</span> 
<span class="l"> 3: </span>
<span class="l"> 4: </span>    <span class="c">//</span><span class="c"> </span><span class="c">Trigger</span><span class="c"> </span><span class="c">event</span><span class="c"> </span><span class="c">on</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">GUI</span><span class="c"> </span><span class="c">thread</span><span class="c"> </span><span class="c">using</span><span class="c"> </span><span class="c">a</span><span class="c"> </span><span class="c">captured</span><span class="c"> </span><span class="c">dispatcher</span>
<span class="l"> 5: </span>    <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips3', 3)" onmouseover="showTip(event, 'fstips3', 3)" class="i">guiDispatch</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips4', 4)" onmouseover="showTip(event, 'fstips4', 4)" class="i">Windows</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips5', 5)" onmouseover="showTip(event, 'fstips5', 5)" class="i">Threading</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips6', 6)" onmouseover="showTip(event, 'fstips6', 6)" class="i">Dispatcher</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips7', 7)" onmouseover="showTip(event, 'fstips7', 7)" class="i">CurrentDispatcher</span>
<span class="l"> 6: </span>    <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips8', 8)" onmouseover="showTip(event, 'fstips8', 8)" class="i">triggerGuiEvent</span> (<span onmouseout="hideTip(event, 'fstips9', 9)" onmouseover="showTip(event, 'fstips9', 9)" class="i">e</span><span class="o">:</span><span onmouseout="hideTip(event, 'fstips10', 10)" onmouseover="showTip(event, 'fstips10', 10)" class="i">Event</span><span class="o">&lt;</span>_<span class="o">&gt;</span>) <span onmouseout="hideTip(event, 'fstips11', 11)" onmouseover="showTip(event, 'fstips11', 11)" class="i">v</span> <span class="o">=</span> 
<span class="l"> 7: </span>        <span onmouseout="hideTip(event, 'fstips3', 12)" onmouseover="showTip(event, 'fstips3', 12)" class="i">guiDispatch</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips12', 13)" onmouseover="showTip(event, 'fstips12', 13)" class="i">Invoke</span>(<span class="k">new</span> <span onmouseout="hideTip(event, 'fstips13', 14)" onmouseover="showTip(event, 'fstips13', 14)" class="i">Action</span>(<span class="k">fun</span> () <span class="k">-&gt;</span> 
<span class="l"> 8: </span>              <span onmouseout="hideTip(event, 'fstips9', 15)" onmouseover="showTip(event, 'fstips9', 15)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips14', 16)" onmouseover="showTip(event, 'fstips14', 16)" class="i">Trigger</span>(<span onmouseout="hideTip(event, 'fstips11', 17)" onmouseover="showTip(event, 'fstips11', 17)" class="i">v</span>) ), [| |]) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips15', 18)" onmouseover="showTip(event, 'fstips15', 18)" class="i">ignore</span>
<span class="l"> 9: </span>
<span class="l">10: </span>    <span class="c">//</span><span class="c"> </span><span class="c">Create</span><span class="c"> </span><span class="c">events</span><span class="c"> </span><span class="c">that</span><span class="c"> </span><span class="c">are</span><span class="c"> </span><span class="c">used</span><span class="c"> </span><span class="c">to</span><span class="c"> </span><span class="c">notify</span><span class="c"> </span><span class="c">the</span><span class="c"> </span>
<span class="l">11: </span>    <span class="c">//</span><span class="c"> </span><span class="c">caller</span><span class="c"> </span><span class="c">about</span><span class="c"> </span><span class="c">partial</span><span class="c"> </span><span class="c">results</span><span class="c"> </span><span class="c">of</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">computation</span>
<span class="l">12: </span>    <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips16', 19)" onmouseover="showTip(event, 'fstips16', 19)" class="i">loadNyseDataEvt</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips10', 20)" onmouseover="showTip(event, 'fstips10', 20)" class="i">Event</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fstips17', 21)" onmouseover="showTip(event, 'fstips17', 21)" class="i">StockDataCollection</span><span class="o">&gt;</span>()
<span class="l">13: </span>    <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips18', 22)" onmouseover="showTip(event, 'fstips18', 22)" class="i">compareModelsEvt</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips10', 23)" onmouseover="showTip(event, 'fstips10', 23)" class="i">Event</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fstips19', 24)" onmouseover="showTip(event, 'fstips19', 24)" class="i">MarketRecommendation</span> <span onmouseout="hideTip(event, 'fstips20', 25)" onmouseover="showTip(event, 'fstips20', 25)" class="i">option</span><span class="o">&gt;</span>()
<span class="l">14: </span>    <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips21', 26)" onmouseover="showTip(event, 'fstips21', 26)" class="i">errorHandlerEvt</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips10', 27)" onmouseover="showTip(event, 'fstips10', 27)" class="i">Event</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fstips22', 28)" onmouseover="showTip(event, 'fstips22', 28)" class="i">unit</span><span class="o">&gt;</span>()
<span class="l">15: </span>    <span onmouseout="hideTip(event, 'fstips23', 29)" onmouseover="showTip(event, 'fstips23', 29)" class="omitted">(other events omitted)</span>
<span class="l">16: </span>
<span class="l">17: </span>    <span class="c">///</span><span class="c"> </span><span class="c">Start</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">analysis</span><span class="c"> </span><span class="c">(to</span><span class="c"> </span><span class="c">be</span><span class="c"> </span><span class="c">used</span><span class="c"> </span><span class="c">after</span><span class="c"> </span><span class="c">handlers</span><span class="c"> </span><span class="c">are</span><span class="c"> </span><span class="c">registered)</span>
<span class="l">18: </span>    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fstips24', 30)" onmouseover="showTip(event, 'fstips24', 30)" class="i">Start</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fstips22', 31)" onmouseover="showTip(event, 'fstips22', 31)" class="i">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fstips22', 32)" onmouseover="showTip(event, 'fstips22', 32)" class="i">unit</span>
<span class="l">19: </span>    <span class="c">///</span><span class="c"> </span><span class="c">Try</span><span class="c"> </span><span class="c">to</span><span class="c"> </span><span class="c">cancel</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">process</span><span class="c"> </span><span class="c">(if</span><span class="c"> </span><span class="c">it</span><span class="c"> </span><span class="c">has</span><span class="c"> </span><span class="c">been</span><span class="c"> </span><span class="c">already</span><span class="c"> </span><span class="c">started)</span>
<span class="l">20: </span>    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fstips25', 33)" onmouseover="showTip(event, 'fstips25', 33)" class="i">TryCancel</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fstips22', 34)" onmouseover="showTip(event, 'fstips22', 34)" class="i">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fstips22', 35)" onmouseover="showTip(event, 'fstips22', 35)" class="i">unit</span>
<span class="l">21: </span>
<span class="l">22: </span>    <span class="c">//</span><span class="c"> </span><span class="c">Expose</span><span class="c"> </span><span class="c">events</span><span class="c"> </span><span class="c">to</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">user</span><span class="c"> </span><span class="c">interface</span><span class="c"> </span><span class="c">layer</span>
<span class="l">23: </span>    <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 36)" onmouseover="showTip(event, 'fstips26', 36)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips27', 37)" onmouseover="showTip(event, 'fstips27', 37)" class="i">LoadNyseData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips16', 38)" onmouseover="showTip(event, 'fstips16', 38)" class="i">loadNyseDataEvt</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips28', 39)" onmouseover="showTip(event, 'fstips28', 39)" class="i">Publish</span>
<span class="l">24: </span>    <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 40)" onmouseover="showTip(event, 'fstips26', 40)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips29', 41)" onmouseover="showTip(event, 'fstips29', 41)" class="i">CompareModels</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips18', 42)" onmouseover="showTip(event, 'fstips18', 42)" class="i">compareModelsEvt</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips30', 43)" onmouseover="showTip(event, 'fstips30', 43)" class="i">Publish</span>
<span class="l">25: </span>    <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 44)" onmouseover="showTip(event, 'fstips26', 44)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips31', 45)" onmouseover="showTip(event, 'fstips31', 45)" class="i">ErrorHandler</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips21', 46)" onmouseover="showTip(event, 'fstips21', 46)" class="i">errorHandlerEvt</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips32', 47)" onmouseover="showTip(event, 'fstips32', 47)" class="i">Publish</span> 
<span class="l">26: </span>    <span class="c">//</span><span class="c"> </span><span class="c">Trigger</span><span class="c"> </span><span class="c">event</span><span class="c"> </span><span class="c">(called</span><span class="c"> </span><span class="c">from</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">computation</span><span class="c"> </span><span class="c">engine)</span>
<span class="l">27: </span>    <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 48)" onmouseover="showTip(event, 'fstips26', 48)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips33', 49)" onmouseover="showTip(event, 'fstips33', 49)" class="i">TriggerLoadNyseData</span>(<span onmouseout="hideTip(event, 'fstips34', 50)" onmouseover="showTip(event, 'fstips34', 50)" class="i">v</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips8', 51)" onmouseover="showTip(event, 'fstips8', 51)" class="i">triggerGuiEvent</span> <span onmouseout="hideTip(event, 'fstips16', 52)" onmouseover="showTip(event, 'fstips16', 52)" class="i">loadNyseDataEvt</span> <span onmouseout="hideTip(event, 'fstips34', 53)" onmouseover="showTip(event, 'fstips34', 53)" class="i">v</span>
<span class="l">28: </span>    <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 54)" onmouseover="showTip(event, 'fstips26', 54)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips35', 55)" onmouseover="showTip(event, 'fstips35', 55)" class="i">TriggerCompareModels</span>(<span onmouseout="hideTip(event, 'fstips36', 56)" onmouseover="showTip(event, 'fstips36', 56)" class="i">v</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips8', 57)" onmouseover="showTip(event, 'fstips8', 57)" class="i">triggerGuiEvent</span> <span onmouseout="hideTip(event, 'fstips18', 58)" onmouseover="showTip(event, 'fstips18', 58)" class="i">compareModelsEvt</span> <span onmouseout="hideTip(event, 'fstips36', 59)" onmouseover="showTip(event, 'fstips36', 59)" class="i">v</span>
<span class="l">29: </span>    <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 60)" onmouseover="showTip(event, 'fstips26', 60)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips37', 61)" onmouseover="showTip(event, 'fstips37', 61)" class="i">TriggerErrorHandler</span>(<span onmouseout="hideTip(event, 'fstips38', 62)" onmouseover="showTip(event, 'fstips38', 62)" class="i">v</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips8', 63)" onmouseover="showTip(event, 'fstips8', 63)" class="i">triggerGuiEvent</span> <span onmouseout="hideTip(event, 'fstips21', 64)" onmouseover="showTip(event, 'fstips21', 64)" class="i">errorHandlerEvt</span> <span onmouseout="hideTip(event, 'fstips38', 65)" onmouseover="showTip(event, 'fstips38', 65)" class="i">v</span>
<span class="l">30: </span>    <span onmouseout="hideTip(event, 'fstips39', 66)" onmouseover="showTip(event, 'fstips39', 66)" class="omitted">(other members omitted)</span><a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
<p>The type declaration is marked with the <code>AbstractClass</code> attribute, which instructs the F# compiler
  to treat it as an abstract class. The abstract members of the class are <code>Start</code> and <code>TryCancel</code>.
  Both of the members are quite simple and don't take any arguments or return any result. They simply start the
  computation or trigger its cancellation. </p>
<p>Aside from abstract members, the type creates and exposes several event values. In the constructor, we capture
  the current WPF <code>Dispatcher</code> (assuming that the type is first constructed on the main GUI thread)
  and when triggering an event, we dispatch the call to the original thread. This is done using a simple helper
  function <code>triggeGuiEvent</code> that was already discussed in <a href="http://tomasp.net/blog/fsharp-parallel-adash.aspx">the 
  previous article</a>. For every event, we have a private event value (e.g. <code>loadNyseDataEvt</code>)
  and two public members (e.g. <code>LoadNyseData</code> and <code>TriggerLoadNyseData</code>). The first 
  member exposes the event and is used from the user interface when registering event handlers. The other member
  is used from the computation engine to report results to the GUI. Note that the <code>CompareModels</code>
  event carries <code>MarketRecommendation option</code> as a value. This event will be triggered even if 
  a computation is cancelled, in which case the value will be <code>None</code> (other events may not fire when
  we cancel the computation).</p>

<h2>Creating sequential implementation</h2>
<p>To demonstrate how a computation would construct and return an implementation of the above abstract class,
  let's start by looking at the sequential implementation. In the sequential version, we'll ignore cancellation
  (adding it would be simple - we'd just set a flag and check whether it was set after every step). Even though
  this is fully sequential, we'll do the actual work in background (to avoid blocking the GUI thread):</p>
<pre class="fssnip">
<span class="l"> 1: </span><span class="c">//</span><span class="c"> </span><span class="c">Implements</span><span class="c"> </span><span class="c">market</span><span class="c"> </span><span class="c">analysis</span><span class="c"> </span><span class="c">using</span><span class="c"> </span><span class="c">sequential</span><span class="c"> </span><span class="c">computation</span>
<span class="l"> 2: </span><span class="k">let</span> <span onmouseout="hideTip(event, 'fstips40', 67)" onmouseover="showTip(event, 'fstips40', 67)" class="i">sequentialAnalysis</span>() <span class="o">=</span> 
<span class="l"> 3: </span>
<span class="l"> 4: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Analysis</span><span class="c"> </span><span class="c">engine</span><span class="c"> </span><span class="c">that</span><span class="c"> </span><span class="c">will</span><span class="c"> </span><span class="c">be</span><span class="c"> </span><span class="c">returned</span><span class="c"> </span><span class="c">as</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">result.</span>
<span class="l"> 5: </span>  <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fstips41', 68)" onmouseover="showTip(event, 'fstips41', 68)" class="i">engine</span> <span class="o">=</span> 
<span class="l"> 6: </span>    { <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips2', 69)" onmouseover="showTip(event, 'fstips2', 69)" class="i">AnalysisProcess</span>() <span class="k">with</span>
<span class="l"> 7: </span>        <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 70)" onmouseover="showTip(event, 'fstips26', 70)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips42', 71)" onmouseover="showTip(event, 'fstips42', 71)" class="i">Start</span>() <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips43', 72)" onmouseover="showTip(event, 'fstips43', 72)" class="i">Task</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips44', 73)" onmouseover="showTip(event, 'fstips44', 73)" class="i">Factory</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips45', 74)" onmouseover="showTip(event, 'fstips45', 74)" class="i">StartNew</span>(<span onmouseout="hideTip(event, 'fstips46', 75)" onmouseover="showTip(event, 'fstips46', 75)" class="i">analysis</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips15', 76)" onmouseover="showTip(event, 'fstips15', 76)" class="i">ignore</span>
<span class="l"> 8: </span>        <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 77)" onmouseover="showTip(event, 'fstips26', 77)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips47', 78)" onmouseover="showTip(event, 'fstips47', 78)" class="i">TryCancel</span>() <span class="o">=</span> () }
<span class="l"> 9: </span>
<span class="l">10: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Function</span><span class="c"> </span><span class="c">that</span><span class="c"> </span><span class="c">implements</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">sequential</span><span class="c"> </span><span class="c">analysis</span>
<span class="l">11: </span>  <span class="k">and</span> <span onmouseout="hideTip(event, 'fstips46', 79)" onmouseover="showTip(event, 'fstips46', 79)" class="i">analysis</span>() <span class="o">=</span>
<span class="l">12: </span>      <span onmouseout="hideTip(event, 'fstips48', 80)" onmouseover="showTip(event, 'fstips48', 80)" class="omitted">(loading and processing omitted)</span>
<span class="l">13: </span>  
<span class="l">14: </span>      <span class="c">//</span><span class="c"> </span><span class="c">Run</span><span class="c"> </span><span class="c">both</span><span class="c"> </span><span class="c">models</span><span class="c"> </span><span class="c">and</span><span class="c"> </span><span class="c">compare</span><span class="c"> </span><span class="c">them</span>
<span class="l">15: </span>      <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips49', 81)" onmouseover="showTip(event, 'fstips49', 81)" class="i">modeledMarketData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips50', 82)" onmouseover="showTip(event, 'fstips50', 82)" class="i">runModel</span> <span onmouseout="hideTip(event, 'fstips51', 83)" onmouseover="showTip(event, 'fstips51', 83)" class="i">analyzedStockData</span>
<span class="l">16: </span>      <span onmouseout="hideTip(event, 'fstips41', 84)" onmouseover="showTip(event, 'fstips41', 84)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips52', 85)" onmouseover="showTip(event, 'fstips52', 85)" class="i">TriggerModelMarketData</span>(<span onmouseout="hideTip(event, 'fstips49', 86)" onmouseover="showTip(event, 'fstips49', 86)" class="i">modeledMarketData</span>)
<span class="l">17: </span>      <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips53', 87)" onmouseover="showTip(event, 'fstips53', 87)" class="i">modeledHistoricalData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips50', 88)" onmouseover="showTip(event, 'fstips50', 88)" class="i">runModel</span> <span onmouseout="hideTip(event, 'fstips54', 89)" onmouseover="showTip(event, 'fstips54', 89)" class="i">analyzedHistoricalData</span>
<span class="l">18: </span>      <span onmouseout="hideTip(event, 'fstips41', 90)" onmouseover="showTip(event, 'fstips41', 90)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips55', 91)" onmouseover="showTip(event, 'fstips55', 91)" class="i">TriggerModelHistoricalData</span>(<span onmouseout="hideTip(event, 'fstips53', 92)" onmouseover="showTip(event, 'fstips53', 92)" class="i">modeledHistoricalData</span>)
<span class="l">19: </span>      <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips56', 93)" onmouseover="showTip(event, 'fstips56', 93)" class="i">recommendation</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips57', 94)" onmouseover="showTip(event, 'fstips57', 94)" class="i">compareModels</span> [ <span onmouseout="hideTip(event, 'fstips49', 95)" onmouseover="showTip(event, 'fstips49', 95)" class="i">modeledMarketData</span>; <span onmouseout="hideTip(event, 'fstips53', 96)" onmouseover="showTip(event, 'fstips53', 96)" class="i">modeledHistoricalData</span> ]
<span class="l">20: </span>      <span onmouseout="hideTip(event, 'fstips41', 97)" onmouseover="showTip(event, 'fstips41', 97)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips58', 98)" onmouseover="showTip(event, 'fstips58', 98)" class="i">TriggerCompareModels</span>(<span onmouseout="hideTip(event, 'fstips59', 99)" onmouseover="showTip(event, 'fstips59', 99)" class="i">Some</span> <span onmouseout="hideTip(event, 'fstips56', 100)" onmouseover="showTip(event, 'fstips56', 100)" class="i">recommendation</span>)
<span class="l">21: </span>  <span onmouseout="hideTip(event, 'fstips41', 101)" onmouseover="showTip(event, 'fstips41', 101)" class="i">engine</span><a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
<p>The snippet creates a recursive reference between the <code>analysis</code> function and the <code>engine</code>
  value. In this case, F# compiler inserts some runtime checks to verify that the recursion makes sense and it 
  shows a warning that notifies us about this (we can safely ignore it by adding <code>#nowarn "40"</code>). The
  <code>engine</code> value is created using object expression and it adds implementation of the two abstract 
  members of the <code>AnalysisProcess</code> class. In the <code>Start</code> member, it creates a task that 
  will start running the <code>analysis</code> function. In the other way round, the <code>analysis</code> function
  calls members of the <code>engine</code> value to report intermediate progress of the computation
  (for example by calling the <code>TriggercompareModels</code> member at the end).</p>

<h2>Supporting cancellation in asynchronous workflows</h2>
<p>The asynchronous implementation of the computation will follow the same pattern. We'll create an <code>engine</code>
  value that implements the abstract class and we'll have a computation (asynchronous workflow instead of an
  ordinary function) that will be started from the <code>Start</code> method and will report the progress by 
  calling <code>engine.TriggerXyz</code> members. The following snippet shows the overall structure (implementation
  of the computation is hidden, as we'll discuss it in the next section):</p>
<pre class="fssnip">
<span class="l"> 1: </span><span class="c">//</span><span class="c"> </span><span class="c">Implements</span><span class="c"> </span><span class="c">market</span><span class="c"> </span><span class="c">analysis</span><span class="c"> </span><span class="c">using</span><span class="c"> </span><span class="c">F#</span><span class="c"> </span><span class="c">asynchronous</span><span class="c"> </span><span class="c">workflows</span>
<span class="l"> 2: </span><span class="k">let</span> <span onmouseout="hideTip(event, 'fstips60', 102)" onmouseover="showTip(event, 'fstips60', 102)" class="i">asyncAnalysis</span>() <span class="o">=</span> 
<span class="l"> 3: </span>  <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips61', 103)" onmouseover="showTip(event, 'fstips61', 103)" class="i">cts</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips62', 104)" onmouseover="showTip(event, 'fstips62', 104)" class="i">CancellationTokenSource</span>()
<span class="l"> 4: </span>
<span class="l"> 5: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Analysis</span><span class="c"> </span><span class="c">engine</span><span class="c"> </span><span class="c">that</span><span class="c"> </span><span class="c">will</span><span class="c"> </span><span class="c">be</span><span class="c"> </span><span class="c">returned</span><span class="c"> </span><span class="c">as</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">result.</span>
<span class="l"> 6: </span>  <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fstips41', 105)" onmouseover="showTip(event, 'fstips41', 105)" class="i">engine</span> <span class="o">=</span> 
<span class="l"> 7: </span>    { <span class="k">new</span> <span onmouseout="hideTip(event, 'fstips2', 106)" onmouseover="showTip(event, 'fstips2', 106)" class="i">AnalysisProcess</span>() <span class="k">with</span>
<span class="l"> 8: </span>        <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 107)" onmouseover="showTip(event, 'fstips26', 107)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips42', 108)" onmouseover="showTip(event, 'fstips42', 108)" class="i">Start</span>() <span class="o">=</span> 
<span class="l"> 9: </span>          <span class="c">//</span><span class="c"> </span><span class="c">Start</span><span class="c"> </span><span class="c">workflow</span><span class="c"> </span><span class="c">with</span><span class="c"> </span><span class="c">cancellation</span><span class="c"> </span><span class="c">token</span>
<span class="l">10: </span>          <span onmouseout="hideTip(event, 'fstips63', 109)" onmouseover="showTip(event, 'fstips63', 109)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips64', 110)" onmouseover="showTip(event, 'fstips64', 110)" class="i">Start</span>(<span onmouseout="hideTip(event, 'fstips65', 111)" onmouseover="showTip(event, 'fstips65', 111)" class="i">compare</span>, <span class="i">cancellationToken</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips61', 112)" onmouseover="showTip(event, 'fstips61', 112)" class="i">cts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips66', 113)" onmouseover="showTip(event, 'fstips66', 113)" class="i">Token</span>)
<span class="l">11: </span>        <span class="k">member</span> <span onmouseout="hideTip(event, 'fstips26', 114)" onmouseover="showTip(event, 'fstips26', 114)" class="i">x</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips47', 115)" onmouseover="showTip(event, 'fstips47', 115)" class="i">TryCancel</span>() <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips61', 116)" onmouseover="showTip(event, 'fstips61', 116)" class="i">cts</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips67', 117)" onmouseover="showTip(event, 'fstips67', 117)" class="i">Cancel</span>() }
<span class="l">12: </span>
<span class="l">13: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Load</span><span class="c"> </span><span class="c">&amp;</span><span class="c"> </span><span class="c">process</span><span class="c"> </span><span class="c">NYSE</span><span class="c"> </span><span class="c">and</span><span class="c"> </span><span class="c">NASDAQ</span><span class="c"> </span><span class="c">data</span>
<span class="l">14: </span>  <span class="k">and</span> <span onmouseout="hideTip(event, 'fstips68', 118)" onmouseover="showTip(event, 'fstips68', 118)" class="i">marketModel</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips69', 119)" onmouseover="showTip(event, 'fstips69', 119)" class="omitted">(...)</span>
<span class="l">15: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Load</span><span class="c"> </span><span class="c">&amp;</span><span class="c"> </span><span class="c">process</span><span class="c"> </span><span class="c">FED</span><span class="c"> </span><span class="c">data</span>
<span class="l">16: </span>  <span class="k">and</span> <span onmouseout="hideTip(event, 'fstips70', 120)" onmouseover="showTip(event, 'fstips70', 120)" class="i">historicalModel</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips71', 121)" onmouseover="showTip(event, 'fstips71', 121)" class="omitted">(...)</span>
<span class="l">17: </span>
<span class="l">18: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Run</span><span class="c"> </span><span class="c">both</span><span class="c"> </span><span class="c">of</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">models</span><span class="c"> </span><span class="c">and</span><span class="c"> </span><span class="c">compare</span><span class="c"> </span><span class="c">them</span><span class="c"> </span><span class="c">to</span><span class="c"> </span><span class="c">get</span><span class="c"> </span><span class="c">recommendation</span>
<span class="l">19: </span>  <span class="k">and</span> <span onmouseout="hideTip(event, 'fstips65', 122)" onmouseover="showTip(event, 'fstips65', 122)" class="i">compare</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips72', 123)" onmouseover="showTip(event, 'fstips72', 123)" class="omitted">(...)</span>
<span class="l">20: </span>
<span class="l">21: </span>  <span class="c">//</span><span class="c"> </span><span class="c">Return</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">created</span><span class="c"> </span><span class="c">engine</span>
<span class="l">22: </span>  <span onmouseout="hideTip(event, 'fstips41', 124)" onmouseover="showTip(event, 'fstips41', 124)" class="i">engine</span><a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
  <p>The computation is constructed in almost the same way as in the <a href="http://tomasp.net/blog/fsharp-parallel-adash.aspx">the 
    previous article</a>. We first create two workflows (<code>marketModel</code> and <code>historicalModel</code>) 
    that construct two models and are called from <code>compare</code> computation in parallel.
    However, there is one important difference to enable automatic cancellation, but we'll discuss
    that in the next section. </p>
  <p>To support cancellation, the function first creates an instance of <code>CancellationTokenSource</code>.
    When starting the workflow, we pass a token from the cancellation source to
    the <code>Async.Start</code> operation. When the user requests cancellation we call the <code>Cancel</code>
    method of the token source. As already discussed, we don't need to explicitly check whether the token
    was set anywhere in the workflow, because this is done automatically. However, we need to write the 
    asynchronous computation in a way that makes this possible.</p>

<h3>Creating computations with cancellation support</h3>
<p>If we pass a cancellation token when starting asynchronous workflow, it will automatically check whether the 
  cancellation was requested around every yield point. A yield point is when the control is transferred from 
  the user code to the workflow to perform an asynchronous operation, which is done either using 
  <code>let!</code>, <code>do!</code> or <code>return!</code> Asynchronous workflow does not attempt to cancel the computation
  actively (e.g. by calling <code>Thread.Abort</code>), because this is considered as dangerous. Instead
  it uses cooperative cancellation, which is deterministic. In practice, this means that if you have a workflow
  that should be cancelled, it should make all calls to non-trivial operations asynchronously (and so all the 
  operations need to be written as asynchronous too). The following example demonstrates this practice
  (some parts are hidden, to make the code shorter, but you can see the idea):
</p>

<pre class="fssnip">
<span class="l"> 1: </span><span class="c">//</span><span class="c"> </span><span class="c">Load</span><span class="c"> </span><span class="c">&amp;</span><span class="c"> </span><span class="c">process</span><span class="c"> </span><span class="c">NYSE</span><span class="c"> </span><span class="c">and</span><span class="c"> </span><span class="c">NASDAQ</span><span class="c"> </span><span class="c">data</span>
<span class="l"> 2: </span><span class="k">and</span> <span onmouseout="hideTip(event, 'fstips68', 125)" onmouseover="showTip(event, 'fstips68', 125)" class="i">marketModel</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips73', 126)" onmouseover="showTip(event, 'fstips73', 126)" class="i">async</span> {
<span class="l"> 3: </span>    <span class="c">//</span><span class="c"> </span><span class="c">Start</span><span class="c"> </span><span class="c">loading</span><span class="c"> </span><span class="c">data</span><span class="c"> </span><span class="c">asynchronously</span><span class="c"> </span><span class="c">in</span><span class="c"> </span><span class="c">background</span>
<span class="l"> 4: </span>    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips74', 127)" onmouseover="showTip(event, 'fstips74', 127)" class="i">nyse</span> <span class="o">=</span> 
<span class="l"> 5: </span>      <span onmouseout="hideTip(event, 'fstips75', 128)" onmouseover="showTip(event, 'fstips75', 128)" class="i">asyncLoadNyseData</span>() 
<span class="l"> 6: </span>        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips63', 129)" onmouseover="showTip(event, 'fstips63', 129)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips76', 130)" onmouseover="showTip(event, 'fstips76', 130)" class="i">WithResult</span> <span onmouseout="hideTip(event, 'fstips41', 131)" onmouseover="showTip(event, 'fstips41', 131)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips77', 132)" onmouseover="showTip(event, 'fstips77', 132)" class="i">TriggerLoadNyseData</span> 
<span class="l"> 7: </span>        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips63', 133)" onmouseover="showTip(event, 'fstips63', 133)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips78', 134)" onmouseover="showTip(event, 'fstips78', 134)" class="i">StartChild</span>
<span class="l"> 8: </span>    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips79', 135)" onmouseover="showTip(event, 'fstips79', 135)" class="i">nasdaq</span> <span class="o">=</span> 
<span class="l"> 9: </span>        <span onmouseout="hideTip(event, 'fstips80', 136)" onmouseover="showTip(event, 'fstips80', 136)" class="i">asyncLoadNasdaqData</span>() 
<span class="l">10: </span>        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips63', 137)" onmouseover="showTip(event, 'fstips63', 137)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips76', 138)" onmouseover="showTip(event, 'fstips76', 138)" class="i">WithResult</span> <span onmouseout="hideTip(event, 'fstips41', 139)" onmouseover="showTip(event, 'fstips41', 139)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips81', 140)" onmouseover="showTip(event, 'fstips81', 140)" class="i">TriggerLoadNasdaqData</span> 
<span class="l">11: </span>        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fstips63', 141)" onmouseover="showTip(event, 'fstips63', 141)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips78', 142)" onmouseover="showTip(event, 'fstips78', 142)" class="i">StartChild</span>
<span class="l">12: </span>
<span class="l">13: </span>    <span onmouseout="hideTip(event, 'fstips82', 143)" onmouseover="showTip(event, 'fstips82', 143)" class="omitted">(waiting for completion and normalization omitted)</span>
<span class="l">14: </span>    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips83', 144)" onmouseover="showTip(event, 'fstips83', 144)" class="i">analyzed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips84', 145)" onmouseover="showTip(event, 'fstips84', 145)" class="i">asyncAnalyzeData</span> <span onmouseout="hideTip(event, 'fstips85', 146)" onmouseover="showTip(event, 'fstips85', 146)" class="i">normalized</span> 
<span class="l">15: </span>    <span onmouseout="hideTip(event, 'fstips41', 147)" onmouseover="showTip(event, 'fstips41', 147)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips86', 148)" onmouseover="showTip(event, 'fstips86', 148)" class="i">TriggerAnalyzeMarketData</span>(<span class="i">analyzed</span>)
<span class="l">16: </span>    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips87', 149)" onmouseover="showTip(event, 'fstips87', 149)" class="i">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips88', 150)" onmouseover="showTip(event, 'fstips88', 150)" class="i">asyncRunModel</span> <span onmouseout="hideTip(event, 'fstips83', 151)" onmouseover="showTip(event, 'fstips83', 151)" class="i">analyzed</span> 
<span class="l">17: </span>    <span onmouseout="hideTip(event, 'fstips41', 152)" onmouseover="showTip(event, 'fstips41', 152)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips52', 153)" onmouseover="showTip(event, 'fstips52', 153)" class="i">TriggerModelMarketData</span>(<span class="i">res</span>)
<span class="l">18: </span>    <span class="k">return</span> <span class="i">res</span> }
<span class="l">19: </span>
<span class="l">20: </span><span class="c">//</span><span class="c"> </span><span class="c">Load</span><span class="c"> </span><span class="c">&amp;</span><span class="c"> </span><span class="c">process</span><span class="c"> </span><span class="c">FED</span><span class="c"> </span><span class="c">data</span>
<span class="l">21: </span><span class="k">and</span> <span onmouseout="hideTip(event, 'fstips70', 154)" onmouseover="showTip(event, 'fstips70', 154)" class="i">historicalModel</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips73', 155)" onmouseover="showTip(event, 'fstips73', 155)" class="i">async</span> {
<span class="l">22: </span>    <span onmouseout="hideTip(event, 'fstips89', 156)" onmouseover="showTip(event, 'fstips89', 156)" class="omitted">(loading and normalization omitted)</span>
<span class="l">23: </span>    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips83', 157)" onmouseover="showTip(event, 'fstips83', 157)" class="i">analyzed</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips84', 158)" onmouseover="showTip(event, 'fstips84', 158)" class="i">asyncAnalyzeData</span> <span onmouseout="hideTip(event, 'fstips85', 159)" onmouseover="showTip(event, 'fstips85', 159)" class="i">normalized</span>
<span class="l">24: </span>    <span onmouseout="hideTip(event, 'fstips41', 160)" onmouseover="showTip(event, 'fstips41', 160)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips90', 161)" onmouseover="showTip(event, 'fstips90', 161)" class="i">TriggerAnalyzeHistoricalData</span>(<span class="i">analyzed</span>)
<span class="l">25: </span>    <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips87', 162)" onmouseover="showTip(event, 'fstips87', 162)" class="i">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips88', 163)" onmouseover="showTip(event, 'fstips88', 163)" class="i">asyncRunModel</span> <span onmouseout="hideTip(event, 'fstips83', 164)" onmouseover="showTip(event, 'fstips83', 164)" class="i">analyzed</span> 
<span class="l">26: </span>    <span onmouseout="hideTip(event, 'fstips41', 165)" onmouseover="showTip(event, 'fstips41', 165)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips55', 166)" onmouseover="showTip(event, 'fstips55', 166)" class="i">TriggerModelHistoricalData</span>(<span class="i">res</span>)
<span class="l">27: </span>    <span class="k">return</span> <span class="i">res</span> }<a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>
<p>In order to write the code in this way, I needed to add a couple of functions to the main module that 
  implements the financial analysis. As you can see, when performing some operation we call functions 
  like <code>asyncAnalyzeData</code> or <code>asyncRunModel</code> instead of the usual <code>analyzeData</code>
  and <code>runModel</code> from the sequential version. These asynchronous versions simply wrap a 
  call to the synchronous version, which means that the workflow can be cancelled only after the 
  underlying operation completes. If we wanted to support cancellation in a more granular way, we'd need
  to modify these functions and insert additional yield points inside them.</p>

<p>When doing a call inside asynchronous workflow
  (e.g. using <code>let!</code> or <code>Async.StartChild</code>), the cancellation token is automatically 
  propagated. However, if you needed to call a long-running operation that isn't itself implemented using asynchronous
  workflows (and you cannot change it), you can use the <code>Async.CancellationToken</code> primitive 
  to get the current token. The following snippet shows a very basic example:</p>

<pre class="fssnip">
<span class="l">1: </span><span class="k">let</span> <span onmouseout="hideTip(event, 'fsctk1', 1)" onmouseover="showTip(event, 'fsctk1', 1)" class="i">work</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fsctk2', 2)" onmouseover="showTip(event, 'fsctk2', 2)" class="i">async</span> { 
<span class="l">2: </span>  <span class="k">let!</span> <span onmouseout="hideTip(event, 'fsctk3', 3)" onmouseover="showTip(event, 'fsctk3', 3)" class="i">tok</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fsctk4', 4)" onmouseover="showTip(event, 'fsctk4', 4)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fsctk5', 5)" onmouseover="showTip(event, 'fsctk5', 5)" class="i">CancellationToken</span>
<span class="l">3: </span>  <span class="k">let</span> <span onmouseout="hideTip(event, 'fsctk6', 6)" onmouseover="showTip(event, 'fsctk6', 6)" class="i">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fsctk7', 7)" onmouseover="showTip(event, 'fsctk7', 7)" class="i">longRunningOp</span> <span onmouseout="hideTip(event, 'fsctk3', 8)" onmouseover="showTip(event, 'fsctk3', 8)" class="i">tok</span> 
<span class="l">4: </span>  <span class="k">return!</span> <span onmouseout="hideTip(event, 'fsctk8', 9)" onmouseover="showTip(event, 'fsctk8', 9)" class="i">asynchronousOp</span> <span onmouseout="hideTip(event, 'fsctk6', 10)" onmouseover="showTip(event, 'fsctk6', 10)" class="i">res</span> }<a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>

<p>The computation starts by getting a cancellation token (which is an asynchronous operation, because it
  is available only in the asynchronous context) and then calls the <code>longRunningOp</code> with the
  token as an argument. The operation returns some value (and may return early if the cancellation was
  triggered). When the cancellation is triggered, the asynchronous workflow will be cancelled at the next
  yield point (in this case the <code>return!</code> call) and so the rest of the workflow will not be 
  executed. Note that we're not notified about the cancellation <em>inside</em> the workflow in any way
  (because it just stops running). The reaction to the cancellation has to be provided more explicitly...</p> 
  
<h3>Handling cancellation</h3>
<p>Let's get back to our example with financial modeling. When the workflow is cancelled, we want to 
  call the <code>TriggerCompareModels</code> method with a <code>None</code> value as the argument, so 
  that the user interface can react. We'll add cancellation handling to the main workflow <code>compare</code>,
  which also uses <code>try</code>...<code>with</code> construct to handle exceptions that may 
  occur during the modeling. Unlike exception handling, there is no built-in construct to handle
  cancellation, so we'll need to write the handling using a method call. This can be done using
  <code>Async.TryCancelled</code>:</p>

<pre class="fssnip">
<span class="l"> 1: </span><span class="c">//</span><span class="c"> </span><span class="c">When</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">workflow</span><span class="c"> </span><span class="c">is</span><span class="c"> </span><span class="c">cancelled,</span><span class="c"> </span><span class="c">return</span><span class="c"> </span><span class="c">'None'</span><span class="c"> </span><span class="c">as</span><span class="c"> </span><span class="c">the</span><span class="c"> </span><span class="c">result</span>
<span class="l"> 2: </span><span class="k">and</span> <span onmouseout="hideTip(event, 'fstips65', 167)" onmouseover="showTip(event, 'fstips65', 167)" class="i">compare</span> <span class="o">=</span> 
<span class="l"> 3: </span>  <span onmouseout="hideTip(event, 'fstips63', 168)" onmouseover="showTip(event, 'fstips63', 168)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips91', 169)" onmouseover="showTip(event, 'fstips91', 169)" class="i">TryCancelled</span>
<span class="l"> 4: </span>    (<span onmouseout="hideTip(event, 'fstips73', 170)" onmouseover="showTip(event, 'fstips73', 170)" class="i">async</span> {
<span class="l"> 5: </span>      <span class="k">try</span>
<span class="l"> 6: </span>          <span class="k">let!</span> <span onmouseout="hideTip(event, 'fstips92', 171)" onmouseover="showTip(event, 'fstips92', 171)" class="i">models</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips63', 172)" onmouseover="showTip(event, 'fstips63', 172)" class="i">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips93', 173)" onmouseover="showTip(event, 'fstips93', 173)" class="i">Parallel</span> [ <span onmouseout="hideTip(event, 'fstips68', 174)" onmouseover="showTip(event, 'fstips68', 174)" class="i">marketModel</span>; <span onmouseout="hideTip(event, 'fstips70', 175)" onmouseover="showTip(event, 'fstips70', 175)" class="i">historicalModel</span> ]
<span class="l"> 7: </span>          <span class="k">let</span> <span onmouseout="hideTip(event, 'fstips94', 176)" onmouseover="showTip(event, 'fstips94', 176)" class="i">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fstips57', 177)" onmouseover="showTip(event, 'fstips57', 177)" class="i">compareModels</span> <span onmouseout="hideTip(event, 'fstips92', 178)" onmouseover="showTip(event, 'fstips92', 178)" class="i">models</span> 
<span class="l"> 8: </span>          <span onmouseout="hideTip(event, 'fstips41', 179)" onmouseover="showTip(event, 'fstips41', 179)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips58', 180)" onmouseover="showTip(event, 'fstips58', 180)" class="i">TriggerCompareModels</span>(<span onmouseout="hideTip(event, 'fstips59', 181)" onmouseover="showTip(event, 'fstips59', 181)" class="i">Some</span> <span onmouseout="hideTip(event, 'fstips94', 182)" onmouseover="showTip(event, 'fstips94', 182)" class="i">res</span>)
<span class="l"> 9: </span>      <span class="k">with</span> <span onmouseout="hideTip(event, 'fstips95', 183)" onmouseover="showTip(event, 'fstips95', 183)" class="i">e</span> <span class="k">-&gt;</span>
<span class="l">10: </span>          <span onmouseout="hideTip(event, 'fstips41', 184)" onmouseover="showTip(event, 'fstips41', 184)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips96', 185)" onmouseover="showTip(event, 'fstips96', 185)" class="i">TriggerErrorHandler</span>()  },
<span class="l">11: </span>      <span class="k">fun</span> <span onmouseout="hideTip(event, 'fstips97', 186)" onmouseover="showTip(event, 'fstips97', 186)" class="i">ce</span> <span class="k">-&gt;</span> 
<span class="l">12: </span>          <span onmouseout="hideTip(event, 'fstips41', 187)" onmouseover="showTip(event, 'fstips41', 187)" class="i">engine</span><span class="o">.</span><span onmouseout="hideTip(event, 'fstips58', 188)" onmouseover="showTip(event, 'fstips58', 188)" class="i">TriggerCompareModels</span>(<span onmouseout="hideTip(event, 'fstips98', 189)" onmouseover="showTip(event, 'fstips98', 189)" class="i">None</span>))<a target="_blank" class="fssniplink" href="http://tomasp.net/fswebsnippets">F# Web Snippets</a>
</pre>

<p>The <code>TryCancelled</code> operation takes an asynchronous workflow as the first argument
  and a compensation function as the second. It returns a new workflow that runs the wrapped 
  workflow and when a cancellation occurs in the wrapped workflow, it calls the provided 
  compensation function. In the example above, we combine the call with the <code>try</code>...<code>with</code>
  construct to handle all possible "wrong situations". </p>
<p>The overall behavior of the computation if nothing wrong happens is that it runs and compares the two 
  financial models and report the result to the GUI. When some part of the computation fails (and throws an
  exception), the workflow calls the <code>TriggerErrorHandler</code> (to notify GUI about an error) and 
  when the operation is cancelled (by the user) the workflow calls <code>TriggerCompareModels</code> with 
  empty result as the argument.</p>

<h2>Summary</h2>
<p>In this article, we looked at an improved F# version of the Financial dashboard example from the
  <a href="http://parallelpatterns.codeplex.com/" type="external">Parallel Programming with Microsoft .NET</a> book. 
  We started with a version <a href="http://tomasp.net/blog/fsharp-parallel-adash.aspx">discussed in my earlier article
  </a>, did a minor refactoring to make reporting progress to the user interface easier and used this 
  change to write a sequential version of the code that can be actually started. More interestingly, we also
  discussed the problem of cancellation in F# asynchronous workflows. Unlike .NET 4.0 tasks, asynchronous
  workflows support automatic (cooperative) cancellation. The basic steps to support cancellation that we
  demonstrated are:
</p>
<ul>
  <li><strong>Make all long-running calls asynchronous</strong> - asynchronous workflow can cancel itself
    only at yield points (e.g. <code>let!</code>, <code>do!</code> and <code>return!</code>), so we 
    need to provide enough of these in our code, so that the workflow can check for cancellation after
    every primitive step. This essentially means that we should write most of our operations as
    asynchronous workflows.</li>
  <li><strong>Create cancellation token and pass it to <code>Async.Start</code></strong> - if we 
    want to cancel a workflow, we just need to create a cancellation token (using the <code>CancellationTokenSource</code>
    class from .NET 4.0) and pass it as an argument to the <code>Start</code> method. 
    To cancel the running workflow, we can just call <code>Cancel</code> method of the token source.</li>
  <li><strong>Handle cancellation using <code>TryCancelled</code></strong> - if we want to 
    provide some code that will be executed after the workflow is cancelled, we can use the
    <code>Async.TryCancelled</code> method. This works in a similar way as <code>try</code>...<code>with</code>
    construct, but it has to be written explicitly, because there is no syntactic support for
    handling cancellation.</li>
</ul>


<h2>Source Code</h2>
<ul>
  <li>Download <a href="http://tomasp.net/articles/parallel-extra/parallelextras.zip">F# Parallel Extras samples</a> (ZIP)</li>
  <li>Get the latest version of samples from <a href="http://fsharpsamples.codeplex.com/" type="external">F# Community Samples</a> at CodePlex</li></ul>

<!-- HTML code for ToolTips -->
<div class="tip" id="fsctk1">val work : Async&lt;int&gt;<br /><br />Full name: Untitled.work<br /></div>
<div class="tip" id="fsctk2">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async<br /></div>
<div class="tip" id="fsctk3">val tok : CancellationToken<br /><br />&#160;&#160;type: CancellationToken<br />&#160;&#160;inherits: ValueType<br /></div>
<div class="tip" id="fsctk4">Multiple items
<br />type Async&lt;'T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;
<br /><br />--------------------<br />
<br />type Async<br />with<br />&#160;&#160;static member AsBeginEnd : computation:('Arg -&gt; Async&lt;'T&gt;) -&gt; ('Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; 'T) * (IAsyncResult -&gt; unit)<br />&#160;&#160;static member AwaitEvent : event:IEvent&lt;'Del,'T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt; (requires delegate and 'Del :&gt; Delegate)<br />&#160;&#160;static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member AwaitTask : task:Tasks.Task&lt;'T&gt; -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member CancelDefaultToken : unit -&gt; unit<br />&#160;&#160;static member Catch : computation:Async&lt;'T&gt; -&gt; Async&lt;Choice&lt;'T,exn&gt;&gt;<br />&#160;&#160;static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromBeginEnd : arg:'Arg1 * beginAction:('Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromBeginEnd : arg1:'Arg1 * arg2:'Arg2 * beginAction:('Arg1 * 'Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromBeginEnd : arg1:'Arg1 * arg2:'Arg2 * arg3:'Arg3 * beginAction:('Arg1 * 'Arg2 * 'Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromContinuations : callback:(('T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member Ignore : computation:Async&lt;'T&gt; -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />&#160;&#160;static member Parallel : computations:seq&lt;Async&lt;'T&gt;&gt; -&gt; Async&lt;'T []&gt;<br />&#160;&#160;static member RunSynchronously : computation:Async&lt;'T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; 'T<br />&#160;&#160;static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />&#160;&#160;static member StartAsTask : computation:Async&lt;'T&gt; * ?taskCreationOptions:Tasks.TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Tasks.Task&lt;'T&gt;<br />&#160;&#160;static member StartChild : computation:Async&lt;'T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;'T&gt;&gt;<br />&#160;&#160;static member StartChildAsTask : computation:Async&lt;'T&gt; * ?taskCreationOptions:Tasks.TaskCreationOptions -&gt; Async&lt;Tasks.Task&lt;'T&gt;&gt;<br />&#160;&#160;static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />&#160;&#160;static member StartWithContinuations : computation:Async&lt;'T&gt; * continuation:('T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />&#160;&#160;static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member TryCancelled : computation:Async&lt;'T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member CancellationToken : Async&lt;CancellationToken&gt;<br />&#160;&#160;static member DefaultCancellationToken : CancellationToken<br />end<br /><br />Full name: Microsoft.FSharp.Control.Async<br /></div>
<div class="tip" id="fsctk5">property Async.CancellationToken: Async&lt;CancellationToken&gt;<br /></div>
<div class="tip" id="fsctk6">val res : int<br /><br />&#160;&#160;type: int<br />&#160;&#160;implements: IComparable<br />&#160;&#160;implements: IFormattable<br />&#160;&#160;implements: IConvertible<br />&#160;&#160;implements: IComparable&lt;int&gt;<br />&#160;&#160;implements: IEquatable&lt;int&gt;<br />&#160;&#160;inherits: ValueType<br /></div>
<div class="tip" id="fsctk7">val longRunningOp : CancellationToken -&gt; int<br /><br />Full name: Untitled.longRunningOp<br /></div>
<div class="tip" id="fsctk8">val asynchronousOp : int -&gt; Async&lt;int&gt;<br /><br />Full name: Untitled.asynchronousOp<br /></div>

<div class="tip" id="fstips1">type AbstractClassAttribute =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;inherit Attribute<br />&#160;&#160;&#160;&#160;new : unit -&gt; AbstractClassAttribute<br />&#160;&#160;end<br /><br />Full name: Microsoft.FSharp.Core.AbstractClassAttribute<br /><br />&#160;&#160;type: AbstractClassAttribute<br />&#160;&#160;implements: Runtime.InteropServices._Attribute<br />&#160;&#160;inherits: Attribute<br /></div>
<div class="tip" id="fstips2">type AnalysisProcess =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : unit -&gt; AnalysisProcess<br />&#160;&#160;&#160;&#160;abstract member Start : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member TryCancel : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerAnalyzeHistoricalData : v:StockAnalysisCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerAnalyzeMarketData : v:StockAnalysisCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerCompareModels : v:MarketRecommendation option -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerErrorHandler : v:unit -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerLoadFedHistoricalData : v:StockDataCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerLoadNasdaqData : v:StockDataCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerLoadNyseData : v:StockDataCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerMergeMarketData : v:StockDataCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerModelHistoricalData : v:MarketModel -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerModelMarketData : v:MarketModel -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerNormalizeHistoricalData : v:StockDataCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member TriggerNormalizeMarketData : v:StockDataCollection -&gt; unit<br />&#160;&#160;&#160;&#160;member AnalyzeHistoricalData : IEvent&lt;StockAnalysisCollection&gt;<br />&#160;&#160;&#160;&#160;member AnalyzeMarketData : IEvent&lt;StockAnalysisCollection&gt;<br />&#160;&#160;&#160;&#160;member CompareModels : IEvent&lt;MarketRecommendation option&gt;<br />&#160;&#160;&#160;&#160;member ErrorHandler : IEvent&lt;unit&gt;<br />&#160;&#160;&#160;&#160;member LoadFedHistoricalData : IEvent&lt;StockDataCollection&gt;<br />&#160;&#160;&#160;&#160;member LoadNasdaqData : IEvent&lt;StockDataCollection&gt;<br />&#160;&#160;&#160;&#160;member LoadNyseData : IEvent&lt;StockDataCollection&gt;<br />&#160;&#160;&#160;&#160;member MergeMarketData : IEvent&lt;StockDataCollection&gt;<br />&#160;&#160;&#160;&#160;member ModelHistoricalData : IEvent&lt;MarketModel&gt;<br />&#160;&#160;&#160;&#160;member ModelMarketData : IEvent&lt;MarketModel&gt;<br />&#160;&#160;&#160;&#160;member NormalizeHistoricalData : IEvent&lt;StockDataCollection&gt;<br />&#160;&#160;&#160;&#160;member NormalizeMarketData : IEvent&lt;StockDataCollection&gt;<br />&#160;&#160;end<br /><br />Full name: Untitled.AnalysisProcess
<br /><br /><em>Abstract class that allows the ViewModel component to react to completion<br />&#160;of a task or asynchronous workflow running in background.<br />&#160;This type is returned from AnalysisEnginge from 'DoAnalysis' method</em><br /></div>
<div class="tip" id="fstips3">val guiDispatch : Windows.Threading.Dispatcher<br /></div>
<div class="tip" id="fstips4">namespace System.Windows<br /></div>
<div class="tip" id="fstips5">namespace System.Windows.Threading<br /></div>
<div class="tip" id="fstips6">type Dispatcher =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;member BeginInvoke : System.Windows.Threading.DispatcherPriority * System.Delegate -&gt; System.Windows.Threading.DispatcherOperation<br />&#160;&#160;&#160;&#160;member BeginInvoke : System.Delegate * obj [] -&gt; System.Windows.Threading.DispatcherOperation<br />&#160;&#160;&#160;&#160;member BeginInvoke : System.Windows.Threading.DispatcherPriority * System.Delegate * obj -&gt; System.Windows.Threading.DispatcherOperation<br />&#160;&#160;&#160;&#160;member BeginInvoke : System.Delegate * System.Windows.Threading.DispatcherPriority * obj [] -&gt; System.Windows.Threading.DispatcherOperation<br />&#160;&#160;&#160;&#160;member BeginInvoke : System.Windows.Threading.DispatcherPriority * System.Delegate * obj * obj [] -&gt; System.Windows.Threading.DispatcherOperation<br />&#160;&#160;&#160;&#160;member BeginInvokeShutdown : System.Windows.Threading.DispatcherPriority -&gt; unit<br />&#160;&#160;&#160;&#160;member CheckAccess : unit -&gt; bool<br />&#160;&#160;&#160;&#160;member DisableProcessing : unit -&gt; System.Windows.Threading.DispatcherProcessingDisabled<br />&#160;&#160;&#160;&#160;member HasShutdownFinished : bool<br />&#160;&#160;&#160;&#160;member HasShutdownStarted : bool<br />&#160;&#160;&#160;&#160;member Hooks : System.Windows.Threading.DispatcherHooks<br />&#160;&#160;&#160;&#160;member Invoke : System.Windows.Threading.DispatcherPriority * System.Delegate -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Delegate * obj [] -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Windows.Threading.DispatcherPriority * System.Delegate * obj -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Windows.Threading.DispatcherPriority * System.TimeSpan * System.Delegate -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Delegate * System.Windows.Threading.DispatcherPriority * obj [] -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Delegate * System.TimeSpan * obj [] -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Windows.Threading.DispatcherPriority * System.Delegate * obj * obj [] -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Windows.Threading.DispatcherPriority * System.TimeSpan * System.Delegate * obj -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Delegate * System.TimeSpan * System.Windows.Threading.DispatcherPriority * obj [] -&gt; obj<br />&#160;&#160;&#160;&#160;member Invoke : System.Windows.Threading.DispatcherPriority * System.TimeSpan * System.Delegate * obj * obj [] -&gt; obj<br />&#160;&#160;&#160;&#160;member InvokeShutdown : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member Thread : System.Threading.Thread<br />&#160;&#160;&#160;&#160;member VerifyAccess : unit -&gt; unit<br />&#160;&#160;&#160;&#160;static member CurrentDispatcher : System.Windows.Threading.Dispatcher<br />&#160;&#160;&#160;&#160;static member ExitAllFrames : unit -&gt; unit<br />&#160;&#160;&#160;&#160;static member FromThread : System.Threading.Thread -&gt; System.Windows.Threading.Dispatcher<br />&#160;&#160;&#160;&#160;static member PushFrame : System.Windows.Threading.DispatcherFrame -&gt; unit<br />&#160;&#160;&#160;&#160;static member Run : unit -&gt; unit<br />&#160;&#160;&#160;&#160;static member ValidatePriority : System.Windows.Threading.DispatcherPriority * string -&gt; unit<br />&#160;&#160;end<br /><br />Full name: System.Windows.Threading.Dispatcher<br /></div>
<div class="tip" id="fstips7">property Windows.Threading.Dispatcher.CurrentDispatcher: Windows.Threading.Dispatcher<br /></div>
<div class="tip" id="fstips8">val triggerGuiEvent : (Event&lt;'a&gt; -&gt; 'a -&gt; unit)<br /></div>
<div class="tip" id="fstips9">val e : Event&lt;'a&gt;<br /></div>
<div class="tip" id="fstips10">Multiple items
<br />module Event<br /><br />from Microsoft.FSharp.Control
<br /><br />--------------------<br />
<br />type Event&lt;'Delegate,'Args (requires delegate and 'Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : unit -&gt; Event&lt;'Delegate,'Args&gt;<br />&#160;&#160;&#160;&#160;member Trigger : sender:obj * args:'Args -&gt; unit<br />&#160;&#160;&#160;&#160;member Publish : IEvent&lt;'Delegate,'Args&gt;<br />&#160;&#160;end<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_,_&gt;
<br /><br />--------------------<br />
<br />type Event&lt;'T&gt; =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : unit -&gt; Event&lt;'T&gt;<br />&#160;&#160;&#160;&#160;member Trigger : arg:'T -&gt; unit<br />&#160;&#160;&#160;&#160;member Publish : IEvent&lt;'T&gt;<br />&#160;&#160;end<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_&gt;<br /></div>
<div class="tip" id="fstips11">val v : 'a<br /></div>
<div class="tip" id="fstips12">Multiple overloads
<br />Windows.Threading.Dispatcher.Invoke(method: Delegate, args: obj []) : obj
<br />Windows.Threading.Dispatcher.Invoke(priority: Windows.Threading.DispatcherPriority, method: Delegate) : obj
<br />Windows.Threading.Dispatcher.Invoke(method: Delegate, timeout: TimeSpan, args: obj []) : obj
<br />Windows.Threading.Dispatcher.Invoke(method: Delegate, priority: Windows.Threading.DispatcherPriority, args: obj []) : obj
<br />Windows.Threading.Dispatcher.Invoke(priority: Windows.Threading.DispatcherPriority, timeout: TimeSpan, method: Delegate) : obj
<br />Windows.Threading.Dispatcher.Invoke(priority: Windows.Threading.DispatcherPriority, method: Delegate, arg: obj) : obj
<br />Windows.Threading.Dispatcher.Invoke(method: Delegate, timeout: TimeSpan, priority: Windows.Threading.DispatcherPriority, args: obj []) : obj
<br />Windows.Threading.Dispatcher.Invoke(priority: Windows.Threading.DispatcherPriority, timeout: TimeSpan, method: Delegate, arg: obj) : obj
<br />Windows.Threading.Dispatcher.Invoke(priority: Windows.Threading.DispatcherPriority, method: Delegate, arg: obj, args: obj []) : obj
<br />Windows.Threading.Dispatcher.Invoke(priority: Windows.Threading.DispatcherPriority, timeout: TimeSpan, method: Delegate, arg: obj, args: obj []) : obj<br /></div>
<div class="tip" id="fstips13">Multiple items
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13,'T14,'T15,'T16&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 * 'T11 * 'T12 * 'T13 * 'T14 * 'T15 * 'T16 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13,'T14,'T15,'T16&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13,'T14,'T15&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 * 'T11 * 'T12 * 'T13 * 'T14 * 'T15 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13,'T14,'T15&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13,'T14&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 * 'T11 * 'T12 * 'T13 * 'T14 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13,'T14&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 * 'T11 * 'T12 * 'T13 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12,'T13&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 * 'T11 * 'T12 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11,'T12&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 * 'T11 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10,'T11&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 * 'T10 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9,'T10&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 * 'T9 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8,'T9&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 * 'T8 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7,'T8&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 * 'T7 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6,'T7&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5,'T6&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 * 'T6 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5,'T6&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4,'T5&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 * 'T5 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4,'T5&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3,'T4&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 * 'T4 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3,'T4&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2,'T3&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 * 'T3 -&gt; unit<br /><br />Full name: System.Action&lt;_,_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2,'T3&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T1,'T2&gt; =<br />&#160;&#160;delegate of 'T1 * 'T2 -&gt; unit<br /><br />Full name: System.Action&lt;_,_&gt;<br /><br />&#160;&#160;type: Action&lt;'T1,'T2&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action&lt;'T&gt; =<br />&#160;&#160;delegate of 'T -&gt; unit<br /><br />Full name: System.Action&lt;_&gt;<br /><br />&#160;&#160;type: Action&lt;'T&gt;<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />type Action =<br />&#160;&#160;delegate of unit -&gt; unit<br /><br />Full name: System.Action<br /><br />&#160;&#160;type: Action<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;inherits: MulticastDelegate<br />&#160;&#160;inherits: Delegate<br />
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; 'T11 -&gt; 'T12 -&gt; 'T13 -&gt; 'T14 -&gt; 'T15 -&gt; 'T16 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; 'T11 -&gt; 'T12 -&gt; 'T13 -&gt; 'T14 -&gt; 'T15 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; 'T11 -&gt; 'T12 -&gt; 'T13 -&gt; 'T14 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; 'T11 -&gt; 'T12 -&gt; 'T13 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; 'T11 -&gt; 'T12 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; 'T11 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; 'T10 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; 'T9 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; 'T8 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; 'T7 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; 'T6 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; 'T5 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; 'T4 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; 'T3 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T1 -&gt; 'T2 -&gt; unit)
<br /><br />--------------------<br />
<br />Action('T -&gt; unit)
<br /><br />--------------------<br />
<br />Action(unit -&gt; unit)<br /></div>
<div class="tip" id="fstips14">member Event.Trigger : arg:'T -&gt; unit<br /></div>
<div class="tip" id="fstips15">val ignore : 'T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore<br /></div>
<div class="tip" id="fstips16">val loadNyseDataEvt : Event&lt;StockDataCollection&gt;<br /></div>
<div class="tip" id="fstips17">type StockDataCollection =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;inherit Collections.ObjectModel.ReadOnlyCollection&lt;StockData&gt;<br />&#160;&#160;&#160;&#160;new : data:Collections.Generic.IList&lt;StockData&gt; -&gt; StockDataCollection<br />&#160;&#160;end<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.BusinessObjects.StockDataCollection<br /><br />&#160;&#160;type: StockDataCollection<br />&#160;&#160;implements: Collections.Generic.IList&lt;StockData&gt;<br />&#160;&#160;implements: Collections.Generic.ICollection&lt;StockData&gt;<br />&#160;&#160;implements: seq&lt;StockData&gt;<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Collections.ObjectModel.ReadOnlyCollection&lt;StockData&gt;<br />
<br /><br /><em>A data set with time series price information for various financial assets</em><br /></div>
<div class="tip" id="fstips18">val compareModelsEvt : Event&lt;MarketRecommendation option&gt;<br /></div>
<div class="tip" id="fstips19">type MarketRecommendation =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : recommendation:string -&gt; MarketRecommendation<br />&#160;&#160;&#160;&#160;member Value : string<br />&#160;&#160;end<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.BusinessObjects.MarketRecommendation<br /></div>
<div class="tip" id="fstips20">type 'T option = Option&lt;'T&gt;<br /><br />Full name: Microsoft.FSharp.Core.option&lt;_&gt;<br /><br />&#160;&#160;type: 'T option<br />&#160;&#160;implements: Collections.IStructuralEquatable<br />&#160;&#160;implements: IComparable&lt;Option&lt;'T&gt;&gt;<br />&#160;&#160;implements: IComparable<br />&#160;&#160;implements: Collections.IStructuralComparable<br /></div>
<div class="tip" id="fstips21">val errorHandlerEvt : Event&lt;unit&gt;<br /></div>
<div class="tip" id="fstips22">type unit = Unit<br /><br />Full name: Microsoft.FSharp.Core.unit<br /><br />&#160;&#160;type: unit<br />&#160;&#160;implements: IComparable<br /></div>
<div class="tip" id="fstips23">let loadNasdaqDataEvt = new Event&lt;StockDataCollection&gt;()<br />let mergeMarketDataEvt = new Event&lt;StockDataCollection&gt;()<br />let normalizeMarketDataEvt = new Event&lt;StockDataCollection&gt;()<br />let loadFedHistoricalDataEvt = new Event&lt;StockDataCollection&gt;()<br />let normalizeHistoricalDataEvt = new Event&lt;StockDataCollection&gt;()<br />let analyzeMarketDataEvt = new Event&lt;StockAnalysisCollection&gt;()<br />let analyzeHistoricalDataEvt = new Event&lt;StockAnalysisCollection&gt;()<br />let modelMarketDataEvt = new Event&lt;MarketModel&gt;()<br />let modelHistoricalDataEvt = new Event&lt;MarketModel&gt;()<br /></div>
<div class="tip" id="fstips24">abstract member AnalysisProcess.Start : unit -&gt; unit<br /><br />Full name: Untitled.AnalysisProcess.Start
<br /><br /><em>Start the analysis (to be used after handlers are registered)</em><br /></div>
<div class="tip" id="fstips25">abstract member AnalysisProcess.TryCancel : unit -&gt; unit<br /><br />Full name: Untitled.AnalysisProcess.TryCancel
<br /><br /><em>Try to cancel the process (if it has been already started)</em><br /></div>
<div class="tip" id="fstips26">val x : AnalysisProcess<br /></div>
<div class="tip" id="fstips27">member AnalysisProcess.LoadNyseData : IEvent&lt;StockDataCollection&gt;<br /><br />Full name: Untitled.AnalysisProcess.LoadNyseData<br /></div>
<div class="tip" id="fstips28">property Event.Publish: IEvent&lt;StockDataCollection&gt;<br /></div>
<div class="tip" id="fstips29">member AnalysisProcess.CompareModels : IEvent&lt;MarketRecommendation option&gt;<br /><br />Full name: Untitled.AnalysisProcess.CompareModels<br /></div>
<div class="tip" id="fstips30">property Event.Publish: IEvent&lt;MarketRecommendation option&gt;<br /></div>
<div class="tip" id="fstips31">member AnalysisProcess.ErrorHandler : IEvent&lt;unit&gt;<br /><br />Full name: Untitled.AnalysisProcess.ErrorHandler<br /></div>
<div class="tip" id="fstips32">property Event.Publish: IEvent&lt;unit&gt;<br /></div>
<div class="tip" id="fstips33">member AnalysisProcess.TriggerLoadNyseData : v:StockDataCollection -&gt; unit<br /><br />Full name: Untitled.AnalysisProcess.TriggerLoadNyseData<br /></div>
<div class="tip" id="fstips34">val v : StockDataCollection<br /><br />&#160;&#160;type: StockDataCollection<br />&#160;&#160;implements: Collections.Generic.IList&lt;StockData&gt;<br />&#160;&#160;implements: Collections.Generic.ICollection&lt;StockData&gt;<br />&#160;&#160;implements: seq&lt;StockData&gt;<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Collections.ObjectModel.ReadOnlyCollection&lt;StockData&gt;<br /></div>
<div class="tip" id="fstips35">member AnalysisProcess.TriggerCompareModels : v:MarketRecommendation option -&gt; unit<br /><br />Full name: Untitled.AnalysisProcess.TriggerCompareModels<br /></div>
<div class="tip" id="fstips36">val v : MarketRecommendation option<br /><br />&#160;&#160;type: MarketRecommendation option<br />&#160;&#160;implements: Collections.IStructuralEquatable<br />&#160;&#160;implements: IComparable&lt;Option&lt;MarketRecommendation&gt;&gt;<br />&#160;&#160;implements: IComparable<br />&#160;&#160;implements: Collections.IStructuralComparable<br /></div>
<div class="tip" id="fstips37">member AnalysisProcess.TriggerErrorHandler : v:unit -&gt; unit<br /><br />Full name: Untitled.AnalysisProcess.TriggerErrorHandler<br /></div>
<div class="tip" id="fstips38">val v : unit<br /><br />&#160;&#160;type: unit<br />&#160;&#160;implements: IComparable<br /></div>
<div class="tip" id="fstips39">member x.LoadNasdaqData = loadNasdaqDataEvt.Publish<br />member x.MergeMarketData = mergeMarketDataEvt.Publish<br />member x.NormalizeMarketData = normalizeMarketDataEvt.Publish<br />member x.LoadFedHistoricalData = loadFedHistoricalDataEvt.Publish<br />member x.NormalizeHistoricalData = normalizeHistoricalDataEvt.Publish<br />member x.AnalyzeMarketData = analyzeMarketDataEvt.Publish<br />member x.AnalyzeHistoricalData = analyzeHistoricalDataEvt.Publish<br />member x.ModelMarketData = modelMarketDataEvt.Publish<br />member x.ModelHistoricalData = modelHistoricalDataEvt.Publish<br /><br />member x.TriggerLoadNasdaqData(v) = triggerGuiEvent loadNasdaqDataEvt v<br />member x.TriggerMergeMarketData(v) = triggerGuiEvent mergeMarketDataEvt v<br />member x.TriggerNormalizeMarketData(v) = triggerGuiEvent normalizeMarketDataEvt v<br />member x.TriggerLoadFedHistoricalData(v) = triggerGuiEvent loadFedHistoricalDataEvt v<br />member x.TriggerNormalizeHistoricalData(v) = triggerGuiEvent normalizeHistoricalDataEvt v<br />member x.TriggerAnalyzeMarketData(v) = triggerGuiEvent analyzeMarketDataEvt v<br />member x.TriggerAnalyzeHistoricalData(v) = triggerGuiEvent analyzeHistoricalDataEvt v<br />member x.TriggerModelMarketData(v) = triggerGuiEvent modelMarketDataEvt v<br />member x.TriggerModelHistoricalData(v) = triggerGuiEvent modelHistoricalDataEvt v<br /></div>
<div class="tip" id="fstips40">val sequentialAnalysis : (unit -&gt; AnalysisProcess)<br /></div>
<div class="tip" id="fstips41">val engine : AnalysisProcess<br /></div>
<div class="tip" id="fstips42">abstract member AnalysisProcess.Start : unit -&gt; unit
<br /><br /><em>Start the analysis (to be used after handlers are registered)</em><br /></div>
<div class="tip" id="fstips43">Multiple items
<br />type Task&lt;'TResult&gt; =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;inherit System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Func&lt;'TResult&gt; -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;'TResult&gt; * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;'TResult&gt; * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;'TResult&gt; * System.Threading.CancellationToken * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;obj,'TResult&gt; * obj -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;obj,'TResult&gt; * obj * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;obj,'TResult&gt; * obj * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;new : System.Func&lt;obj,'TResult&gt; * obj * System.Threading.CancellationToken * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&lt;'TResult&gt;&gt; -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TNewResult&gt; : System.Func&lt;System.Threading.Tasks.Task&lt;'TResult&gt;,'TNewResult&gt; -&gt; System.Threading.Tasks.Task&lt;'TNewResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&lt;'TResult&gt;&gt; * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&lt;'TResult&gt;&gt; * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&lt;'TResult&gt;&gt; * System.Threading.Tasks.TaskContinuationOptions -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TNewResult&gt; : System.Func&lt;System.Threading.Tasks.Task&lt;'TResult&gt;,'TNewResult&gt; * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task&lt;'TNewResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TNewResult&gt; : System.Func&lt;System.Threading.Tasks.Task&lt;'TResult&gt;,'TNewResult&gt; * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task&lt;'TNewResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TNewResult&gt; : System.Func&lt;System.Threading.Tasks.Task&lt;'TResult&gt;,'TNewResult&gt; * System.Threading.Tasks.TaskContinuationOptions -&gt; System.Threading.Tasks.Task&lt;'TNewResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&lt;'TResult&gt;&gt; * System.Threading.CancellationToken * System.Threading.Tasks.TaskContinuationOptions * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TNewResult&gt; : System.Func&lt;System.Threading.Tasks.Task&lt;'TResult&gt;,'TNewResult&gt; * System.Threading.CancellationToken * System.Threading.Tasks.TaskContinuationOptions * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task&lt;'TNewResult&gt;<br />&#160;&#160;&#160;&#160;member Result : 'TResult with get, set<br />&#160;&#160;&#160;&#160;static member Factory : System.Threading.Tasks.TaskFactory&lt;'TResult&gt;<br />&#160;&#160;end<br /><br />Full name: System.Threading.Tasks.Task&lt;_&gt;<br /><br />&#160;&#160;type: Task&lt;'TResult&gt;<br />&#160;&#160;implements: IThreadPoolWorkItem<br />&#160;&#160;implements: IAsyncResult<br />&#160;&#160;implements: IDisposable<br />&#160;&#160;inherits: Task<br />
<br /><br />--------------------<br />
<br />type Task =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : System.Action -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action * System.Threading.CancellationToken * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action&lt;obj&gt; * obj -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action&lt;obj&gt; * obj * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action&lt;obj&gt; * obj * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;new : System.Action&lt;obj&gt; * obj * System.Threading.CancellationToken * System.Threading.Tasks.TaskCreationOptions -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member AsyncState : obj<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&gt; -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TResult&gt; : System.Func&lt;System.Threading.Tasks.Task,'TResult&gt; -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&gt; * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&gt; * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&gt; * System.Threading.Tasks.TaskContinuationOptions -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TResult&gt; : System.Func&lt;System.Threading.Tasks.Task,'TResult&gt; * System.Threading.CancellationToken -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TResult&gt; : System.Func&lt;System.Threading.Tasks.Task,'TResult&gt; * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TResult&gt; : System.Func&lt;System.Threading.Tasks.Task,'TResult&gt; * System.Threading.Tasks.TaskContinuationOptions -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;member ContinueWith : System.Action&lt;System.Threading.Tasks.Task&gt; * System.Threading.CancellationToken * System.Threading.Tasks.TaskContinuationOptions * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task<br />&#160;&#160;&#160;&#160;member ContinueWith&lt;'TResult&gt; : System.Func&lt;System.Threading.Tasks.Task,'TResult&gt; * System.Threading.CancellationToken * System.Threading.Tasks.TaskContinuationOptions * System.Threading.Tasks.TaskScheduler -&gt; System.Threading.Tasks.Task&lt;'TResult&gt;<br />&#160;&#160;&#160;&#160;member CreationOptions : System.Threading.Tasks.TaskCreationOptions<br />&#160;&#160;&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member Exception : System.AggregateException<br />&#160;&#160;&#160;&#160;member Id : int<br />&#160;&#160;&#160;&#160;member IsCanceled : bool<br />&#160;&#160;&#160;&#160;member IsCompleted : bool<br />&#160;&#160;&#160;&#160;member IsFaulted : bool<br />&#160;&#160;&#160;&#160;member RunSynchronously : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member RunSynchronously : System.Threading.Tasks.TaskScheduler -&gt; unit<br />&#160;&#160;&#160;&#160;member Start : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member Start : System.Threading.Tasks.TaskScheduler -&gt; unit<br />&#160;&#160;&#160;&#160;member Status : System.Threading.Tasks.TaskStatus<br />&#160;&#160;&#160;&#160;member Wait : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member Wait : System.TimeSpan -&gt; bool<br />&#160;&#160;&#160;&#160;member Wait : System.Threading.CancellationToken -&gt; unit<br />&#160;&#160;&#160;&#160;member Wait : int -&gt; bool<br />&#160;&#160;&#160;&#160;member Wait : int * System.Threading.CancellationToken -&gt; bool<br />&#160;&#160;&#160;&#160;static member CurrentId : System.Nullable&lt;int&gt;<br />&#160;&#160;&#160;&#160;static member Factory : System.Threading.Tasks.TaskFactory<br />&#160;&#160;&#160;&#160;static member WaitAll : System.Threading.Tasks.Task [] -&gt; unit<br />&#160;&#160;&#160;&#160;static member WaitAll : System.Threading.Tasks.Task [] * System.TimeSpan -&gt; bool<br />&#160;&#160;&#160;&#160;static member WaitAll : System.Threading.Tasks.Task [] * int -&gt; bool<br />&#160;&#160;&#160;&#160;static member WaitAll : System.Threading.Tasks.Task [] * System.Threading.CancellationToken -&gt; unit<br />&#160;&#160;&#160;&#160;static member WaitAll : System.Threading.Tasks.Task [] * int * System.Threading.CancellationToken -&gt; bool<br />&#160;&#160;&#160;&#160;static member WaitAny : System.Threading.Tasks.Task [] -&gt; int<br />&#160;&#160;&#160;&#160;static member WaitAny : System.Threading.Tasks.Task [] * System.TimeSpan -&gt; int<br />&#160;&#160;&#160;&#160;static member WaitAny : System.Threading.Tasks.Task [] * System.Threading.CancellationToken -&gt; int<br />&#160;&#160;&#160;&#160;static member WaitAny : System.Threading.Tasks.Task [] * int -&gt; int<br />&#160;&#160;&#160;&#160;static member WaitAny : System.Threading.Tasks.Task [] * int * System.Threading.CancellationToken -&gt; int<br />&#160;&#160;end<br /><br />Full name: System.Threading.Tasks.Task<br /><br />&#160;&#160;type: Task<br />&#160;&#160;implements: IThreadPoolWorkItem<br />&#160;&#160;implements: IAsyncResult<br />&#160;&#160;implements: IDisposable<br /></div>
<div class="tip" id="fstips44">Multiple items
<br />property Task.Factory: TaskFactory
<br /><br />--------------------<br />
<br />property Task.Factory: TaskFactory&lt;'TResult&gt;<br /></div>
<div class="tip" id="fstips45">Multiple items
<br />TaskFactory.StartNew&lt;'TResult&gt;(function: Func&lt;'TResult&gt;) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(action: Action) : Task
<br />TaskFactory.StartNew&lt;'TResult&gt;(function: Func&lt;obj,'TResult&gt;, state: obj) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew&lt;'TResult&gt;(function: Func&lt;'TResult&gt;, creationOptions: TaskCreationOptions) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew&lt;'TResult&gt;(function: Func&lt;'TResult&gt;, cancellationToken: CancellationToken) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(action: Action&lt;obj&gt;, state: obj) : Task
<br />TaskFactory.StartNew(action: Action, creationOptions: TaskCreationOptions) : Task
<br />TaskFactory.StartNew(action: Action, cancellationToken: CancellationToken) : Task
<br />TaskFactory.StartNew&lt;'TResult&gt;(function: Func&lt;obj,'TResult&gt;, state: obj, creationOptions: TaskCreationOptions) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew&lt;'TResult&gt;(function: Func&lt;obj,'TResult&gt;, state: obj, cancellationToken: CancellationToken) : Task&lt;'TResult&gt;
<br />&#160;&#160;&#160;<em>(+6 other overloads)</em><br />--------------------<br />
<br />TaskFactory.StartNew(function: Func&lt;'TResult&gt;) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;obj,'TResult&gt;, state: obj) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;'TResult&gt;, creationOptions: TaskCreationOptions) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;'TResult&gt;, cancellationToken: CancellationToken) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;obj,'TResult&gt;, state: obj, creationOptions: TaskCreationOptions) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;obj,'TResult&gt;, state: obj, cancellationToken: CancellationToken) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;'TResult&gt;, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions, scheduler: TaskScheduler) : Task&lt;'TResult&gt;
<br />TaskFactory.StartNew(function: Func&lt;obj,'TResult&gt;, state: obj, cancellationToken: CancellationToken, creationOptions: TaskCreationOptions, scheduler: TaskScheduler) : Task&lt;'TResult&gt;<br /></div>
<div class="tip" id="fstips46">val analysis : (unit -&gt; unit)<br /></div>
<div class="tip" id="fstips47">abstract member AnalysisProcess.TryCancel : unit -&gt; unit
<br /><br /><em>Try to cancel the process (if it has been already started)</em><br /></div>
<div class="tip" id="fstips48">// Load &amp; process NYSE and NASDAQ data<br />let nyseData = loadNyseData()<br />engine.TriggerLoadNyseData(nyseData)<br />let nasdaqData = loadNasdaqData()<br />engine.TriggerLoadNasdaqData(nasdaqData)<br /><br />let mergedMarketData = mergeMarketData [ nyseData; nasdaqData ]<br />engine.TriggerMergeMarketData(mergedMarketData)<br />let normalizedMarketData = normalizeData mergedMarketData<br />engine.TriggerNormalizeMarketData(normalizedMarketData)<br />let analyzedStockData = analyzeData normalizedMarketData<br />engine.TriggerAnalyzeMarketData(analyzedStockData)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />// Load &amp; process FED data<br />let fedHistoricalData = loadFedHistoricalData()<br />engine.TriggerLoadFedHistoricalData(fedHistoricalData)<br />let normalizedHistoricalData = normalizeData fedHistoricalData<br />engine.TriggerNormalizeHistoricalData(normalizedHistoricalData)<br />let analyzedHistoricalData = analyzeData normalizedHistoricalData<br />engine.TriggerAnalyzeHistoricalData(analyzedHistoricalData)<br /></div>
<div class="tip" id="fstips49">val modeledMarketData : MarketModel<br /></div>
<div class="tip" id="fstips50">val runModel : StockAnalysisCollection -&gt; MarketModel<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.AnalysisModule.runModel<br /></div>
<div class="tip" id="fstips51">val analyzedStockData : StockAnalysisCollection<br /><br />&#160;&#160;type: StockAnalysisCollection<br />&#160;&#160;implements: IList&lt;StockAnalysis&gt;<br />&#160;&#160;implements: ICollection&lt;StockAnalysis&gt;<br />&#160;&#160;implements: seq&lt;StockAnalysis&gt;<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Collections.ObjectModel.ReadOnlyCollection&lt;StockAnalysis&gt;<br /></div>
<div class="tip" id="fstips52">member AnalysisProcess.TriggerModelMarketData : v:MarketModel -&gt; unit<br /></div>
<div class="tip" id="fstips53">val modeledHistoricalData : MarketModel<br /></div>
<div class="tip" id="fstips54">val analyzedHistoricalData : StockAnalysisCollection<br /><br />&#160;&#160;type: StockAnalysisCollection<br />&#160;&#160;implements: IList&lt;StockAnalysis&gt;<br />&#160;&#160;implements: ICollection&lt;StockAnalysis&gt;<br />&#160;&#160;implements: seq&lt;StockAnalysis&gt;<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Collections.ObjectModel.ReadOnlyCollection&lt;StockAnalysis&gt;<br /></div>
<div class="tip" id="fstips55">member AnalysisProcess.TriggerModelHistoricalData : v:MarketModel -&gt; unit<br /></div>
<div class="tip" id="fstips56">val recommendation : MarketRecommendation<br /></div>
<div class="tip" id="fstips57">val compareModels : seq&lt;MarketModel&gt; -&gt; MarketRecommendation<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.AnalysisModule.compareModels<br /></div>
<div class="tip" id="fstips58">member AnalysisProcess.TriggerCompareModels : v:MarketRecommendation option -&gt; unit<br /></div>
<div class="tip" id="fstips59">union case Option.Some: 'T -&gt; Option&lt;'T&gt;<br /></div>
<div class="tip" id="fstips60">val asyncAnalysis : (unit -&gt; AnalysisProcess)<br /></div>
<div class="tip" id="fstips61">val cts : CancellationTokenSource<br /><br />&#160;&#160;type: CancellationTokenSource<br />&#160;&#160;implements: IDisposable<br /></div>
<div class="tip" id="fstips62">type CancellationTokenSource =<br />&#160;&#160;class<br />&#160;&#160;&#160;&#160;new : unit -&gt; System.Threading.CancellationTokenSource<br />&#160;&#160;&#160;&#160;member Cancel : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member Cancel : bool -&gt; unit<br />&#160;&#160;&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;&#160;&#160;member IsCancellationRequested : bool<br />&#160;&#160;&#160;&#160;member Token : System.Threading.CancellationToken<br />&#160;&#160;&#160;&#160;static member CreateLinkedTokenSource : System.Threading.CancellationToken [] -&gt; System.Threading.CancellationTokenSource<br />&#160;&#160;&#160;&#160;static member CreateLinkedTokenSource : System.Threading.CancellationToken * System.Threading.CancellationToken -&gt; System.Threading.CancellationTokenSource<br />&#160;&#160;end<br /><br />Full name: System.Threading.CancellationTokenSource<br /><br />&#160;&#160;type: CancellationTokenSource<br />&#160;&#160;implements: IDisposable<br /></div>
<div class="tip" id="fstips63">Multiple items
<br />type Async&lt;'T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;
<br /><br />--------------------<br />
<br />type Async<br />with<br />&#160;&#160;static member AsBeginEnd : computation:('Arg -&gt; Async&lt;'T&gt;) -&gt; ('Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; 'T) * (IAsyncResult -&gt; unit)<br />&#160;&#160;static member AwaitEvent : event:IEvent&lt;'Del,'T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt; (requires delegate and 'Del :&gt; Delegate)<br />&#160;&#160;static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member AwaitTask : task:Task&lt;'T&gt; -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />&#160;&#160;static member CancelDefaultToken : unit -&gt; unit<br />&#160;&#160;static member Catch : computation:Async&lt;'T&gt; -&gt; Async&lt;Choice&lt;'T,exn&gt;&gt;<br />&#160;&#160;static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromBeginEnd : arg:'Arg1 * beginAction:('Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromBeginEnd : arg1:'Arg1 * arg2:'Arg2 * beginAction:('Arg1 * 'Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromBeginEnd : arg1:'Arg1 * arg2:'Arg2 * arg3:'Arg3 * beginAction:('Arg1 * 'Arg2 * 'Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; 'T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member FromContinuations : callback:(('T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member Ignore : computation:Async&lt;'T&gt; -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />&#160;&#160;static member Parallel : computations:seq&lt;Async&lt;'T&gt;&gt; -&gt; Async&lt;'T []&gt;<br />&#160;&#160;static member RunSynchronously : computation:Async&lt;'T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; 'T<br />&#160;&#160;static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />&#160;&#160;static member StartAsTask : computation:Async&lt;'T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;'T&gt;<br />&#160;&#160;static member StartChild : computation:Async&lt;'T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;'T&gt;&gt;<br />&#160;&#160;static member StartChildAsTask : computation:Async&lt;'T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;'T&gt;&gt;<br />&#160;&#160;static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />&#160;&#160;static member StartWithContinuations : computation:Async&lt;'T&gt; * continuation:('T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />&#160;&#160;static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />&#160;&#160;static member TryCancelled : computation:Async&lt;'T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;'T&gt;<br />&#160;&#160;static member CancellationToken : Async&lt;CancellationToken&gt;<br />&#160;&#160;static member DefaultCancellationToken : CancellationToken<br />end<br /><br />Full name: Microsoft.FSharp.Control.Async<br /></div>
<div class="tip" id="fstips64">static member Async.Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br /></div>
<div class="tip" id="fstips65">val compare : Async&lt;unit&gt;<br /></div>
<div class="tip" id="fstips66">property CancellationTokenSource.Token: CancellationToken<br /></div>
<div class="tip" id="fstips67">Multiple overloads
<br />CancellationTokenSource.Cancel() : unit
<br />CancellationTokenSource.Cancel(throwOnFirstException: bool) : unit<br /></div>
<div class="tip" id="fstips68">val marketModel : Async&lt;MarketModel&gt;<br /></div>
<div class="tip" id="fstips69">async {<br />&#160;&#160;// Start loading of data from two sources in background (both I/O<br />&#160;&#160;// operations are perfomed asynchronously without blocking threads)<br />&#160;&#160;let! nyse = <br />&#160;&#160;&#160;&#160;asyncLoadNyseData() <br />&#160;&#160;&#160;&#160;|&gt; Async.WithResult engine.TriggerLoadNyseData |&gt; Async.StartChild<br />&#160;&#160;let! nasdaq = <br />&#160;&#160;&#160;&#160;asyncLoadNasdaqData() <br />&#160;&#160;&#160;&#160;|&gt; Async.WithResult engine.TriggerLoadNasdaqData |&gt; Async.StartChild<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;// Wait for both tasks to complete and continue<br />&#160;&#160;let! nyseData = nyse<br />&#160;&#160;let! nasdaqData = nasdaq<br />&#160;&#160;let merged = mergeMarketData [ nyseData; nasdaqData ] <br />&#160;&#160;engine.TriggerMergeMarketData(merged)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;// Perform analysis of the merged data<br />&#160;&#160;let! normalized = asyncNormalizeData merged<br />&#160;&#160;engine.TriggerNormalizeMarketData(normalized)<br />&#160;&#160;let! analyzed = asyncAnalyzeData normalized <br />&#160;&#160;engine.TriggerAnalyzeMarketData(analyzed)<br />&#160;&#160;let! res = asyncRunModel analyzed <br />&#160;&#160;engine.TriggerModelMarketData(res)<br />&#160;&#160;return res }<br /></div>
<div class="tip" id="fstips70">val historicalModel : Async&lt;MarketModel&gt;<br /></div>
<div class="tip" id="fstips71">async {<br />&#160;&#160;// Obtain data asynchronously using non-blocking I/O<br />&#160;&#160;let! fed = asyncLoadFedHistoricalData()<br />&#160;&#160;engine.TriggerLoadFedHistoricalData(fed)<br /><br />&#160;&#160;// Perform CPU-intensive analysis of the data<br />&#160;&#160;let! normalized = asyncNormalizeData fed<br />&#160;&#160;engine.TriggerNormalizeHistoricalData(normalized)<br />&#160;&#160;let! analyzed = asyncAnalyzeData normalized<br />&#160;&#160;engine.TriggerAnalyzeHistoricalData(analyzed)<br />&#160;&#160;let! res = asyncRunModel analyzed <br />&#160;&#160;engine.TriggerModelHistoricalData(res)<br />&#160;&#160;return res }<br /></div>
<div class="tip" id="fstips72">Async.TryCancelled<br />&#160;&#160;(async {<br />&#160;&#160;&#160;&#160;try<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let! models = Async.Parallel [ marketModel; historicalModel ]<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let res = compareModels models <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;engine.TriggerCompareModels(Some res)<br />&#160;&#160;&#160;&#160;with e -&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;engine.TriggerErrorHandler()  },<br />&#160;&#160;&#160;&#160;fun ce -&gt; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;engine.TriggerCompareModels(None))<br /></div>
<div class="tip" id="fstips73">val async : AsyncBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.async<br /></div>
<div class="tip" id="fstips74">val nyse : Async&lt;StockDataCollection&gt;<br /></div>
<div class="tip" id="fstips75">val asyncLoadNyseData : unit -&gt; Async&lt;StockDataCollection&gt;<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.AnalysisModule.asyncLoadNyseData<br /></div>
<div class="tip" id="fstips76">static member Async.WithResult : f:('a0 -&gt; unit) -&gt; a:Async&lt;'a0&gt; -&gt; Async&lt;'a0&gt;<br /></div>
<div class="tip" id="fstips77">member AnalysisProcess.TriggerLoadNyseData : v:StockDataCollection -&gt; unit<br /></div>
<div class="tip" id="fstips78">static member Async.StartChild : computation:Async&lt;'T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;'T&gt;&gt;<br /></div>
<div class="tip" id="fstips79">val nasdaq : Async&lt;StockDataCollection&gt;<br /></div>
<div class="tip" id="fstips80">val asyncLoadNasdaqData : unit -&gt; Async&lt;StockDataCollection&gt;<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.AnalysisModule.asyncLoadNasdaqData<br /></div>
<div class="tip" id="fstips81">member AnalysisProcess.TriggerLoadNasdaqData : v:StockDataCollection -&gt; unit<br /></div>
<div class="tip" id="fstips82">// Wait for both tasks to complete and continue<br />let! nyseData = nyse<br />let! nasdaqData = nasdaq<br />let merged = mergeMarketData [ nyseData; nasdaqData ] <br />engine.TriggerMergeMarketData(merged)<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />// Perform analysis of the merged data<br />let! normalized = asyncNormalizeData merged<br />engine.TriggerNormalizeMarketData(normalized)<br /></div>
<div class="tip" id="fstips83">val analyzed : StockAnalysisCollection<br /><br />&#160;&#160;type: StockAnalysisCollection<br />&#160;&#160;implements: IList&lt;StockAnalysis&gt;<br />&#160;&#160;implements: ICollection&lt;StockAnalysis&gt;<br />&#160;&#160;implements: seq&lt;StockAnalysis&gt;<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Collections.ObjectModel.ReadOnlyCollection&lt;StockAnalysis&gt;<br /></div>
<div class="tip" id="fstips84">val asyncAnalyzeData : StockDataCollection -&gt; Async&lt;StockAnalysisCollection&gt;<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.AnalysisModule.asyncAnalyzeData<br /></div>
<div class="tip" id="fstips85">val normalized : StockDataCollection<br /><br />&#160;&#160;type: StockDataCollection<br />&#160;&#160;implements: IList&lt;StockData&gt;<br />&#160;&#160;implements: ICollection&lt;StockData&gt;<br />&#160;&#160;implements: seq&lt;StockData&gt;<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Collections.ObjectModel.ReadOnlyCollection&lt;StockData&gt;<br /></div>
<div class="tip" id="fstips86">member AnalysisProcess.TriggerAnalyzeMarketData : v:StockAnalysisCollection -&gt; unit<br /></div>
<div class="tip" id="fstips87">val res : MarketModel<br /></div>
<div class="tip" id="fstips88">val asyncRunModel : StockAnalysisCollection -&gt; Async&lt;MarketModel&gt;<br /><br />Full name: Microsoft.Practices.ParallelGuideSamples.ADash.AnalysisModule.asyncRunModel<br /></div>
<div class="tip" id="fstips89">// Obtain data asynchronously using non-blocking I/O<br />let! fed = asyncLoadFedHistoricalData()<br />engine.TriggerLoadFedHistoricalData(fed)<br /><br />// Perform CPU-intensive analysis of the data<br />let! normalized = asyncNormalizeData fed<br />engine.TriggerNormalizeHistoricalData(normalized)<br /></div>
<div class="tip" id="fstips90">member AnalysisProcess.TriggerAnalyzeHistoricalData : v:StockAnalysisCollection -&gt; unit<br /></div>
<div class="tip" id="fstips91">static member Async.TryCancelled : computation:Async&lt;'T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;'T&gt;<br /></div>
<div class="tip" id="fstips92">val models : MarketModel []<br /><br />&#160;&#160;type: MarketModel []<br />&#160;&#160;implements: ICloneable<br />&#160;&#160;implements: Collections.IList<br />&#160;&#160;implements: Collections.ICollection<br />&#160;&#160;implements: Collections.IStructuralComparable<br />&#160;&#160;implements: Collections.IStructuralEquatable<br />&#160;&#160;implements: IList&lt;MarketModel&gt;<br />&#160;&#160;implements: ICollection&lt;MarketModel&gt;<br />&#160;&#160;implements: seq&lt;MarketModel&gt;<br />&#160;&#160;implements: Collections.IEnumerable<br />&#160;&#160;inherits: Array<br /></div>
<div class="tip" id="fstips93">static member Async.Parallel : computations:seq&lt;Async&lt;'T&gt;&gt; -&gt; Async&lt;'T []&gt;<br /></div>
<div class="tip" id="fstips94">val res : MarketRecommendation<br /></div>
<div class="tip" id="fstips95">val e : exn<br /><br />&#160;&#160;type: exn<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;implements: Runtime.InteropServices._Exception<br /></div>
<div class="tip" id="fstips96">member AnalysisProcess.TriggerErrorHandler : v:unit -&gt; unit<br /></div>
<div class="tip" id="fstips97">val ce : OperationCanceledException<br /><br />&#160;&#160;type: OperationCanceledException<br />&#160;&#160;implements: Runtime.Serialization.ISerializable<br />&#160;&#160;implements: Runtime.InteropServices._Exception<br />&#160;&#160;inherits: SystemException<br />&#160;&#160;inherits: exn<br /></div>
<div class="tip" id="fstips98">union case Option.None: Option&lt;'T&gt;<br /></div>

    <div class="info">
    <p class="share">
        <a target="_blank" href="https://twitter.com/intent/tweet?url=http%3a%2f%2ftomasp.net%2fblog%2fparallel-extra-adash-cancellation.aspx%2f&amp;text=F%23+Parallel+Extras+(III.)%3a+Financial+dashboard+with+cancellationvia+%40tomaspetricek">
          <i class="fab fa-twitter-square"></i></a>
        <a target="_blank" href="https://www.facebook.com/sharer.php?u=http%3a%2f%2ftomasp.net%2fblog%2fparallel-extra-adash-cancellation.aspx%2f">
          <i class="fab fa-facebook-square"></i></a>
        <a href="http://www.reddit.com/submit?url=http%3a%2f%2ftomasp.net%2fblog%2fparallel-extra-adash-cancellation.aspx%2f&title=F%23+Parallel+Extras+(III.)%3a+Financial+dashboard+with+cancellation">
          <i class="fab fa-reddit-square"></i></a>
        <a href="mailto:?subject=F%23%20Parallel%20Extras%20(III.)%3a%20Financial%20dashboard%20with%20cancellation&body=%20In%20this%20article%2c%20we%20revisit%20an%20F%23%20implementation%20of%20a%20financial%20dashboard%20example%20from%20Parallel%20Programming%20with%20.NET.%20The%20article%20explains%20and%20demonstrates%20how%20to%20use%20the%20built-in%20support%20for%20cancellation%20in%20F%23%20asynchronous%20workflows.%0a%0aSee%3a%20http%3a%2f%2ftomasp.net%2fblog%2fparallel-extra-adash-cancellation.aspx%2f">
          <i class="fa fa-envelope"></i></a>
    </p>
    <p class="details">
      <strong>Published:</strong> Wednesday, 27 October 2010, 11:13 AM<br />
      <strong>Author:</strong> Tomas Petricek<br />
      <strong>Typos:</strong> <a href="http://github.com/tpetricek/tomasp.net">Send me a pull request</a>!<br />
      
        <strong>Tags:</strong> <a
          href="/blog/tag/functional/">functional</a>, <a
          href="/blog/tag/parallel/">parallel</a>, <a
          href="/blog/tag/asynchronous/">asynchronous</a>, <a
          href="/blog/tag/fsharp/">f#</a></span><br />
      
    </p>
    </div>
  </article>


  <footer>
  <div class="footer-body">
    <div class="fl70"><div class="fmr">
      <h4><a href="http://tomasp.net/rss.xml"><i class="fa fa-rss" style="margin-right:5px;"></i></a> Blog archives</h4>
      <p>
      
      <a href="/blog/archive/february_2025/">February 2025 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2023/">December 2023 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2023/">February 2023 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2022/">September 2022 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2022/">April 2022 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2021/">October 2021 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2021/">April 2021 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2020/">October 2020 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2020/">July 2020 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2020/">April 2020 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2019/">December 2019 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2019/">February 2019 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2018/">November 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2018/">October 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2018/">May 2018 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2017/">September 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2017/">June 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2017/">April 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2017/">March 2017 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2017/">January 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2016/">October 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2016/">September 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/august_2016/">August 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2016/">July 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2016/">May 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2016/">April 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2015/">December 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2015/">November 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2015/">September 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2015/">July 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2015/">June 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2015/">May 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2015/">April 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2015/">March 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2015/">February 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2015/">January 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2014/">December 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2014/">May 2014 (3)</a>,&nbsp;
      
      <a href="/blog/archive/april_2014/">April 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2014/">March 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2014/">January 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2013/">December 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2013/">November 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2013/">October 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2013/">September 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2013/">August 2013 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2013/">May 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2013/">April 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2013/">March 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2013/">February 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2013/">January 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2012/">December 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/october_2012/">October 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2012/">August 2012 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2012/">June 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2012/">April 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2012/">March 2012 (4)</a>,&nbsp;
      
      <a href="/blog/archive/february_2012/">February 2012 (5)</a>,&nbsp;
      
      <a href="/blog/archive/january_2012/">January 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2011/">November 2011 (5)</a>,&nbsp;
      
      <a href="/blog/archive/august_2011/">August 2011 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2011/">July 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/june_2011/">June 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2011/">May 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2011/">March 2011 (4)</a>,&nbsp;
      
      <a href="/blog/archive/december_2010/">December 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2010/">November 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2010/">October 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/september_2010/">September 2010 (4)</a>,&nbsp;
      
      <a href="/blog/archive/july_2010/">July 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2010/">June 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2010/">May 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2010/">February 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2010/">January 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/december_2009/">December 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2009/">July 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2009/">June 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2009/">May 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2009/">April 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2009/">March 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2009/">February 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2008/">December 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2008/">November 2008 (5)</a>,&nbsp;
      
      <a href="/blog/archive/october_2008/">October 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2008/">September 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2008/">June 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2008/">March 2008 (3)</a>,&nbsp;
      
      <a href="/blog/archive/february_2008/">February 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2007/">December 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2007/">November 2007 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2007/">October 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2007/">September 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2007/">August 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2007/">July 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2007/">April 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2007/">March 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2007/">February 2007 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2007/">January 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2006/">November 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2006/">October 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/august_2006/">August 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/july_2006/">July 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2006/">June 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2006/">May 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2006/">April 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2005/">December 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2005/">July 2005 (4)</a>,&nbsp;
      
      <a href="/blog/archive/june_2005/">June 2005 (5)</a>,&nbsp;
      
      <a href="/blog/archive/may_2005/">May 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2005/">April 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2005/">March 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2005/">January 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2004/">December 2004 (3)</a>,&nbsp;
      
      <a href="/blog/archive/november_2004/">November 2004 (2)</a>,&nbsp;
      
      </p>
    </div></div>
    <div class="fr30"><div class="fmr">
      <h4>License and about</h4>
      <p>All articles on this site are licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>.
        All source code samples are licensed under the MIT License.
      </p>
      <p>This site is hosted on GitHub and is generated using <a href="https://github.com/tpetricek/FSharp.Formatting">F# Formatting</a>
        and <a href="http://dotliquidmarkup.org/">DotLiquid</a>.
        For more info, see the <a href="https://github.com/tpetricek/tomasp.net">website source on GitHub</a>.
      </p>
      <p>Please submit issues &amp; corrections on GitHub. Use pull requests for minor corrections only.</p>
      <ul>
        <li><i class="fab fa-twitter"></i> Twitter: <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a></li>
        <li><i class="fab fa-github"></i> GitHub: <a href="https://github.com/tpetricek">@tpetricek</a></li>
        <li><i class="fa fa-envelope"></i> Email: <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a></li>
      </ul>
      <p style="text-align:center;margin-top:15px;"><img src="https://tomasp.net/img/cc-sa.png" alt="CC License logo" /></p>
    </div></div>
  </div>
  </footer>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1561220-1']);
    _gaq.push(['_trackPageview']);
    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>
</html>
