<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="Latest news from Tomas Petricek" href="/rss.xml" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">  
    
  <link href="/custom/style.css" rel="stylesheet">
  <link href="/custom/tooltips.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon-big.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/img/favicon-big.png">
  <meta name="msapplication-TileColor" content="#00202D">
  <meta name="msapplication-TileImage" content="/img/favicon-big.png">
  <meta name="theme-color" content="#00202D">  
  
  
  <title>The Gamma — Visualizing Olympic Medalists - Tomas Petricek</title>

  <meta name="description" content="  Olympic Games are perfect opportunity to do a fun data visualization project - 
you can easily predict when they will happen and you can get something interesting ready
in advance. I used this year's Olympic Games in Rio as a motivation to resume working on The
Gamma project, which aims to build tooling for open, reproducible and interactive
data-driven storytelling." />
  <meta name="keywords" content="thegamma, data journalism, programming languages, " />  
  <meta name="author" content="Tomas Petricek" />
  <meta name="copyright" content="Tomas Petricek" />
  
  <meta property="og:title" content="The Gamma — Visualizing Olympic Medalists" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://tomasp.net/blog/2016/thegamma-olympic-medalists/" />
  <meta property="og:image" content="http://tomasp.net/blog/2016//thegamma-olympic-medalists/gamma-logo.png" />
  <meta property="og:description" content="  Olympic Games are perfect opportunity to do a fun data visualization project - 
you can easily predict when they will happen and you can get something interesting ready
in advance. I used this year's Olympic Games in Rio as a motivation to resume working on The
Gamma project, which aims to build tooling for open, reproducible and interactive
data-driven storytelling." />
  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@tomaspetricek">
  <meta name="twitter:creator" content="@tomaspetricek">  
  <meta name="twitter:title" content="The Gamma — Visualizing Olympic Medalists" />
  <meta name="twitter:image" content="http://tomasp.net/blog/2016//thegamma-olympic-medalists/gamma-logo.png" />
  <meta name="twitter:description" content="  Olympic Games are perfect opportunity to do a fun data visualization project - 
you can easily predict when they will happen and you can get something interesting ready
in advance. I used this year's Olympic Games in Rio as a motivation to resume working on The
Gamma project, which aims to build tooling for open, reproducible and interactive
data-driven storytelling." />
    
  <script type="application/ld+json">
  {
  	"@context": "http:\/\/schema.org",
  	"@type": "Article",
  	"name": "The Gamma — Visualizing Olympic Medalists",
    "headline": "The Gamma — Visualizing Olympic Medalists",
  	"description": "  Olympic Games are perfect opportunity to do a fun data visualization project - 
you can easily predict when they will happen and you can get something interesting ready
in advance. I used this year's Olympic Games in Rio as a motivation to resume working on The
Gamma project, which aims to build tooling for open, reproducible and interactive
data-driven storytelling.",
  	"url": "http://tomasp.net/blog/2016/thegamma-olympic-medalists/",
  	"author": {
  		"@type": "Person",
  		"name": "Tomas Petricek",
  		"url": "http://tomasp.net",
  		"sameAs": ["http://twitter.com/tomaspetricek"]
  	},
  	"creator": ["Tomas Petricek"],
  	"dateCreated": "2016-09-06T16:37:01.8024177+01:00",
  	"datePublished": "2016-09-06T16:37:01.8024177+01:00",
    "dateModified": "2016-09-06T16:37:01.8024177+01:00",
    "mainEntityOfPage": "http://tomasp.net/blog/2016/thegamma-olympic-medalists/",
  	"image": "http://tomasp.net/blog/2016//thegamma-olympic-medalists/gamma-logo.png",
  	"thumbnailUrl": "http://tomasp.net/blog/2016//thegamma-olympic-medalists/gamma-logo.png",
  	"keywords": ["thegamma", "data journalism", "programming languages",  "tomas", "petricek"],
  	"inLanguage": "en-us",
  	"publisher": {
  		"@type": "Person",
  		"name": "Tomas Petricek",
  		"url": "http://tomasp.net",
      "logo": "http://tomasp.net/img/favicon-big.png",
  		"sameAs": ["http://twitter.com/tomaspetricek"]
  	}
  }  
  </script>
  
</head>
<body class="default">  
  <div class="not-footer">
  <div class="top-panel-wrapper">
  <div class="top-panel">
  <div id="tomas" class="visible-" itemscope itemtype="http://schema.org/Person"><header>
    <div class="container">
      <div class="col-md-8">
        
        <div class="row">
          <div class="col-xs-12 col-sm-8 col-md-12" style="padding:0px">
            <h2 itemprop="name">Tomas Petricek</h1>
            <h3 itemprop="description">Searching for new ways of thinking in programming &amp; working with data</h2>
            <div> 
              <img src="/img/tomas-sl-sq.jpg" class="hidden-lg hidden-md hidden-sm tomas-float" />
                <p>I believe that the most interesting work is not the one solving hard problems, but the one changing how
                  we think about the world. I follow this belief in my work on data science tools,
                  functional programming and F# teaching, in my programming languages research
                  and I try to understand it through philosophy of science.
                </p>
            </div>
          </div>
          <div class="hidden-lg hidden-md col-sm-4 hidden-xs">
            <img src="/img/tomas-sl-sq.jpg" class="tomas-square" />
            <p class="social">
              <a title="Follow my occasional rants" itemprop="sameAs" href="http://twitter.com/tomaspetricek"><i class="fa fa-twitter"></i></a>
              <a title="Send me a message" itemprop="sameAs" href="mailto:tomas@tomasp.net"><i class="fa fa-envelope"></i></a>
              <a title="Most of my open-soruce projects" itemprop="sameAs" href="http://github.com/tpetricek"><i class="fa fa-github-alt"></i></a>
              <a title="My F# answers on StackOverflow" itemprop="sameAs" href="http://stackoverflow.com/users/33518/tomas-petricek"><i class="fa fa-stack-overflow"></i></a>
              <a title="Read my papers!" itemprop="sameAs" href="http://dblp.uni-trier.de/pers/hd/p/Petricek:Tomas"><i class="fa fa-university"></i></a>
              <a title="Send me recruiter spam?" itemprop="sameAs" href="https://www.linkedin.com/in/tomaspetricek"><i class="fa fa-linkedin-square"></i></a>
            </p>
          </div>
        </div>
          
        <div class="row themes">
          <div class="col-sm-4">
            <h4><a href="http://thegamma.net"><i class="fa fa-area-chart"></i> The Gamma</a></h3>
            <p>I'm working on making data-driven storytelling easier, more open and reproducible
              at the <a href="https://turing.ac.uk/">Alan Turing Institute</a>.</p>              
          </div>
          <div class="col-sm-4">
            <h4><a href="http://fsharpworks.com"><i class="fa fa-industry"></i> Consulting</a></h3>
            <p>I'm author of definitive F# books and open-soruce libraries.
              I offer my F# training and consulting services as part of 
              <a href="http://fsharpworks.com">fsharpWorks</a>.</p>
          </div>
          <div class="col-sm-4">
            <h4><a href="/academic"><i class="fa fa-university"></i> Academic</a></h3>
            <p>I published papers about theory of context-aware programming languages, 
              type providers, but also philosophy of science.</p>
          </div>
        </div>
          
      </div>
      
      <div class="col-sm-4">
        <img itemprop="image" src="/img/tomas-sl-wide.jpg" class="hidden-sm hidden-xs tomas-wide" />
        <p class="social hidden-sm">
          <a title="Follow my occasional rants" itemprop="sameAs" href="http://twitter.com/tomaspetricek"><i class="fa fa-twitter"></i></a>
          <a title="Send me a message" itemprop="sameAs" href="mailto:tomas@tomasp.net"><i class="fa fa-envelope"></i></a>
          <a title="Most of my open-soruce projects" itemprop="sameAs" href="http://github.com/tpetricek"><i class="fa fa-github-alt"></i></a>
          <a title="My F# answers on StackOverflow" itemprop="sameAs" href="http://stackoverflow.com/users/33518/tomas-petricek"><i class="fa fa-stack-overflow"></i></a>
          <a title="Read my papers!" itemprop="sameAs" href="http://dblp.uni-trier.de/pers/hd/p/Petricek:Tomas"><i class="fa fa-university"></i></a>
          <a title="Send me recruiter spam?" itemprop="sameAs" href="https://www.linkedin.com/in/tomaspetricek"><i class="fa fa-linkedin-square"></i></a>
        </p>
      </div>
    </div>
  </header></div>
  
  <div class="nav-wrapper hidden-xs-home">
  <nav>
    <div class="container"><div class="col-sm-12">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand visible-xs hidden-home toggle-tomas" href="/">Tomas Petricek <i class="tomas-fa fa fa-caret-up"></i></a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right hidden-xs hidden-home">
          <li><a class="toggle-tomas" href="/">Tomas Petricek <i class="tomas-fa fa fa-caret-up"></i></a></li>
        </ul>
        <ul class="nav navbar-nav navbar-left">
          <li><a href="/">Home</a></li>
          <li><a href="http://fsharpworks.com"><span class="hidden-sm">F#</span> Trainings</a></li>
          <li><a href="http://fsharpworks.com/materials.html">Talks<span class="hidden-sm"> and books</span></a></li>
          <li><a href="http://thegamma.net/">The Gamma</a></li>
          <li><a href="/academic/" class="last-left">Academic</a></li>
        </ul>
      </div>
    </div></div>
  </nav></div>
  </div></div>
  
  
  <article class="post">
    <div class="container"><div class="row">
      <div class="col-lg-2 col-md-1"></div>
      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8">
        <h1>The Gamma — Visualizing Olympic Medalists</h1>
<p>Olympic Games are perfect opportunity to do a fun data visualization project - just like
<a href="http://tomasp.net/blog/2015/happy-new-year-tweets/">New Year</a>, you can easily predict when they
will happen and you can get something interesting ready in advance. I used this year's
Games in Rio as a motivation to resume working on <a href="http://tomasp.net/blog/2016/thegamma-dni/">The Gamma
project</a>. If you did not read my <a href="http://localhost:11112/blog/2016/thegamma-dni/">previous
article</a>,
the idea is to build tooling for open, reproducible and interactive data-driven storytelling.
When you see a visualization, not only you should be able to see how it has been created
(what data it uses &amp; how), but you should also be able to modify it, without much programming
experience, and look at other interesting aspects of the data.</p>
<p>The first version of The Gamma project tries to do some of this, using historical and current
data on Olympic medals as a sample dataset. You can play with the project at <a href="http://rio2016.thegamma.net/">The Gamma web
site</a>:</p>
<div class="wdecor">
<a href="http://rio2016.thegamma.net">
<img src="http://tomasp.net/blog/2016/thegamma-olympic-medalists/banner-wide.jpg" style="max-width:90%;margin:0px 5% 0px 5%" />
</a>
</div>
<p>Without further ado, here are the most important links if you want to explore how it all works
on your own. However, continue reading and I'll describe the most important parts!</p>
<ul>
<li>
<p><a href="https://github.com/the-gamma/thegamma-script">TheGamma Script <i class="fa fa-github"></i></a>
contains implementation of most of the client-side code. In particular, this includes compiler
for the language that is used to write the visualizations. It is written using <a href="http://fsharp.org">F#</a>
and <a href="https://fable-compiler.github.io/">Fable</a> and generates JavaScript using
<a href="http://babeljs.io/">Babel</a></p>
</li>
<li>
<p><a href="https://github.com/the-gamma/thegamma-olympics-web">TheGamma Olympics Web <i class="fa fa-github"></i></a>
is a minimal web site that hosts the visualizations. You can find all the source code for
individual visualizations in <a href="https://github.com/the-gamma/thegamma-olympics-web/tree/master/docs">the docs folder</a>.
For example, see <a href="https://github.com/the-gamma/thegamma-olympics-web/blob/master/docs/medals-per-athlete.md">medals per athlete</a>.</p>
</li>
<li>
<p><a href="https://github.com/the-gamma/thegamma-script">TheGamma Services <i class="fa fa-github"></i></a>
implements a server-side component that provides data for the client. This serves the
<a href="https://github.com/the-gamma/thegamma-services/blob/master/data/medals-expanded.csv">cleaned CSV data set</a>
using the <a href="https://fsprojects.github.io/RestProvider/">REST Provider Protocol</a>.</p>
</li>
</ul>
<p>The project is still in early stages and the code needs more documentation (and ReadMe files, I
know!) However, if you would be interested in using it for something or you have some interesting
data to visualize, do not hesitate to ping me at <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a>.
Also, thanks to the <a href="https://www.digitalnewsinitiative.com/fund/">DNI Innovation Fund</a> for funding
the project and to the <a href="https://turing.ac.uk/">Alan Turing Institute</a> for providing a place to work
on this over the coming months!</p>
<h2>Innovative data-driven storytelling features</h2>
<p>When writing the proposal for The Gamma project, I wanted to create tooling that would encourage
people to create <em>open</em> and <em>reproducible</em> data-driven articles. This means that when you see a
visualization on a page, it is not just an opaque chart - there should be backing source code
behind it that you can understand and modify. This alone is a nice idealistic aim (wouldn't it
be nice if all data-driven stories on the internet were reproducible?), but I also wanted to
explore other benefits you get from having the source code - in particular, can it allow us to
create more <em>engaging</em> and <em>interactive</em> visualizations? You can see these two aims in the
Olympic medals demo.</p>
<h3>Open and reproducible content</h3>
<p>Let's first look at the <em>open</em> and <em>reproducible</em> aspect. When you go to the <a href="http://rio2016.thegamma.net/">Olympic Medalists
page</a> and choose any visualization, there is a little "source"
links, which opens the source code behind the visualization. Here, you can see how the
visualization is created and even modify it (on the fly in your browser).</p>
<p>In the example below, I created a very simple visualization that shows medals of Czech Republic
together with Slovakia over the history of the Olympic Games (because for most of the history,
the two were Czechoslovakia). How <em>exactly</em> is this calculated? Play the animated GIF, or
<a href="http://rio2016.thegamma.net/shared/19/olympic-medals-of-former-czechoslovakia">view the visualization on The Gamma page</a>
and you'll find out!</p>
<div class="wdecor">
  <div style="max-width:1008px;padding:0px;margin:10px auto 10px auto;">
    <img src="blog-1.gif" style="display:none" id="img1a" />
    <img src="blog-1-still.gif" style="max-width:100%;cursor:pointer;border:1px solid #d8d8d8;border-radius:6px;padding:10px;margin-bottom:5px;" id="img1b" /><br />
    (<a href="blog-1.gif" target="_blank">Open the image in a new window</a>)<!--_ -->
    <script type="text/javascript">
      var p1 = false;
      document.getElementById("img1b").onclick = function() {
        document.getElementById("img1b").src = 
          p1 ? "blog-1-still.gif" : document.getElementById("img1a").src;
        p1 = !p1;
      }
    </script>
  </div>
</div>
<p>By looking at the code and changing it a bit, we can learn a number of things about the
visualization and also about the data:</p>
<ul>
<li>
<p>It turns out that the visualization does not include just Czech Republic, Slovakia and
former Czechoslovakia (split in 1993), but also Bohemia! This was a part of Austro-Hungarian
empire that <a href="https://en.wikipedia.org/wiki/Bohemia_at_the_Olympics">competed in the Olympics</a>
between 1900 and 1912 and got 4 medals!</p>
</li>
<li>
<p>There are two suspicious spikes in 1964 and 1980. It turns out that Czechoslovakia won
<a href="https://en.wikipedia.org/wiki/Czechoslovakia_at_the_1964_Summer_Olympics">football and volleyball</a>
team competition in the first one and <a href="https://en.wikipedia.org/wiki/Czechoslovakia_at_the_1980_Summer_Olympics">football and field
hockey</a> in the latter.
For team events, there is a large number of individual medals.</p>
</li>
<li>
<p>The fact that the visualization is open means that we can easily modify it - by adding
<code>'count distinct Event'</code> we calculate number of events where a medal was won, rather than
every single medal - and as you can see, with this change, the two spikes disappear!</p>
</li>
</ul>
<p>Wouldn't it be nice if you could do the same to any online data-driven story? As you can see,
even with such simple thing as Olympic medal counts, there are interesting questions that do not
have obvious answer and having open and reproducible code behind the visualization makes it possible
to get another perspective. It turns out 1964 and 1980 were not magical years for former
Czechoslovakia.</p>
<h3>Interactive &amp; end-user friendly</h3>
<p>Modifying the source code of the visualization and verifying how it has been created might interest
programmers, but it's probably not going to make regular readers more interested in open
visualizations. However, another nice thing about having <em>source code</em> behind the visualization
is that we can automatically analyze the code and look for places where a selected property can
be replaced with another available property without breaking the code. I'll explain what exactly
I mean soon, but first have a look at the GIF below or explore the <a href="http://rio2016.thegamma.net/distance-run-timeline">Olympic Medals timeline for
running</a> and change the events on the map
on your own!</p>
<div class="wdecor">
  <div style="max-width:1008px;padding:0px;margin:10px auto 10px auto;">
    <img src="blog-2.gif" style="display:none" id="img2a" />
    <img src="blog-2-still.gif" style="max-width:100%;cursor:pointer;border:1px solid #d8d8d8;border-radius:6px;padding:10px;margin-bottom:5px;" id="img2b" /><br />
    (<a href="blog-2.gif" target="_blank">Open the image in a new window</a>)<!--_ -->
    <script type="text/javascript">
      var p2 = false;
      document.getElementById("img2b").onclick = function() {
        document.getElementById("img2b").src = 
          p2 ? "blog-2-still.gif" : document.getElementById("img2a").src;
        p2 = !p2;
      }
    </script>
  </div>
</div>
<p>The GIF illustrates the "options" link that appears for all visualizations on the Olympic
Visualizations page. This lets you edit parameters of the visualization in a user-friendly way.</p>
<ul>
<li>
<p>In the example, we can edit two lists - the first one specifies all the disciplines that
we want to include in the timeline (this is the same structure as the list of all countries
to be included in a chart in the previous demo). The editors are linked to corresponding
parts of the source code and changing one automatically updates the other.</p>
</li>
<li>
<p>All "options" are automatically generated from code and so this aspect of The Gamma
provides additional user-friendly interactivity to any visualization (although making
the descriptions nice requires some additional annotations on the types). For lists, we
look for call chains in the form <code>x.A.B.C</code> where the properties <code>A</code>, <code>B</code> and <code>C</code> all have
the same annotations (and the editor automatically generates drop-down based on the
members of the last object in the chain).</p>
</li>
</ul>
<h2>Looking behind the cover</h2>
<p>There are a couple of technically interesting things behind the demo - I won't go into much
detail here, but I would like to briefly mention at least two things. The first is a small
language that you can use for writing the visualizations and the second is a type provider
for data aggregations (grouping and such).</p>
<h3>The Gamma script</h3>
<p>In an earlier prototype (see <a href="http://thegamma.net/">World Bank Carbon Emissions</a>), I used
actual F# code for writing the visualizations and then sent the code for compilation to the
server - this worked for a prototype, but it is quite slow and inflexible. So, in the new version,
the code for the visualizations is compiled into JavaScript on the client-side (although it is
pre-compiled for many of the demos to make the loading faster). This means that I wrote a little
parser, type-checker and code generator (using Babel). The compiler itself is written in F#
and compiled into JavaScript using the awesome <a href="http://fable-compiler.github.io">Fable</a> project
The Gamma might be one of the largest Fable projects around and my experience with Fable was
fantastic. <i class="fa fa-thumbs-o-up"></i></p>
<p>The language itself is pretty minimal as you can <a href="https://github.com/the-gamma/thegamma-script/blob/master/src/thegamma/ast.fs#L70">see from the
AST</a>. I basically
only implemented things that were absolutely necessary to get the Olympic Visualizations working -
though I do intend to turn this into something more solid once I figure out what exactly it
should look like. The demo then uses the <a href="https://microsoft.github.io/monaco-editor/">Monaco editor</a>
for writing code, which works quite well. (And I suspect Monaco can be hacked in interesting
ways to make the editing experience feel less like programming and more like filling a
spreadsheet.)</p>
<p>There isn't much to be said about the language and the compiler at the moment, but expect to
hear more about it soon :-). One very interesting aspect, however, is how the script interacts
with the outside world - be it charting libraries or data sources.</p>
<h3>Type providers, type providers, type providers</h3>
<p>The current version of The Gamma script does not have any libraries
(and you also cannot create libraries in it). Instead, everything is done
via the <em>type provider</em> mechanism. (If you're not familiar with type providers, check out my
<a href="https://channel9.msdn.com/posts/Tomas-Petricek-How-F-Learned-to-Stop-Worrying-and-Love-the-Data">talk about type providers in F#</a>.)
Just like in F#, type providers make it possible to import external data or libraries into The
Gamma script, but in The Gamma, <em>everything</em> is done via type providers.</p>
<ul>
<li>
<p>There is an "F# type provider" that makes it possible to import libraries written in F#
(and compiled to JavaScript using Fable). This gives you access to the various charting
libraries in The Gamma, for example <a href="https://github.com/the-gamma/thegamma-script/blob/master/src/libraries/google/charts.fs">wrapper for Google
Charts</a></p>
</li>
<li>
<p>There is a "REST provider" that makes it possible to import external data. This is what's
running when you type <code>olympics</code> and start navigating through the data set. The provider
uses the <a href="https://fsprojects.github.io/RestProvider/">REST provider protocol</a> and it communicates
with the server-side. For Olympic Medals, this involves <a href="https://github.com/the-gamma/thegamma-services/blob/master/src/olympics/server.fsx">this lightweight Suave
server</a>.</p>
</li>
</ul>
<p>Incidentally, I wrote a <a href="http://tomasp.net/academic/papers/age-of-web/">paper about type providers</a>,
which advocates type providers as a mechanism for crossing many of the boundaries in interoperation
between different environments, so The Gamma just takes this idea a bit further!</p>
<h3>Aggregation with the Pivot type provider</h3>
<p>If you try doing something with the data and type <code>olympics.data.</code> you will see that the
auto-completion essentially guides you through various aggregation operations that you can perform
over the data. This is the last (and perhaps the most) interesting technical aspect of the project
that I call the "Pivot type provider".</p>
<p>The Pivot type provider looks at the type of the data and, based on the type, provides members
for performing valid aggregation operations. This does not let you perform <em>arbitrary</em> aggregations,
but it makes the most common ones <em>extremely</em> easy. For example, consider grouping medals by
Athlete, calculating the total number of Gold, Silver and Bronze medals and sorting the data
by number of medals, which is what the <a href="http://rio2016.thegamma.net/medals-per-athlete">All Time Olympic Medals
Table</a> calcultes (it turns out Michael Phelps is at the top).</p>
<div style="padding:0px;margin:10px auto 10px auto;text-align:center">
  <img src="blog-3.gif" style="display:none" id="img3a" />
  <img src="blog-3-still.gif" style="max-width:100%;cursor:pointer;border:1px solid #d8d8d8;border-radius:6px;padding:10px;margin:0px auto 5px auto;" id="img3b" /><br />
  (<a href="blog-3.gif" target="_blank">Open the image in a new window</a>)<!--_ -->
  <script type="text/javascript">
    var p3 = false;
    document.getElementById("img3b").onclick = function() {
      document.getElementById("img3b").src = 
        p3 ? "blog-3-still.gif" : document.getElementById("img3a").src;
      p3 = !p3;
    }
  </script>
</div>
<p>When you type <code>olympics.data</code>, you get a number of options including <code>group data</code>, <code>sort data</code>
and <code>paging</code> (the language uses single quote to escape long identifier names with whitespace) and
you can choose which operation to perform.</p>
<ol>
<li>
<p>We start with <code>group data</code>. The auto-complete next offers the different fields of the
data set that we can use as keys for grouping (because the type provider statically knows
what columns are available in the original CSV file that it is loading).</p>
</li>
<li>
<p>Once we choose the grouping key, we continue by adding aggregation operations. There is a
fixed set of aggregations available including <code>count distinct</code>, <code>sum</code>, <code>average</code> and a few
other. Again, the type provider offers those based on the known fields - and as a bonus,
it only lets us sum <em>numerical</em> columns.</p>
</li>
<li>
<p>Next, we sort the data. Here, the type provider calculates what column names will be available
after the aggregation, so we no longer see all the original columns (say, Team or Event),
but only those that actually make sense in the given context!</p>
</li>
</ol>
<p>The Pivot type provider is a step towards more safer and user friendly statically typed
data programming, but it also enables the automatic "options" button that generates editors for
modifying properties - because the code structure of aggregations written using the pivot provider
is very simple.</p>
<h2>Looking forward</h2>
<p>The Gamma project was awarded funding from the <a href="http://tomasp.net/blog/2016/thegamma-dni/">Digital News Innovation Fund</a>
and I will be working on it over the next year at the <a href="https://turing.ac.uk/">Alan Turing Institute</a>
in London, so you will certainly hear more about it again. Here is an assorted list of some
of the things that I'm thinking of for the near future:</p>
<ul>
<li>
<p><strong>More fun applications!</strong> Looking at the Olympic medals made for a nice start and I would like
to continue developing the project through practical applications. Do you have some interesting
data-driven story? Let me know at <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a> or
<a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a>.</p>
</li>
<li>
<p><strong>More spreadsheets, less programming.</strong> Writing data aggregations with the Pivot type provider
definitely makes programming easier, but I believe that we can do a lot more. What would it
take to make the programming experience in The Gamma feel a bit more like working with Excel?
(I think better automatically generated "options" and various ideas from live programming
are good inspiration.)</p>
</li>
<li>
<p><strong>Cleaning data sources.</strong> Another big task for The Gamma is making more data available via
type providers. For Olympics, I used a manually cleaned CSV file, so the data access was
easy, but ideally, you would like to extract data automatically from various online sources.
The <a href="http://fsharp.github.io/FSharp.Data/library/HtmlProvider.html">HTML type provider</a> does
some of this in F#, but could we automatically import, say, all data sets from
<a href="https://data.gov.uk/">data.gov.uk</a>?</p>
</li>
</ul>
<p>I believe that being able to explore and understand data is an essential skill in the modern world
and I hope that The Gamma project will pioneer some of the ways for making this easier. You should
not be a programmer to be able to extract facts that matter to you from the data around you.
The Olympic medalists visualization was an early attempt at this — to keep an eye on the future
developments, follow <a href="https://github.com/the-gamma">@the-gamma</a> on GitHub and
<a href="http://twitter.com/thegamma_net">@thegamma_net</a> (low-noise) or
<a href="http://twitter.com/tomaspetricek">@tomaspetricek</a> (more noise) on Twitter!</p>




        <div class="info">
        <p class="share">
            <a target="_blank" href="https://twitter.com/intent/tweet?url=http%3a%2f%2ftomasp.net%2fblog%2f2016%2fthegamma-olympic-medalists%2f&amp;text=The+Gamma+%e2%80%94+Visualizing+Olympic+Medalistsvia+%40tomaspetricek">
              <i class="fa fa-twitter-square"></i></a>
            <a target="_blank" href="https://www.facebook.com/sharer.php?u=http%3a%2f%2ftomasp.net%2fblog%2f2016%2fthegamma-olympic-medalists%2f">
              <i class="fa fa-facebook-official"></i></a>
            <a href="http://www.reddit.com/submit?url=http%3a%2f%2ftomasp.net%2fblog%2f2016%2fthegamma-olympic-medalists%2f&title=The+Gamma+%e2%80%94+Visualizing+Olympic+Medalists">
              <i class="fa fa-reddit-square"></i></a>
            <a href="mailto:?subject=The%20Gamma%20%e2%80%94%20Visualizing%20Olympic%20Medalists&body=%20%20Olympic%20Games%20are%20perfect%20opportunity%20to%20do%20a%20fun%20data%20visualization%20project%20-%20%0d%0ayou%20can%20easily%20predict%20when%20they%20will%20happen%20and%20you%20can%20get%20something%20interesting%20ready%0d%0ain%20advance.%20I%20used%20this%20year%27s%20Olympic%20Games%20in%20Rio%20as%20a%20motivation%20to%20resume%20working%20on%20The%0d%0aGamma%20project%2c%20which%20aims%20to%20build%20tooling%20for%20open%2c%20reproducible%20and%20interactive%0d%0adata-driven%20storytelling.%0a%0aSee%3a%20http%3a%2f%2ftomasp.net%2fblog%2f2016%2fthegamma-olympic-medalists%2f">
              <i class="fa fa-envelope"></i></a>
        </p>
        <p class="details">
          <strong>Published:</strong> Tuesday, 6 September 2016, 4:37 PM<br />
          <strong>Author:</strong> Tomas Petricek<br />
          <strong>Typos:</strong> <a href="http://github.com/tpetricek/tomasp.net">Send me pull request</a>!<br />
          <strong>Tags:</strong> <a
          href="/blog/tag/thegamma/">thegamma</a>, <a
          href="/blog/tag/data-journalism/">data journalism</a>, <a
          href="/blog/tag/programming-languages/">programming languages</a></span><br />
        </p>
        </div>
      </div>
    </div></div>
  </article>

  
  </div>
  <footer>
  <div class="container"><div class="row">
    <div class="col-sm-3">
      <h4>Contact &amp; about</h4>
      <p>This site is hosted on GitHub and is generated using <a href="https://github.com/tpetricek/FSharp.Formatting">F# Formatting</a>
        and <a href="http://dotliquidmarkup.org/">DotLiquid</a>.
        For more info, see the <a href="https://github.com/tpetricek/tomasp.net">website source on GitHub</a>.
      </p>
      <p>Please submit issues &amp; corrections on GitHub. Use pull requests for minor corrections only.</p>
      <ul>
        <li><i class="fa fa-twitter"></i> Twitter: <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a></li>
        <li><i class="fa fa-github"></i> GitHub: <a href="https://github.com/tpetricek">@tpetricek</a></li>
        <li><i class="fa fa-envelope"></i> Email me: <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a></li>
      </ul>
    </div>
    <div class="col-sm-7">
    <h4><a href="http://tomasp.net/rss.xml"><i class="fa fa-rss" style="margin-right:5px;"></i></a> Blog archives</h4>
      
      <a href="/blog/archive/january_2017/">January 2017 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2016/">October 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2016/">September 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/august_2016/">August 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2016/">July 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2016/">May 2016 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2016/">April 2016 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2015/">December 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2015/">November 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2015/">September 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2015/">July 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2015/">June 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2015/">May 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2015/">April 2015 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2015/">March 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2015/">February 2015 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2015/">January 2015 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2014/">December 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/may_2014/">May 2014 (3)</a>,&nbsp;
      
      <a href="/blog/archive/april_2014/">April 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2014/">March 2014 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2014/">January 2014 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2013/">December 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2013/">November 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2013/">October 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2013/">September 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2013/">August 2013 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2013/">May 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2013/">April 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2013/">March 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2013/">February 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/january_2013/">January 2013 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2012/">December 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/october_2012/">October 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2012/">August 2012 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2012/">June 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2012/">April 2012 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2012/">March 2012 (4)</a>,&nbsp;
      
      <a href="/blog/archive/february_2012/">February 2012 (5)</a>,&nbsp;
      
      <a href="/blog/archive/january_2012/">January 2012 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2011/">November 2011 (5)</a>,&nbsp;
      
      <a href="/blog/archive/august_2011/">August 2011 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2011/">July 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/june_2011/">June 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2011/">May 2011 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2011/">March 2011 (4)</a>,&nbsp;
      
      <a href="/blog/archive/december_2010/">December 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2010/">November 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2010/">October 2010 (6)</a>,&nbsp;
      
      <a href="/blog/archive/september_2010/">September 2010 (4)</a>,&nbsp;
      
      <a href="/blog/archive/july_2010/">July 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/june_2010/">June 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/may_2010/">May 2010 (1)</a>,&nbsp;
      
      <a href="/blog/archive/february_2010/">February 2010 (2)</a>,&nbsp;
      
      <a href="/blog/archive/january_2010/">January 2010 (3)</a>,&nbsp;
      
      <a href="/blog/archive/december_2009/">December 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/july_2009/">July 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2009/">June 2009 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2009/">May 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2009/">April 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2009/">March 2009 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2009/">February 2009 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2008/">December 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/november_2008/">November 2008 (5)</a>,&nbsp;
      
      <a href="/blog/archive/october_2008/">October 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2008/">September 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2008/">June 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/march_2008/">March 2008 (3)</a>,&nbsp;
      
      <a href="/blog/archive/february_2008/">February 2008 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2007/">December 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2007/">November 2007 (6)</a>,&nbsp;
      
      <a href="/blog/archive/october_2007/">October 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/september_2007/">September 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/august_2007/">August 2007 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2007/">July 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2007/">April 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/march_2007/">March 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/february_2007/">February 2007 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2007/">January 2007 (2)</a>,&nbsp;
      
      <a href="/blog/archive/november_2006/">November 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/october_2006/">October 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/august_2006/">August 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/july_2006/">July 2006 (1)</a>,&nbsp;
      
      <a href="/blog/archive/june_2006/">June 2006 (3)</a>,&nbsp;
      
      <a href="/blog/archive/may_2006/">May 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/april_2006/">April 2006 (2)</a>,&nbsp;
      
      <a href="/blog/archive/december_2005/">December 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/july_2005/">July 2005 (4)</a>,&nbsp;
      
      <a href="/blog/archive/june_2005/">June 2005 (5)</a>,&nbsp;
      
      <a href="/blog/archive/may_2005/">May 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/april_2005/">April 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/march_2005/">March 2005 (3)</a>,&nbsp;
      
      <a href="/blog/archive/january_2005/">January 2005 (1)</a>,&nbsp;
      
      <a href="/blog/archive/december_2004/">December 2004 (3)</a>,&nbsp;
      
      <a href="/blog/archive/november_2004/">November 2004 (2)</a>,&nbsp;
      
    </div>
    <div class="col-sm-2">
      <h4>License</h4>
      <p>Unless explicitly mentioned, all articles on this site are licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>.
        All source code samples are licensed under Apache 2.0.
      </p>
      <p style="text-align:center;margin-top:15px;"><img src="http://tomasp.net/img/cc-sa.png" alt="CC License logo" /></p>
    </div>
  </div></div>
  </footer>

  <!-- Third-party standard references -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
    integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/javascript" src="/custom/tooltips.js"></script>
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1561220-1']);
    _gaq.push(['_trackPageview']);
    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script type="text/javascript">
    var small = (window.innerWidth * window.innerHeight) < 500000;
    if (!small) {
      if ($("body").attr("class").trim() == "home") $('nav').affix({ offset: { top: $('header').outerHeight() }}); 
      else $('.top-panel').addClass("fixed");
    }
    var opened = false;
    function hideOrShow() {
      opened = !opened;
      $("#tomas").show(); 
      $(".tomas-fa").toggleClass("fa-caret-up");
      $(".tomas-fa").toggleClass("fa-caret-down");
      $("#tomas").css("max-height", $("#tomas").css("max-height")!="800px"?"800px":"0px");
      return false; 
    }
    $('.toggle-tomas').on("click", hideOrShow);
    window.onscroll = function() { if (opened) {
      if (!small) hideOrShow(); 
    } };
  </script>
</body>
</html>
